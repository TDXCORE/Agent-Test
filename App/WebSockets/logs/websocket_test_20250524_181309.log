2025-05-24 18:13:09.665 [    INFO] __main__: 🚀 INICIANDO SERVIDOR WEBSOCKET
2025-05-24 18:13:09.665 [    INFO] __main__: --------------------------------------------------
2025-05-24 18:13:09.672 [   DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:8000
2025-05-24 18:13:12.448 [   DEBUG] urllib3.connectionpool: http://localhost:8000 "GET /health-check HTTP/1.1" 200 453
2025-05-24 18:13:12.458 [    INFO] __main__: ✅ Servidor responde en 2792.2ms
2025-05-24 18:13:12.458 [    INFO] __main__: ✅ Servidor ya está ejecutándose
2025-05-24 18:13:12.460 [    INFO] __main__: 📊 Info del servidor: {
  "running": true,
  "response_time_ms": 2792.1876907348633,
  "status_code": 200,
  "process_info": null,
  "port_info": null
}
2025-05-24 18:13:17.462 [    INFO] __main__: 🧪 WEBSOCKET ENHANCED DEBUG TEST SUITE
2025-05-24 18:13:17.462 [    INFO] __main__: ================================================================================
2025-05-24 18:13:17.462 [    INFO] __main__: 🕐 Inicio: 2025-05-24 18:13:17
2025-05-24 18:13:17.463 [    INFO] __main__: 📁 Log file: App\WebSockets\logs\websocket_test_20250524_181309.log
2025-05-24 18:13:17.463 [    INFO] __main__: ================================================================================
2025-05-24 18:13:17.463 [    INFO] __main__: 🖥️  INFORMACIÓN DEL SISTEMA
2025-05-24 18:13:17.463 [    INFO] __main__: ================================================================================
2025-05-24 18:13:17.537 [    INFO] __main__: Sistema Operativo: Windows 10
2025-05-24 18:13:17.537 [    INFO] __main__: Arquitectura: AMD64
2025-05-24 18:13:17.538 [    INFO] __main__: Python: 3.11.4
2025-05-24 18:13:17.543 [    INFO] __main__: Memoria Total: 15.7 GB
2025-05-24 18:13:17.547 [    INFO] __main__: Memoria Disponible: 2.0 GB
2025-05-24 18:13:17.547 [    INFO] __main__: CPU Cores: 4
2025-05-24 18:13:17.548 [    INFO] __main__: CPU Uso: 67.8%
2025-05-24 18:13:17.549 [    INFO] __main__: Hostname: EC2AMAZ-9IGI8DN
2025-05-24 18:13:17.549 [    INFO] __main__: IP Local: 172.31.75.56
2025-05-24 18:13:17.550 [    INFO] __main__: ================================================================================
2025-05-24 18:13:17.550 [    INFO] __main__: 🔌 Intento de conexión WebSocket 1/3
2025-05-24 18:13:19.571 [   DEBUG] websockets.client: = connection is CONNECTING
2025-05-24 18:13:19.571 [   DEBUG] websockets.client: > GET /ws HTTP/1.1
2025-05-24 18:13:19.572 [   DEBUG] websockets.client: > Host: localhost:8000
2025-05-24 18:13:19.572 [   DEBUG] websockets.client: > Upgrade: websocket
2025-05-24 18:13:19.573 [   DEBUG] websockets.client: > Connection: Upgrade
2025-05-24 18:13:19.573 [   DEBUG] websockets.client: > Sec-WebSocket-Key: oabsRlikoslzGU15szCqWQ==
2025-05-24 18:13:19.573 [   DEBUG] websockets.client: > Sec-WebSocket-Version: 13
2025-05-24 18:13:19.574 [   DEBUG] websockets.client: > Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
2025-05-24 18:13:19.574 [   DEBUG] websockets.client: > User-Agent: Python/3.11 websockets/14.2
2025-05-24 18:13:19.577 [   DEBUG] websockets.client: < HTTP/1.1 101 Switching Protocols
2025-05-24 18:13:19.578 [   DEBUG] websockets.client: < Upgrade: websocket
2025-05-24 18:13:19.578 [   DEBUG] websockets.client: < Connection: Upgrade
2025-05-24 18:13:19.578 [   DEBUG] websockets.client: < Sec-WebSocket-Accept: SKoyt0RlEwU/Xtd5PPDE3VLsDu0=
2025-05-24 18:13:19.579 [   DEBUG] websockets.client: < Sec-WebSocket-Extensions: permessage-deflate
2025-05-24 18:13:19.579 [   DEBUG] websockets.client: < date: Sat, 24 May 2025 18:13:19 GMT
2025-05-24 18:13:19.579 [   DEBUG] websockets.client: < server: uvicorn
2025-05-24 18:13:19.579 [   DEBUG] websockets.client: = connection is OPEN
2025-05-24 18:13:19.596 [   DEBUG] websockets.client: < TEXT '{"type":"connected","id":"6cdee1b9-583e-409e-87...5-24T18:13:19.576663"}}' [183 bytes]
2025-05-24 18:13:19.598 [    INFO] __main__: ✅ Conexión WebSocket establecida en 2047.1ms
2025-05-24 18:13:19.600 [    INFO] __main__: 🔗 Estado de conexión: 1
2025-05-24 18:13:19.600 [    INFO] __main__: 📨 Mensaje de bienvenida recibido: {"type":"connected","id":"6cdee1b9-583e-409e-8777-0fe39e0d76f0","payload":{"client_id":"d9b41bfd-fb7...
2025-05-24 18:13:19.600 [    INFO] __main__: ✅ Conexión WebSocket establecida, iniciando pruebas...
2025-05-24 18:13:19.600 [    INFO] __main__: --------------------------------------------------------------------------------
2025-05-24 18:13:19.600 [    INFO] __main__: 👥 === TESTING USERS HANDLER (ENHANCED) ===
2025-05-24 18:13:19.601 [    INFO] __main__: 🧪 INICIANDO PRUEBA: users.get_all_users
2025-05-24 18:13:19.601 [    INFO] __main__: 📋 ID de prueba: 18bd45a8-c877-4c4b-b0df-f333ea3346dc
2025-05-24 18:13:19.601 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:19.601467
2025-05-24 18:13:19.602 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "18bd45a8-c877-4c4b-b0df-f333ea3346dc",
  "resource": "users",
  "payload": {
    "action": "get_all_users"
  }
}
2025-05-24 18:13:19.602 [    INFO] __main__: 📊 Request size: 144 bytes
2025-05-24 18:13:19.602 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:19.607 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "18bd45a8-c877..."get_all_users"\n  }\n}' [144 bytes]
2025-05-24 18:13:19.620 [    INFO] __main__: 📤 Mensaje enviado en 13.1ms
2025-05-24 18:13:19.686 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"18bd45a8-c877-4c4b-b0d...6+00:00"}],"total":80}}' [15310 bytes]
2025-05-24 18:13:19.688 [    INFO] __main__: 📥 Respuesta recibida en 65.7ms
2025-05-24 18:13:19.688 [    INFO] __main__: ⏱️ Tiempo total: 81.0ms
2025-05-24 18:13:19.689 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "18bd45a8-c877-4c4b-b0df-f333ea3346dc",
  "payload": {
    "users": [
      {
        "id": "db0f337e-9802-4ea2-b29d-321851472d6d",
        "full_name": "Usuario 573153041548",
        "phone": "573153041548",
        "email": null,
        "company": null,
        "created_at": "2025-05-09T20:39:31.461435+00:00"
      },
      {
        "id": "dba1ff30-7aea-4b52-a09b-88bd7221f016",
        "full_name": "Freddy Rincones",
        "phone": "3153041548",
        "email": "freddy.rincones@tdxcore.com",
        "company": "Empresa TDX",
        "created_at": "2025-05-09T20:51:51.067746+00:00"
      },
      {
        "id": "92394372-1cb1-486d-a59f-97ebfc8f7d54",
        "full_name": "Usuario 50254372329",
        "phone": "50254372329",
        "email": null,
        "company": null,
        "created_at": "2025-05-09T20:53:54.972549+00:00"
      },
      {
        "id": "571eb8ab-e94f-45f5-b3b1-d27ef4d9dc0c",
        "full_name": "Usuario 50241409823",
        "phone": "50241409823",
        "email": null,
        "company": null,
        "created_at": "2025-05-10T01:57:58.303717+00:00"
      },
      {
        "id": "389e1d4b-bec9-4cbe-9420-fbb51f9fafab",
        "full_name": "\u00d3scar Manuel Maldonado Castillo",
        "phone": "41409823",
        "email": "Oskar0186@gmail.com",
        "company": "Empresa lee sol",
        "created_at": "2025-05-10T02:00:08.83164+00:00"
      },
      {
        "id": "34adfb73-469b-4e46-bcbd-2a87aa4b3793",
        "full_name": "Usuario 50250191911",
        "phone": "50250191911",
        "email": null,
        "company": null,
        "created_at": "2025-05-10T02:01:28.446068+00:00"
      },
      {
        "id": "dd2f86d6-488a-4c70-aaa7-a483d28b6ab7",
        "full_name": "Julio G\u00f3mez Aldana",
        "phone": "50191911",
        "email": "julio.gomez.aldana09@gmail.com",
        "company": "Mover\u00e9",
        "created_at": "2025-05-10T02:02:45.255853+00:00"
      },
      {
        "id": "79163a60-fa5b-443d-9f71-76ed33694a2f",
        "full_name": "Usuario 573007466744",
        "phone": "573007466744",
        "email": null,
        "company": null,
        "created_at": "2025-05-10T12:52:00.587707+00:00"
      },
      {
        "id": "7b875ad9-febb-486f-ba7a-14680548d418",
        "full_name": "Laura Mart\u00ednez",
        "phone": "3007466744",
        "email": "Laura.martinez@tdxcore.com",
        "company": "TDX",
        "created_at": "2025-05-10T12:54:55.802141+00:00"
      },
      {
        "id": "8c72f321-560d-49c1-8580-ad3253e72750",
        "full_name": "Emma Castillo",
        "phone": "54372329",
        "email": "eamc081908@gmail.com",
        "company": "Zapatoloco",
        "created_at": "2025-05-10T16:35:05.389623+00:00"
      },
      {
        "id": "9f2a9d3e-1862-45fc-a437-b19e838470f4",
        "full_name": "Usuario 573204170057",
        "phone": "573204170057",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T20:30:08.893418+00:00"
      },
      {
        "id": "e79e028b-dae3-4ae2-980c-d4b0505c12ba",
        "full_name": "Usuario 573015436628",
        "phone": "573015436628",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T21:43:36.258014+00:00"
      },
      {
        "id": "ca228c4a-3bcc-4787-8bdc-1b4073cb9ff1",
        "full_name": "Usuario Prueba e06e21fd-a2c7-4e82-9231-00acd406807b",
        "phone": "+1acd406807b",
        "email": "test_e06e21fd-a2c7-4e82-9231-00acd406807b@example.com",
        "company": "Empresa de Prueba",
        "created_at": "2025-05-13T19:13:11.629886+00:00"
      },
      {
        "id": "0123b138-081d-481e-8608-58891c1509df",
        "full_name": "Usuario Prueba bc74fa6e-a93b-469f-a0c6-286670f706a1",
        "phone": "+16670f706a1",
        "email": "test_bc74fa6e-a93b-469f-a0c6-286670f706a1@example.com",
        "company": "Empresa de Prueba",
        "created_at": "2025-05-13T19:13:16.480556+00:00"
      },
      {
        "id": "f4820f38-cac3-44b0-ac4a-9551acd2e741",
        "full_name": "Usuario 573146413792",
        "phone": "573146413792",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T22:03:32.875401+00:00"
      },
      {
        "id": "c17f694f-fa72-4038-98e9-13e8a344c3e1",
        "full_name": "Usuario Prueba 4edea5f5-8e57-4fb3-9a1f-68ffa9d5503c",
        "phone": "+1ffa9d5503c",
        "email": "test_4edea5f5-8e57-4fb3-9a1f-68ffa9d5503c@example.com",
        "company": "Empresa de Prueba",
        "created_at": "2025-05-13T19:13:27.615609+00:00"
      },
      {
        "id": "12d3dfb8-6381-407c-91fe-4bc1d5305e60",
        "full_name": "Usuario Prueba 0bdbcf6f-3128-4817-9ee9-f8322520d6cb",
        "phone": "+1322520d6cb",
        "email": "test_0bdbcf6f-3128-4817-9ee9-f8322520d6cb@example.com",
        "company": "Empresa de Prueba",
        "created_at": "2025-05-13T19:37:17.36787+00:00"
      },
      {
        "id": "583cd038-ca1a-4dd8-a929-b44e388cf329",
        "full_name": "Usuario Prueba 6ff6a4ce-db45-4d7d-ba01-ab870ffe0d16",
        "phone": "+1870ffe0d16",
        "email": "test_6ff6a4ce-db45-4d7d-ba01-ab870ffe0d16@example.com",
        "company": "Empresa de Prueba",
        "created_at": "2025-05-13T19:56:04.164634+00:00"
      },
      {
        "id": "893301d6-fd50-4e11-8a71-05aef12a6810",
        "full_name": "Usuario Prueba c223a450-701d-44c2-8714-e2d4bed8d2fb",
        "phone": "+1d4bed8d2fb",
        "email": "test_c223a450-701d-44c2-8714-e2d4bed8d2fb@example.com",
        "company": "Empresa de Prueba",
        "created_at": "2025-05-13T19:57:15.120826+00:00"
      },
      {
        "id": "40099dfe-85a9-4ed3-a385-d49335cc09e4",
        "full_name": "Usuario 212613736256",
        "phone": "212613736256",
        "email": null,
        "company": null,
        "created_at": "2025-05-18T09:55:26.66364+00:00"
      },
      {
        "id": "443dd7b1-2325-42f2-aeb6-588ff2c73777",
        "full_name": "Usuario 213663266192",
        "phone": "213663266192",
        "email": null,
        "company": null,
        "created_at": "2025-05-18T12:45:17.955956+00:00"
      },
      {
        "id": "e4d5bc85-02a5-4698-ad1f-6e6d9c86181c",
        "full_name": "Usuario 2203657477",
        "phone": "2203657477",
        "email": null,
        "company": null,
        "created_at": "2025-05-18T18:33:54.69853+00:00"
      },
      {
        "id": "08968bd1-2df4-4705-b7fe-e3c31499de66",
        "full_name": "Usuario 212713886457",
        "phone": "212713886457",
        "email": null,
        "company": null,
        "created_at": "2025-05-18T21:17:03.859011+00:00"
      },
      {
        "id": "7690daf9-f6d2-4176-ada6-83a3deda22c6",
        "full_name": "Usuario 573015297999",
        "phone": "573015297999",
        "email": null,
        "company": null,
        "created_at": "2025-05-19T16:56:35.374915+00:00"
      },
      {
        "id": "9b9a2b33-cfb2-4943-a88f-6945581255b7",
        "full_name": "Usuario 34610909468",
        "phone": "34610909468",
        "email": null,
        "company": null,
        "created_at": "2025-05-19T17:24:52.813975+00:00"
      },
      {
        "id": "e39f67e7-719d-4569-a367-5bbf9dbc3f87",
        "full_name": "Usuario 573176542560",
        "phone": "573176542560",
        "email": null,
        "company": null,
        "created_at": "2025-05-19T21:20:45.789783+00:00"
      },
      {
        "id": "f56d9d43-b3c0-4092-b866-cd71b3dfaebb",
        "full_name": "Usuario 573127557630",
        "phone": "573127557630",
        "email": null,
        "company": null,
        "created_at": "2025-05-19T23:06:22.895234+00:00"
      },
      {
        "id": "4b8ee3fd-e96c-420b-89cf-dd2237de73f6",
        "full_name": "Usuario 573166035127",
        "phone": "573166035127",
        "email": null,
        "company": null,
        "created_at": "2025-05-19T23:37:43.333436+00:00"
      },
      {
        "id": "6be57666-b5d0-47ea-a8d5-a51cd4f84f44",
        "full_name": "Usuario 573245006942",
        "phone": "573245006942",
        "email": null,
        "company": null,
        "created_at": "2025-05-20T05:06:29.242186+00:00"
      },
      {
        "id": "0bfdef6b-1745-4572-97f6-e2958f700f67",
        "full_name": "Usuario 573103253788",
        "phone": "573103253788",
        "email": null,
        "company": null,
        "created_at": "2025-05-20T13:59:14.992525+00:00"
      },
      {
        "id": "9918d575-9c4a-48ca-ac75-78df46c0b3b3",
        "full_name": "Usuario 573045328385",
        "phone": "573045328385",
        "email": null,
        "company": null,
        "created_at": "2025-05-20T16:07:42.91631+00:00"
      },
      {
        "id": "d852da00-64ea-4939-bb4c-cb6753929ae8",
        "full_name": "Usuario 573215316267",
        "phone": "573215316267",
        "email": null,
        "company": null,
        "created_at": "2025-05-20T20:19:23.272846+00:00"
      },
      {
        "id": "aafdd0d4-cc8d-495a-92f6-a7c9bdf85790",
        "full_name": "Usuario 967739379299",
        "phone": "967739379299",
        "email": null,
        "company": null,
        "created_at": "2025-05-20T21:02:07.363687+00:00"
      },
      {
        "id": "5af8d9e6-402d-486f-ab13-762c6670806a",
        "full_name": "Usuario 573104037140",
        "phone": "573104037140",
        "email": null,
        "company": null,
        "created_at": "2025-05-20T23:30:11.36113+00:00"
      },
      {
        "id": "9bc79f7b-542e-4d71-85ad-e30d1f44df22",
        "full_name": "Usuario 573186613709",
        "phone": "573186613709",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T00:31:00.379295+00:00"
      },
      {
        "id": "83186e05-0ceb-4ded-bb77-af762e6b11c5",
        "full_name": "Usuario 573008406150",
        "phone": "573008406150",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T00:40:18.317289+00:00"
      },
      {
        "id": "ca099ef1-1ed6-4d48-b76c-ea6a6dd75cbb",
        "full_name": "Usuario 573127371141",
        "phone": "573127371141",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T01:26:59.692856+00:00"
      },
      {
        "id": "5dd99f73-5973-4977-93a1-0e0a151c1bfe",
        "full_name": "Usuario 573207916361",
        "phone": "573207916361",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T01:31:05.58012+00:00"
      },
      {
        "id": "87acd942-8740-47a7-a4da-f9b3b1f726d9",
        "full_name": "Usuario 573043919891",
        "phone": "573043919891",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T02:31:34.037835+00:00"
      },
      {
        "id": "9a0ac39f-739c-40cf-8978-996c5052659a",
        "full_name": "Usuario 573118203046",
        "phone": "573118203046",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T03:45:31.148042+00:00"
      },
      {
        "id": "b9d73620-b39b-419e-98d1-a229e5b1ff9a",
        "full_name": "Usuario 573206137222",
        "phone": "573206137222",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T03:50:39.985636+00:00"
      },
      {
        "id": "d7192c9a-2635-479c-9ca8-a2f392a40a75",
        "full_name": "Usuario 917905671138",
        "phone": "917905671138",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T04:36:10.396345+00:00"
      },
      {
        "id": "80e3b99c-fd0d-4bc8-ac41-2356c48e2035",
        "full_name": "Usuario 573018287524",
        "phone": "573018287524",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T04:50:49.280097+00:00"
      },
      {
        "id": "84a89548-7d74-4039-969d-bd2b48958812",
        "full_name": "Freddy",
        "phone": "36363535252",
        "email": "Ffff@ffff.com",
        "company": "Empresa yyyy",
        "created_at": "2025-05-21T05:12:00.021422+00:00"
      },
      {
        "id": "9a01ffa0-869c-4575-9fb1-bec5f7a266c4",
        "full_name": "Usuario 573113934041",
        "phone": "573113934041",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T05:18:36.475758+00:00"
      },
      {
        "id": "fcce451b-6ecf-48ce-9c05-3a4a65b8d524",
        "full_name": "Usuario 573214035494",
        "phone": "573214035494",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T07:24:43.215095+00:00"
      },
      {
        "id": "6fb0a48b-fde3-496e-b668-5be5629f3b5a",
        "full_name": "Usuario 573005010715",
        "phone": "573005010715",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T14:11:44.003719+00:00"
      },
      {
        "id": "7ce1ec2b-75e0-436d-a6d6-69ef7c6ecb70",
        "full_name": "Mauricio Casta\u00f1eda",
        "phone": "3005010715",
        "email": "manufacturasalamasas@gmail.com",
        "company": "Manufacturas Slama SAS",
        "created_at": "2025-05-21T14:29:45.30215+00:00"
      },
      {
        "id": "f8275ddd-0e5a-4818-9c3a-523a86485b6a",
        "full_name": "Usuario 573007599502",
        "phone": "573007599502",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T17:38:46.320342+00:00"
      },
      {
        "id": "c02202f2-f6c2-48fe-bb13-033c8d628349",
        "full_name": "Usuario 573107873476",
        "phone": "573107873476",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T19:19:53.574417+00:00"
      },
      {
        "id": "4cb4fc8d-4d51-4414-a189-e97b911c240f",
        "full_name": "Usuario 573164749162",
        "phone": "573164749162",
        "email": null,
        "company": null,
        "created_at": "2025-05-21T19:41:31.340472+00:00"
      },
      {
        "id": "b23cc528-e53e-4d2a-a2d1-123894d8dc81",
        "full_name": "Carlos \u00c1lvarez",
        "phone": "3164749162",
        "email": "omartito7623@gmail.com",
        "company": "la chompa de coco",
        "created_at": "2025-05-21T19:44:48.645006+00:00"
      },
      {
        "id": "7588910b-9d4c-4e1d-8f1d-dd9a7de2b625",
        "full_name": "Usuario 573212897455",
        "phone": "573212897455",
        "email": null,
        "company": null,
        "created_at": "2025-05-22T00:47:10.990531+00:00"
      },
      {
        "id": "45eadd96-91f2-4a22-bac1-aaa202a7e9d5",
        "full_name": "Usuario 573126827061",
        "phone": "573126827061",
        "email": null,
        "company": null,
        "created_at": "2025-05-22T03:05:09.512619+00:00"
      },
      {
        "id": "dc440e4e-57eb-4654-84cd-e4b5013dfa30",
        "full_name": "Usuario 573159603814",
        "phone": "573159603814",
        "email": null,
        "company": null,
        "created_at": "2025-05-22T08:30:19.707834+00:00"
      },
      {
        "id": "f20bfa58-d517-4658-9e66-2f537ada1767",
        "full_name": "Usuario 573024234302",
        "phone": "573024234302",
        "email": null,
        "company": null,
        "created_at": "2025-05-22T09:47:15.634002+00:00"
      },
      {
        "id": "fc074020-0575-490e-9289-ff77642513e1",
        "full_name": "Usuario 573138612975",
        "phone": "573138612975",
        "email": null,
        "company": null,
        "created_at": "2025-05-22T10:51:05.095793+00:00"
      },
      {
        "id": "c88c398b-ad6c-4e41-b0f0-0533c1c05f81",
        "full_name": "Usuario 573103515786",
        "phone": "573103515786",
        "email": null,
        "company": null,
        "created_at": "2025-05-22T11:35:16.54824+00:00"
      },
      {
        "id": "3f1e57cf-bb0c-4201-9160-b85ccdab101c",
        "full_name": "Usuario 573117540160",
        "phone": "573117540160",
        "email": null,
        "company": null,
        "created_at": "2025-05-22T18:40:40.231763+00:00"
      },
      {
        "id": "125238e3-74c9-4318-980c-fb25f3d09679",
        "full_name": "Usuario de Prueba WebSocket",
        "phone": "+573154957",
        "email": "test_1747944957@example.com",
        "company": "Empresa de Prueba",
        "created_at": "2025-05-22T20:15:58.78296+00:00"
      },
      {
        "id": "3c8788aa-7182-480d-b888-0053de834b46",
        "full_name": "Usuario 573133756714",
        "phone": "573133756714",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T00:31:18.412736+00:00"
      },
      {
        "id": "8f27d4d2-b3fb-4df7-a526-7378eb58e83f",
        "full_name": "Usuario 573202016464",
        "phone": "573202016464",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T00:33:08.936074+00:00"
      },
      {
        "id": "c838a59b-a79a-490c-ae6f-3afff785929b",
        "full_name": "Usuario 573233237212",
        "phone": "573233237212",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T00:43:00.730435+00:00"
      },
      {
        "id": "65e7e9c8-ecee-46c7-ac6a-cfd992a790c5",
        "full_name": "Usuario 573117028933",
        "phone": "573117028933",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T01:04:53.517712+00:00"
      },
      {
        "id": "7b62cc85-bef1-47bf-8df4-9dddf688e479",
        "full_name": "Usuario 573116106284",
        "phone": "573116106284",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T01:23:55.594891+00:00"
      },
      {
        "id": "5879ec5d-c929-449e-b5fc-0e64af6aac61",
        "full_name": "Usuario 919622551040",
        "phone": "919622551040",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T07:40:52.288392+00:00"
      },
      {
        "id": "a7473dc2-0491-4883-9405-1c67fa7910e4",
        "full_name": "Usuario 2693209627",
        "phone": "2693209627",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T12:03:54.832742+00:00"
      },
      {
        "id": "072ee697-1483-42b6-b191-7858e51716bf",
        "full_name": "Usuario 573114201848",
        "phone": "573114201848",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T13:25:36.181764+00:00"
      },
      {
        "id": "9503c942-0d69-4c69-a273-a4c8c5593484",
        "full_name": "Usuario 573132709811",
        "phone": "573132709811",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T16:46:51.469256+00:00"
      },
      {
        "id": "22fc4433-6060-40fd-aec6-8d527d60a490",
        "full_name": "Usuario 573114128341",
        "phone": "573114128341",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T19:39:14.415583+00:00"
      },
      {
        "id": "a43611a2-fbc0-49a0-a1f5-019e83c991c4",
        "full_name": "Usuario 573242983767",
        "phone": "573242983767",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T20:51:53.797656+00:00"
      },
      {
        "id": "efc1ab41-753b-4e7b-838e-2c19e3622b41",
        "full_name": "Usuario 573223417451",
        "phone": "573223417451",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T22:27:28.910441+00:00"
      },
      {
        "id": "6d8ac1c7-dcc2-4770-a1ee-94b1ffbd3953",
        "full_name": "Usuario 573159948155",
        "phone": "573159948155",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T22:31:56.18311+00:00"
      },
      {
        "id": "8b0a21be-bb85-47b5-aad0-a9bf7bb4c335",
        "full_name": "Usuario 573136264546",
        "phone": "573136264546",
        "email": null,
        "company": null,
        "created_at": "2025-05-23T23:26:46.453462+00:00"
      },
      {
        "id": "68f005b5-6b1b-424a-b1fc-83eb2a9a19b5",
        "full_name": "Usuario 573122125881",
        "phone": "573122125881",
        "email": null,
        "company": null,
        "created_at": "2025-05-24T02:08:55.457709+00:00"
      },
      {
        "id": "5b784be4-9d34-4c92-ad06-90134373f854",
        "full_name": "Usuario 573215673467",
        "phone": "573215673467",
        "email": null,
        "company": null,
        "created_at": "2025-05-24T02:46:45.207454+00:00"
      },
      {
        "id": "0c2821da-4736-44e2-b010-66199e5b8d35",
        "full_name": "Usuario 573134323696",
        "phone": "573134323696",
        "email": null,
        "company": null,
        "created_at": "2025-05-24T03:16:12.876288+00:00"
      },
      {
        "id": "a4475029-7345-499c-b783-3b12c098665e",
        "full_name": "Usuario 573146744229",
        "phone": "573146744229",
        "email": null,
        "company": null,
        "created_at": "2025-05-24T03:33:45.154868+00:00"
      },
      {
        "id": "ccc8bd8a-b09d-4c1a-adc9-b0e26e60e951",
        "full_name": "Usuario 573151170999",
        "phone": "573151170999",
        "email": null,
        "company": null,
        "created_at": "2025-05-24T12:30:09.195048+00:00"
      },
      {
        "id": "d970d4a5-08ff-4aaf-a93a-e7ea837584a7",
        "full_name": "Usuario Test",
        "phone": "+1234567890",
        "email": "test@test.com",
        "company": "Test Corp",
        "created_at": "2025-05-24T17:49:19.946656+00:00"
      }
    ],
    "total": 80
  }
}
2025-05-24 18:13:19.693 [    INFO] __main__: 📊 Response size: 15310 bytes
2025-05-24 18:13:19.696 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:19.697 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:19.718 [    INFO] __main__: 📈 Records processed: 80
2025-05-24 18:13:19.720 [    INFO] __main__: ✅ get_all_users - 81.0ms - Score: 100.0%
2025-05-24 18:13:19.720 [    INFO] __main__: 🧪 INICIANDO PRUEBA: users.create_user
2025-05-24 18:13:19.721 [    INFO] __main__: 📋 ID de prueba: c93173a0-34c4-4488-9b25-6c1e90056075
2025-05-24 18:13:19.721 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:19.720349
2025-05-24 18:13:19.721 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "c93173a0-34c4-4488-9b25-6c1e90056075",
  "resource": "users",
  "payload": {
    "action": "create_user",
    "user": {
      "full_name": "Usuario Test Enhanced 181319",
      "email": "test_enhanced_1748110399@test.com",
      "phone": "+11748110399",
      "company": "Enhanced Test Corp"
    }
  }
}
2025-05-24 18:13:19.721 [    INFO] __main__: 📊 Request size: 335 bytes
2025-05-24 18:13:19.722 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'user']
2025-05-24 18:13:19.725 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "c93173a0-34c4...st Corp"\n    }\n  }\n}' [335 bytes]
2025-05-24 18:13:19.726 [    INFO] __main__: 📤 Mensaje enviado en 0.5ms
2025-05-24 18:13:19.785 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"c93173a0-34c4-4488-9b2...:13:19.754468+00:00"}}}' [365 bytes]
2025-05-24 18:13:19.786 [    INFO] __main__: 📥 Respuesta recibida en 60.1ms
2025-05-24 18:13:19.786 [    INFO] __main__: ⏱️ Tiempo total: 60.6ms
2025-05-24 18:13:19.786 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "c93173a0-34c4-4488-9b25-6c1e90056075",
  "payload": {
    "user": {
      "id": "920df89d-2520-458c-9911-207b33550846",
      "phone": "+11748110399",
      "email": "test_enhanced_1748110399@test.com",
      "full_name": "Usuario Test Enhanced 181319",
      "company": "Enhanced Test Corp",
      "created_at": "2025-05-24T18:13:19.754468+00:00",
      "updated_at": "2025-05-24T18:13:19.754468+00:00"
    }
  }
}
2025-05-24 18:13:19.787 [    INFO] __main__: 📊 Response size: 365 bytes
2025-05-24 18:13:19.798 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:19.814 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:19.815 [    INFO] __main__: 📈 Records processed: 1
2025-05-24 18:13:19.816 [    INFO] __main__: ✅ create_user - 60.6ms - Score: 100.0%
2025-05-24 18:13:19.817 [    INFO] __main__: 🧪 INICIANDO PRUEBA: users.get_user_by_id
2025-05-24 18:13:19.817 [    INFO] __main__: 📋 ID de prueba: 5d34611f-edec-4a25-9f17-6553da5c785f
2025-05-24 18:13:19.818 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:19.816885
2025-05-24 18:13:19.818 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "5d34611f-edec-4a25-9f17-6553da5c785f",
  "resource": "users",
  "payload": {
    "action": "get_user_by_id",
    "user_id": "cc3733c4-c668-4fa0-b5cf-b6908770b488"
  }
}
2025-05-24 18:13:19.819 [    INFO] __main__: 📊 Request size: 200 bytes
2025-05-24 18:13:19.819 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'user_id']
2025-05-24 18:13:19.824 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "5d34611f-edec...f-b6908770b488"\n  }\n}' [200 bytes]
2025-05-24 18:13:19.831 [    INFO] __main__: 📤 Mensaje enviado en 7.7ms
2025-05-24 18:13:19.876 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"5d34611f-edec-4a25-9f17-6...trado","details":null}}' [195 bytes]
2025-05-24 18:13:19.876 [    INFO] __main__: 📥 Respuesta recibida en 43.6ms
2025-05-24 18:13:19.877 [    INFO] __main__: ⏱️ Tiempo total: 53.2ms
2025-05-24 18:13:19.877 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "5d34611f-edec-4a25-9f17-6553da5c785f",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n get_user_by_id: Usuario no encontrado",
    "details": null
  }
}
2025-05-24 18:13:19.877 [    INFO] __main__: 📊 Response size: 195 bytes
2025-05-24 18:13:19.882 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:19.883 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:19.883 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:19.884 [    INFO] __main__: ❌ get_user_by_id - 53.2ms - Score: 0.0%
2025-05-24 18:13:19.884 [    INFO] __main__: 🧪 INICIANDO PRUEBA: users.update_user
2025-05-24 18:13:19.885 [    INFO] __main__: 📋 ID de prueba: f74fc40e-4372-4cdf-b347-31204196fa41
2025-05-24 18:13:19.885 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:19.884862
2025-05-24 18:13:19.885 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "f74fc40e-4372-4cdf-b347-31204196fa41",
  "resource": "users",
  "payload": {
    "action": "update_user",
    "user_id": "cc3733c4-c668-4fa0-b5cf-b6908770b488",
    "user": {
      "full_name": "Usuario Actualizado Enhanced"
    }
  }
}
2025-05-24 18:13:19.903 [    INFO] __main__: 📊 Request size: 268 bytes
2025-05-24 18:13:19.904 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'user_id', 'user']
2025-05-24 18:13:19.907 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "f74fc40e-4372...nhanced"\n    }\n  }\n}' [268 bytes]
2025-05-24 18:13:19.908 [    INFO] __main__: 📤 Mensaje enviado en 1.0ms
2025-05-24 18:13:19.963 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"f74fc40e-4372-4cdf-b347-3...0b488","details":null}}' [230 bytes]
2025-05-24 18:13:19.966 [    INFO] __main__: 📥 Respuesta recibida en 55.4ms
2025-05-24 18:13:19.967 [    INFO] __main__: ⏱️ Tiempo total: 58.9ms
2025-05-24 18:13:19.968 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "f74fc40e-4372-4cdf-b347-31204196fa41",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n update_user: Usuario no encontrado: cc3733c4-c668-4fa0-b5cf-b6908770b488",
    "details": null
  }
}
2025-05-24 18:13:19.968 [    INFO] __main__: 📊 Response size: 230 bytes
2025-05-24 18:13:19.972 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:19.973 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:19.974 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:19.974 [    INFO] __main__: ❌ update_user - 58.9ms - Score: 0.0%
2025-05-24 18:13:19.974 [    INFO] __main__: 🧪 INICIANDO PRUEBA: users.delete_user
2025-05-24 18:13:19.975 [    INFO] __main__: 📋 ID de prueba: c4f2b78d-523a-4eea-92ac-2a074f37c213
2025-05-24 18:13:19.975 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:19.974887
2025-05-24 18:13:19.975 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "c4f2b78d-523a-4eea-92ac-2a074f37c213",
  "resource": "users",
  "payload": {
    "action": "delete_user",
    "user_id": "cc3733c4-c668-4fa0-b5cf-b6908770b488"
  }
}
2025-05-24 18:13:19.976 [    INFO] __main__: 📊 Request size: 197 bytes
2025-05-24 18:13:19.976 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'user_id']
2025-05-24 18:13:19.991 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "c4f2b78d-523a...f-b6908770b488"\n  }\n}' [197 bytes]
2025-05-24 18:13:20.001 [    INFO] __main__: 📤 Mensaje enviado en 10.6ms
2025-05-24 18:13:20.041 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"c4f2b78d-523a-4eea-92ac-2...0b488","details":null}}' [230 bytes]
2025-05-24 18:13:20.041 [    INFO] __main__: 📥 Respuesta recibida en 39.7ms
2025-05-24 18:13:20.041 [    INFO] __main__: ⏱️ Tiempo total: 51.3ms
2025-05-24 18:13:20.053 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "c4f2b78d-523a-4eea-92ac-2a074f37c213",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n delete_user: Usuario no encontrado: cc3733c4-c668-4fa0-b5cf-b6908770b488",
    "details": null
  }
}
2025-05-24 18:13:20.054 [    INFO] __main__: 📊 Response size: 230 bytes
2025-05-24 18:13:20.059 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:20.059 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:20.060 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:20.060 [    INFO] __main__: ❌ delete_user - 51.3ms - Score: 0.0%
2025-05-24 18:13:20.060 [    INFO] __main__: 👥 Users Handler testing completed

2025-05-24 18:13:20.060 [    INFO] __main__: 💬 === TESTING CONVERSATIONS HANDLER (ENHANCED) ===
2025-05-24 18:13:20.061 [    INFO] __main__: 🧪 INICIANDO PRUEBA: conversations.get_all_conversations
2025-05-24 18:13:20.061 [    INFO] __main__: 📋 ID de prueba: 95d365b3-3597-481f-843c-84e6b4221099
2025-05-24 18:13:20.061 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.061142
2025-05-24 18:13:20.061 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "95d365b3-3597-481f-843c-84e6b4221099",
  "resource": "conversations",
  "payload": {
    "action": "get_all_conversations",
    "user_id": "c9c74156-68c9-44de-b008-41d89bd56311"
  }
}
2025-05-24 18:13:20.061 [    INFO] __main__: 📊 Request size: 215 bytes
2025-05-24 18:13:20.062 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'user_id']
2025-05-24 18:13:20.067 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "95d365b3-3597...8-41d89bd56311"\n  }\n}' [215 bytes]
2025-05-24 18:13:20.067 [    INFO] __main__: 📤 Mensaje enviado en 0.0ms
2025-05-24 18:13:20.105 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"95d365b3-3597-481f-843c-8...56311","details":null}}' [240 bytes]
2025-05-24 18:13:20.125 [    INFO] __main__: 📥 Respuesta recibida en 56.9ms
2025-05-24 18:13:20.126 [    INFO] __main__: ⏱️ Tiempo total: 57.9ms
2025-05-24 18:13:20.126 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "95d365b3-3597-481f-843c-84e6b4221099",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n get_all_conversations: Usuario no encontrado: c9c74156-68c9-44de-b008-41d89bd56311",
    "details": null
  }
}
2025-05-24 18:13:20.127 [    INFO] __main__: 📊 Response size: 240 bytes
2025-05-24 18:13:20.132 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:20.132 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:20.132 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:20.133 [    INFO] __main__: ❌ get_all_conversations - 57.9ms - Score: 0.0%
2025-05-24 18:13:20.133 [    INFO] __main__: 🧪 INICIANDO PRUEBA: conversations.create_conversation
2025-05-24 18:13:20.133 [    INFO] __main__: 📋 ID de prueba: 07214519-8081-4777-91c5-8c9969b80bb9
2025-05-24 18:13:20.133 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.133440
2025-05-24 18:13:20.134 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "07214519-8081-4777-91c5-8c9969b80bb9",
  "resource": "conversations",
  "payload": {
    "action": "create_conversation",
    "user_id": "c9c74156-68c9-44de-b008-41d89bd56311",
    "external_id": "+11748110400",
    "platform": "whatsapp"
  }
}
2025-05-24 18:13:20.134 [    INFO] __main__: 📊 Request size: 276 bytes
2025-05-24 18:13:20.134 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'user_id', 'external_id', 'platform']
2025-05-24 18:13:20.143 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "07214519-8081...rm": "whatsapp"\n  }\n}' [276 bytes]
2025-05-24 18:13:20.144 [    INFO] __main__: 📤 Mensaje enviado en 0.0ms
2025-05-24 18:13:20.309 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"07214519-8081-4777-91c5-8...\"\'}","details":null}}' [433 bytes]
2025-05-24 18:13:20.310 [    INFO] __main__: 📥 Respuesta recibida en 156.9ms
2025-05-24 18:13:20.310 [    INFO] __main__: ⏱️ Tiempo total: 167.3ms
2025-05-24 18:13:20.310 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "07214519-8081-4777-91c5-8c9969b80bb9",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n create_conversation: {'code': '23503', 'details': 'Key (user_id)=(c9c74156-68c9-44de-b008-41d89bd56311) is not present in table \"users\".', 'hint': None, 'message': 'insert or update on table \"conversations\" violates foreign key constraint \"conversations_user_id_fkey\"'}",
    "details": null
  }
}
2025-05-24 18:13:20.311 [    INFO] __main__: 📊 Response size: 433 bytes
2025-05-24 18:13:20.314 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:20.315 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:20.316 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:20.317 [    INFO] __main__: ❌ create_conversation - 167.3ms - Score: 0.0%
2025-05-24 18:13:20.317 [    INFO] __main__: 🧪 INICIANDO PRUEBA: conversations.get_conversation_by_id
2025-05-24 18:13:20.317 [    INFO] __main__: 📋 ID de prueba: 2dc7b0e4-d201-4018-8b35-56f81fe99a09
2025-05-24 18:13:20.317 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.317005
2025-05-24 18:13:20.318 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "2dc7b0e4-d201-4018-8b35-56f81fe99a09",
  "resource": "conversations",
  "payload": {
    "action": "get_conversation_by_id",
    "conversation_id": "6dc8aa82-f8df-4c71-96fa-e0590288bcac"
  }
}
2025-05-24 18:13:20.318 [    INFO] __main__: 📊 Request size: 224 bytes
2025-05-24 18:13:20.318 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'conversation_id']
2025-05-24 18:13:20.321 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "2dc7b0e4-d201...a-e0590288bcac"\n  }\n}' [224 bytes]
2025-05-24 18:13:20.323 [    INFO] __main__: 📤 Mensaje enviado en 2.0ms
2025-05-24 18:13:20.379 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"2dc7b0e4-d201-4018-8b35-5...trada","details":null}}' [209 bytes]
2025-05-24 18:13:20.380 [    INFO] __main__: 📥 Respuesta recibida en 40.9ms
2025-05-24 18:13:20.380 [    INFO] __main__: ⏱️ Tiempo total: 59.3ms
2025-05-24 18:13:20.381 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "2dc7b0e4-d201-4018-8b35-56f81fe99a09",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n get_conversation_by_id: Conversaci\u00f3n no encontrada",
    "details": null
  }
}
2025-05-24 18:13:20.381 [    INFO] __main__: 📊 Response size: 209 bytes
2025-05-24 18:13:20.386 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:20.393 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:20.393 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:20.393 [    INFO] __main__: ❌ get_conversation_by_id - 59.3ms - Score: 0.0%
2025-05-24 18:13:20.394 [    INFO] __main__: 🧪 INICIANDO PRUEBA: conversations.close_conversation
2025-05-24 18:13:20.394 [    INFO] __main__: 📋 ID de prueba: c8553a15-0289-4c7a-bb2b-c8742d4319a4
2025-05-24 18:13:20.394 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.394135
2025-05-24 18:13:20.394 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "c8553a15-0289-4c7a-bb2b-c8742d4319a4",
  "resource": "conversations",
  "payload": {
    "action": "close_conversation",
    "conversation_id": "6dc8aa82-f8df-4c71-96fa-e0590288bcac"
  }
}
2025-05-24 18:13:20.394 [    INFO] __main__: 📊 Request size: 220 bytes
2025-05-24 18:13:20.395 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'conversation_id']
2025-05-24 18:13:20.399 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "c8553a15-0289...a-e0590288bcac"\n  }\n}' [220 bytes]
2025-05-24 18:13:20.399 [    INFO] __main__: 📤 Mensaje enviado en 0.5ms
2025-05-24 18:13:20.438 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"c8553a15-0289-4c7a-bb2...d":{"conversation":{}}}' [93 bytes]
2025-05-24 18:13:20.438 [    INFO] __main__: 📥 Respuesta recibida en 38.8ms
2025-05-24 18:13:20.439 [    INFO] __main__: ⏱️ Tiempo total: 39.8ms
2025-05-24 18:13:20.440 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "c8553a15-0289-4c7a-bb2b-c8742d4319a4",
  "payload": {
    "conversation": {}
  }
}
2025-05-24 18:13:20.440 [    INFO] __main__: 📊 Response size: 93 bytes
2025-05-24 18:13:20.443 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:20.444 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:20.444 [    INFO] __main__: 📈 Records processed: 1
2025-05-24 18:13:20.445 [    INFO] __main__: ✅ close_conversation - 39.8ms - Score: 100.0%
2025-05-24 18:13:20.445 [    INFO] __main__: 🧪 INICIANDO PRUEBA: conversations.update_agent_status
2025-05-24 18:13:20.445 [    INFO] __main__: 📋 ID de prueba: f3029823-2afb-44fe-b07c-cfca2e41c798
2025-05-24 18:13:20.446 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.445974
2025-05-24 18:13:20.446 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "f3029823-2afb-44fe-b07c-cfca2e41c798",
  "resource": "conversations",
  "payload": {
    "action": "update_agent_status",
    "conversation_id": "6dc8aa82-f8df-4c71-96fa-e0590288bcac",
    "enabled": true
  }
}
2025-05-24 18:13:20.446 [    INFO] __main__: 📊 Request size: 242 bytes
2025-05-24 18:13:20.446 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'conversation_id', 'enabled']
2025-05-24 18:13:20.462 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "f3029823-2afb..."enabled": true\n  }\n}' [242 bytes]
2025-05-24 18:13:20.465 [    INFO] __main__: 📤 Mensaje enviado en 3.0ms
2025-05-24 18:13:20.499 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"f3029823-2afb-44fe-b07...,"agent_enabled":true}}' [114 bytes]
2025-05-24 18:13:20.499 [    INFO] __main__: 📥 Respuesta recibida en 33.3ms
2025-05-24 18:13:20.499 [    INFO] __main__: ⏱️ Tiempo total: 37.7ms
2025-05-24 18:13:20.500 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "f3029823-2afb-44fe-b07c-cfca2e41c798",
  "payload": {
    "conversation": {},
    "agent_enabled": true
  }
}
2025-05-24 18:13:20.500 [    INFO] __main__: 📊 Response size: 114 bytes
2025-05-24 18:13:20.503 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:20.504 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:20.505 [    INFO] __main__: 📈 Records processed: 1
2025-05-24 18:13:20.506 [    INFO] __main__: ✅ update_agent_status - 37.7ms - Score: 100.0%
2025-05-24 18:13:20.506 [    INFO] __main__: 🧪 INICIANDO PRUEBA: conversations.get_user_conversations
2025-05-24 18:13:20.507 [    INFO] __main__: 📋 ID de prueba: bd8bfd07-56da-4b18-b905-b88bf8a86d5f
2025-05-24 18:13:20.507 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.506717
2025-05-24 18:13:20.507 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "bd8bfd07-56da-4b18-b905-b88bf8a86d5f",
  "resource": "conversations",
  "payload": {
    "action": "get_user_conversations",
    "user_id": "c9c74156-68c9-44de-b008-41d89bd56311"
  }
}
2025-05-24 18:13:20.507 [    INFO] __main__: 📊 Request size: 216 bytes
2025-05-24 18:13:20.507 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'user_id']
2025-05-24 18:13:20.519 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "bd8bfd07-56da...8-41d89bd56311"\n  }\n}' [216 bytes]
2025-05-24 18:13:20.525 [    INFO] __main__: 📤 Mensaje enviado en 6.4ms
2025-05-24 18:13:20.526 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"bd8bfd07-56da-4b18-b905-b...abled","details":null}}' [207 bytes]
2025-05-24 18:13:20.527 [    INFO] __main__: 📥 Respuesta recibida en 1.5ms
2025-05-24 18:13:20.528 [    INFO] __main__: ⏱️ Tiempo total: 8.6ms
2025-05-24 18:13:20.528 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "bd8bfd07-56da-4b18-b905-b88bf8a86d5f",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n get_user_conversations: Se requiere agent_enabled",
    "details": null
  }
}
2025-05-24 18:13:20.529 [    INFO] __main__: 📊 Response size: 207 bytes
2025-05-24 18:13:20.533 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:20.533 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:20.534 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:20.534 [    INFO] __main__: ❌ get_user_conversations - 8.6ms - Score: 0.0%
2025-05-24 18:13:20.534 [    INFO] __main__: 💬 Conversations Handler testing completed

2025-05-24 18:13:20.534 [    INFO] __main__: 📨 === TESTING MESSAGES HANDLER (ENHANCED) ===
2025-05-24 18:13:20.535 [    INFO] __main__: 🧪 INICIANDO PRUEBA: messages.get_all_messages
2025-05-24 18:13:20.535 [    INFO] __main__: 📋 ID de prueba: 288b40c2-2ca0-4864-8c31-4d4addefaaf8
2025-05-24 18:13:20.535 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.535371
2025-05-24 18:13:20.535 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "288b40c2-2ca0-4864-8c31-4d4addefaaf8",
  "resource": "messages",
  "payload": {
    "action": "get_all_messages",
    "conversation_id": "6f182e06-5480-4b2b-a9a2-14688af87623"
  }
}
2025-05-24 18:13:20.536 [    INFO] __main__: 📊 Request size: 213 bytes
2025-05-24 18:13:20.536 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'conversation_id']
2025-05-24 18:13:20.540 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "288b40c2-2ca0...2-14688af87623"\n  }\n}' [213 bytes]
2025-05-24 18:13:20.541 [    INFO] __main__: 📤 Mensaje enviado en 0.5ms
2025-05-24 18:13:20.595 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"288b40c2-2ca0-4864-8c3..."offset":0,"total":0}}}' [136 bytes]
2025-05-24 18:13:20.596 [    INFO] __main__: 📥 Respuesta recibida en 54.2ms
2025-05-24 18:13:20.596 [    INFO] __main__: ⏱️ Tiempo total: 55.3ms
2025-05-24 18:13:20.596 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "288b40c2-2ca0-4864-8c31-4d4addefaaf8",
  "payload": {
    "messages": [],
    "pagination": {
      "limit": 50,
      "offset": 0,
      "total": 0
    }
  }
}
2025-05-24 18:13:20.596 [    INFO] __main__: 📊 Response size: 136 bytes
2025-05-24 18:13:20.600 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:20.600 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:20.600 [    INFO] __main__: 📈 Records processed: 1
2025-05-24 18:13:20.601 [    INFO] __main__: ✅ get_all_messages - 55.3ms - Score: 100.0%
2025-05-24 18:13:20.602 [    INFO] __main__: 🧪 INICIANDO PRUEBA: messages.send_message
2025-05-24 18:13:20.602 [    INFO] __main__: 📋 ID de prueba: bbf31479-0ec4-4ec0-9b94-d81569200247
2025-05-24 18:13:20.602 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.602467
2025-05-24 18:13:20.602 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "bbf31479-0ec4-4ec0-9b94-d81569200247",
  "resource": "messages",
  "payload": {
    "action": "send_message",
    "conversation_id": "6f182e06-5480-4b2b-a9a2-14688af87623",
    "content": "Mensaje de prueba enhanced 2025-05-24 18:13:20.535371",
    "role": "user"
  }
}
2025-05-24 18:13:20.602 [    INFO] __main__: 📊 Request size: 301 bytes
2025-05-24 18:13:20.603 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'conversation_id', 'content', 'role']
2025-05-24 18:13:20.622 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "bbf31479-0ec4... "role": "user"\n  }\n}' [301 bytes]
2025-05-24 18:13:20.623 [    INFO] __main__: 📤 Mensaje enviado en 0.0ms
2025-05-24 18:13:20.625 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"bbf31479-0ec4-4ec0-9b94-d...crear","details":null}}' [212 bytes]
2025-05-24 18:13:20.625 [    INFO] __main__: 📥 Respuesta recibida en 1.7ms
2025-05-24 18:13:20.625 [    INFO] __main__: ⏱️ Tiempo total: 3.0ms
2025-05-24 18:13:20.626 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "bbf31479-0ec4-4ec0-9b94-d81569200247",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n send_message: Se requieren datos de mensaje para crear",
    "details": null
  }
}
2025-05-24 18:13:20.626 [    INFO] __main__: 📊 Response size: 212 bytes
2025-05-24 18:13:20.629 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:20.631 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:20.631 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:20.631 [    INFO] __main__: ❌ send_message - 3.0ms - Score: 100.0%
2025-05-24 18:13:20.631 [    INFO] __main__: 🧪 INICIANDO PRUEBA: messages.get_conversation_messages
2025-05-24 18:13:20.632 [    INFO] __main__: 📋 ID de prueba: 7438a00d-a76d-43c8-b264-0dbd1c379609
2025-05-24 18:13:20.632 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.631732
2025-05-24 18:13:20.632 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "7438a00d-a76d-43c8-b264-0dbd1c379609",
  "resource": "messages",
  "payload": {
    "action": "get_conversation_messages",
    "conversation_id": "6f182e06-5480-4b2b-a9a2-14688af87623"
  }
}
2025-05-24 18:13:20.632 [    INFO] __main__: 📊 Request size: 222 bytes
2025-05-24 18:13:20.633 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'conversation_id']
2025-05-24 18:13:20.648 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "7438a00d-a76d...2-14688af87623"\n  }\n}' [222 bytes]
2025-05-24 18:13:20.658 [    INFO] __main__: 📤 Mensaje enviado en 10.3ms
2025-05-24 18:13:20.696 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"7438a00d-a76d-43c8-b26..."offset":0,"total":0}}}' [136 bytes]
2025-05-24 18:13:20.696 [    INFO] __main__: 📥 Respuesta recibida en 35.9ms
2025-05-24 18:13:20.696 [    INFO] __main__: ⏱️ Tiempo total: 48.5ms
2025-05-24 18:13:20.697 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "7438a00d-a76d-43c8-b264-0dbd1c379609",
  "payload": {
    "messages": [],
    "pagination": {
      "limit": 50,
      "offset": 0,
      "total": 0
    }
  }
}
2025-05-24 18:13:20.698 [    INFO] __main__: 📊 Response size: 136 bytes
2025-05-24 18:13:20.704 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:20.717 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:20.717 [    INFO] __main__: 📈 Records processed: 1
2025-05-24 18:13:20.718 [    INFO] __main__: ✅ get_conversation_messages - 48.5ms - Score: 100.0%
2025-05-24 18:13:20.718 [    INFO] __main__: 🧪 INICIANDO PRUEBA: messages.mark_as_read
2025-05-24 18:13:20.718 [    INFO] __main__: 📋 ID de prueba: ebc158cc-8483-4fc7-bd46-7b840dd4d859
2025-05-24 18:13:20.719 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.718585
2025-05-24 18:13:20.719 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "ebc158cc-8483-4fc7-bd46-7b840dd4d859",
  "resource": "messages",
  "payload": {
    "action": "mark_as_read",
    "conversation_id": "6f182e06-5480-4b2b-a9a2-14688af87623"
  }
}
2025-05-24 18:13:20.720 [    INFO] __main__: 📊 Request size: 209 bytes
2025-05-24 18:13:20.720 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'conversation_id']
2025-05-24 18:13:20.724 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "ebc158cc-8483...2-14688af87623"\n  }\n}' [209 bytes]
2025-05-24 18:13:20.724 [    INFO] __main__: 📤 Mensaje enviado en 0.3ms
2025-05-24 18:13:20.765 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"ebc158cc-8483-4fc7-bd4...688af87623","count":0}}' [157 bytes]
2025-05-24 18:13:20.780 [    INFO] __main__: 📥 Respuesta recibida en 54.8ms
2025-05-24 18:13:20.780 [    INFO] __main__: ⏱️ Tiempo total: 55.8ms
2025-05-24 18:13:20.780 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "ebc158cc-8483-4fc7-bd46-7b840dd4d859",
  "payload": {
    "success": true,
    "conversation_id": "6f182e06-5480-4b2b-a9a2-14688af87623",
    "count": 0
  }
}
2025-05-24 18:13:20.781 [    INFO] __main__: 📊 Response size: 157 bytes
2025-05-24 18:13:20.786 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:20.787 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:20.787 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:20.787 [    INFO] __main__: ✅ mark_as_read - 55.8ms - Score: 0.0%
2025-05-24 18:13:20.787 [    INFO] __main__: 🧪 INICIANDO PRUEBA: messages.delete_message
2025-05-24 18:13:20.788 [    INFO] __main__: 📋 ID de prueba: 2589e2e2-506a-4c1d-9a04-df8620b15dac
2025-05-24 18:13:20.789 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.787623
2025-05-24 18:13:20.789 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "2589e2e2-506a-4c1d-9a04-df8620b15dac",
  "resource": "messages",
  "payload": {
    "action": "delete_message",
    "message_id": "1725c54e-b8da-4bff-a919-f945140891f1"
  }
}
2025-05-24 18:13:20.789 [    INFO] __main__: 📊 Request size: 206 bytes
2025-05-24 18:13:20.789 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'message_id']
2025-05-24 18:13:20.801 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "2589e2e2-506a...9-f945140891f1"\n  }\n}' [206 bytes]
2025-05-24 18:13:20.808 [    INFO] __main__: 📤 Mensaje enviado en 6.3ms
2025-05-24 18:13:20.868 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"2589e2e2-506a-4c1d-9a0...ff-a919-f945140891f1"}}' [143 bytes]
2025-05-24 18:13:20.868 [    INFO] __main__: 📥 Respuesta recibida en 59.8ms
2025-05-24 18:13:20.869 [    INFO] __main__: ⏱️ Tiempo total: 66.1ms
2025-05-24 18:13:20.869 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "2589e2e2-506a-4c1d-9a04-df8620b15dac",
  "payload": {
    "success": false,
    "message_id": "1725c54e-b8da-4bff-a919-f945140891f1"
  }
}
2025-05-24 18:13:20.869 [    INFO] __main__: 📊 Response size: 143 bytes
2025-05-24 18:13:20.873 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:20.874 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:20.875 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:20.875 [    INFO] __main__: ✅ delete_message - 66.1ms - Score: 0.0%
2025-05-24 18:13:20.875 [    INFO] __main__: 🧪 INICIANDO PRUEBA: messages.update_message
2025-05-24 18:13:20.876 [    INFO] __main__: 📋 ID de prueba: 8bb1fe1a-3639-4838-bc4f-a98fd466e0d1
2025-05-24 18:13:20.876 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.875986
2025-05-24 18:13:20.876 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "8bb1fe1a-3639-4838-bc4f-a98fd466e0d1",
  "resource": "messages",
  "payload": {
    "action": "update_message",
    "message_id": "1725c54e-b8da-4bff-a919-f945140891f1",
    "content": "Mensaje actualizado enhanced"
  }
}
2025-05-24 18:13:20.877 [    INFO] __main__: 📊 Request size: 253 bytes
2025-05-24 18:13:20.877 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'message_id', 'content']
2025-05-24 18:13:20.881 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "8bb1fe1a-3639...izado enhanced"\n  }\n}' [253 bytes]
2025-05-24 18:13:20.882 [    INFO] __main__: 📤 Mensaje enviado en 1.0ms
2025-05-24 18:13:20.883 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"8bb1fe1a-3639-4838-bc4f-a...nsaje","details":null}}' [219 bytes]
2025-05-24 18:13:20.884 [    INFO] __main__: 📥 Respuesta recibida en 1.6ms
2025-05-24 18:13:20.884 [    INFO] __main__: ⏱️ Tiempo total: 3.0ms
2025-05-24 18:13:20.884 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "8bb1fe1a-3639-4838-bc4f-a98fd466e0d1",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n update_message: Se requieren datos para actualizar el mensaje",
    "details": null
  }
}
2025-05-24 18:13:20.885 [    INFO] __main__: 📊 Response size: 219 bytes
2025-05-24 18:13:20.905 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:20.905 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:20.906 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:20.906 [    INFO] __main__: ❌ update_message - 3.0ms - Score: 100.0%
2025-05-24 18:13:20.906 [    INFO] __main__: 📨 Messages Handler testing completed

2025-05-24 18:13:20.907 [    INFO] __main__: 📊 === TESTING DASHBOARD HANDLER (ENHANCED) ===
2025-05-24 18:13:20.908 [    INFO] __main__: 🧪 INICIANDO PRUEBA: dashboard.get_dashboard_stats
2025-05-24 18:13:20.908 [    INFO] __main__: 📋 ID de prueba: 30dd37c6-8d77-4d0f-a02e-b8dcd9e3b466
2025-05-24 18:13:20.908 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:20.908102
2025-05-24 18:13:20.908 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "30dd37c6-8d77-4d0f-a02e-b8dcd9e3b466",
  "resource": "dashboard",
  "payload": {
    "action": "get_dashboard_stats"
  }
}
2025-05-24 18:13:20.908 [    INFO] __main__: 📊 Request size: 154 bytes
2025-05-24 18:13:20.909 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:20.912 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "30dd37c6-8d77...ashboard_stats"\n  }\n}' [154 bytes]
2025-05-24 18:13:20.913 [    INFO] __main__: 📤 Mensaje enviado en 0.7ms
2025-05-24 18:13:21.283 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"30dd37c6-8d77-4d0f-a02...5-24T18:13:21.282969"}}' [336 bytes]
2025-05-24 18:13:21.288 [    INFO] __main__: 📥 Respuesta recibida en 374.4ms
2025-05-24 18:13:21.302 [    INFO] __main__: ⏱️ Tiempo total: 375.4ms
2025-05-24 18:13:21.303 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "30dd37c6-8d77-4d0f-a02e-b8dcd9e3b466",
  "payload": {
    "stats": {
      "total_users": 7,
      "active_conversations": 5,
      "meetings_today": 0,
      "leads_by_step": {
        "start": 0,
        "consent": 0,
        "personal_data": 0,
        "bant": 0,
        "requirements": 0,
        "meeting": 0,
        "completed": 0
      },
      "total_leads": 0
    },
    "date_range": "today",
    "generated_at": "2025-05-24T18:13:21.282969"
  }
}
2025-05-24 18:13:21.303 [    INFO] __main__: 📊 Response size: 336 bytes
2025-05-24 18:13:21.307 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:21.307 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:21.307 [    INFO] __main__: 📈 Records processed: 1
2025-05-24 18:13:21.307 [    INFO] __main__: ✅ get_dashboard_stats - 375.4ms - Score: 100.0%
2025-05-24 18:13:21.308 [    INFO] __main__: 🧪 INICIANDO PRUEBA: dashboard.get_conversion_funnel
2025-05-24 18:13:21.308 [    INFO] __main__: 📋 ID de prueba: 8e792aaf-bd5f-4863-9603-52a71532f01c
2025-05-24 18:13:21.309 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:21.308377
2025-05-24 18:13:21.309 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "8e792aaf-bd5f-4863-9603-52a71532f01c",
  "resource": "dashboard",
  "payload": {
    "action": "get_conversion_funnel"
  }
}
2025-05-24 18:13:21.309 [    INFO] __main__: 📊 Request size: 156 bytes
2025-05-24 18:13:21.310 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:21.313 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "8e792aaf-bd5f...version_funnel"\n  }\n}' [156 bytes]
2025-05-24 18:13:21.313 [    INFO] __main__: 📤 Mensaje enviado en 0.4ms
2025-05-24 18:13:21.541 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"8e792aaf-bd5f-4863-960...5-24T18:13:21.540697"}}' [636 bytes]
2025-05-24 18:13:21.542 [    INFO] __main__: 📥 Respuesta recibida en 227.6ms
2025-05-24 18:13:21.542 [    INFO] __main__: ⏱️ Tiempo total: 229.0ms
2025-05-24 18:13:21.543 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "8e792aaf-bd5f-4863-9603-52a71532f01c",
  "payload": {
    "funnel": [
      {
        "step": "start",
        "count": 0,
        "percentage": 0.0,
        "conversion_rate": 0
      },
      {
        "step": "consent",
        "count": 0,
        "percentage": 0.0,
        "conversion_rate": 0
      },
      {
        "step": "personal_data",
        "count": 9,
        "percentage": 40.91,
        "conversion_rate": 0
      },
      {
        "step": "bant",
        "count": 5,
        "percentage": 22.73,
        "conversion_rate": 55.56
      },
      {
        "step": "requirements",
        "count": 0,
        "percentage": 0.0,
        "conversion_rate": 0.0
      },
      {
        "step": "meeting",
        "count": 5,
        "percentage": 22.73,
        "conversion_rate": 0
      },
      {
        "step": "completed",
        "count": 3,
        "percentage": 13.64,
        "conversion_rate": 60.0
      }
    ],
    "date_range": "all",
    "generated_at": "2025-05-24T18:13:21.540697"
  }
}
2025-05-24 18:13:21.544 [    INFO] __main__: 📊 Response size: 636 bytes
2025-05-24 18:13:21.548 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:21.549 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:21.549 [    INFO] __main__: 📈 Records processed: 7
2025-05-24 18:13:21.549 [    INFO] __main__: ✅ get_conversion_funnel - 229.0ms - Score: 100.0%
2025-05-24 18:13:21.550 [    INFO] __main__: 🧪 INICIANDO PRUEBA: dashboard.get_activity_timeline
2025-05-24 18:13:21.550 [    INFO] __main__: 📋 ID de prueba: 8b4d3a58-dea2-428a-aa6b-4239371a0bb6
2025-05-24 18:13:21.550 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:21.550349
2025-05-24 18:13:21.551 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "8b4d3a58-dea2-428a-aa6b-4239371a0bb6",
  "resource": "dashboard",
  "payload": {
    "action": "get_activity_timeline"
  }
}
2025-05-24 18:13:21.551 [    INFO] __main__: 📊 Request size: 156 bytes
2025-05-24 18:13:21.552 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:21.555 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "8b4d3a58-dea2...ivity_timeline"\n  }\n}' [156 bytes]
2025-05-24 18:13:21.556 [    INFO] __main__: 📤 Mensaje enviado en 0.6ms
2025-05-24 18:13:21.662 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"8b4d3a58-dea2-428a-aa6...5-24T18:13:21.661319"}}' [14312 bytes]
2025-05-24 18:13:21.663 [    INFO] __main__: 📥 Respuesta recibida en 106.6ms
2025-05-24 18:13:21.663 [    INFO] __main__: ⏱️ Tiempo total: 107.6ms
2025-05-24 18:13:21.665 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "8b4d3a58-dea2-428a-aa6b-4239371a0bb6",
  "payload": {
    "timeline": [
      {
        "type": "new_user",
        "timestamp": "2025-05-24T18:13:19.754468+00:00",
        "data": {
          "user_id": "920df89d-2520-458c-9911-207b33550846",
          "full_name": "Usuario Test Enhanced 181319",
          "phone": "+11748110399"
        }
      },
      {
        "type": "new_user",
        "timestamp": "2025-05-24T17:49:19.946656+00:00",
        "data": {
          "user_id": "d970d4a5-08ff-4aaf-a93a-e7ea837584a7",
          "full_name": "Usuario Test",
          "phone": "+1234567890"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T15:51:11.688913+00:00",
        "data": {
          "message_id": "a5d34286-e33d-4e7b-b250-2f74a6bee695",
          "content": "\u00a1Hola! \ud83d\ude0a Por favor, \u00bfpodr\u00edas indicarme tu nombre completo para continuar?",
          "role": "assistant",
          "user": "Usuario 573153041548"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T15:51:08.787677+00:00",
        "data": {
          "message_id": "b4d044d1-5d4e-4594-9168-c9d899f1ca33",
          "content": "hol",
          "role": "user",
          "user": "Usuario 573153041548"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T15:18:41.278237+00:00",
        "data": {
          "message_id": "05c135dd-e0f4-4123-9466-46285ea5b7fe",
          "content": "Perfecto, gracias. Por favor, \u00bfcu\u00e1l es tu nombre completo? \ud83d\ude0a",
          "role": "assistant",
          "user": "Usuario 573153041548"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T15:18:39.102162+00:00",
        "data": {
          "message_id": "522c16c7-0f34-4a55-8794-d4c66a345713",
          "content": "Ok",
          "role": "user",
          "user": "Usuario 573153041548"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T15:15:56.755495+00:00",
        "data": {
          "message_id": "cbc59cb6-771c-48d5-8e50-a81e02e5ab47",
          "content": "Hola de nuevo \ud83d\ude0a Para poder avanzar y ayudarte con tu proyecto, necesito que me confirmes si me autor...",
          "role": "assistant",
          "user": "Usuario 573114201848"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T15:15:56.67309+00:00",
        "data": {
          "message_id": "7db62902-279b-4157-887e-f867a161c164",
          "content": "Antes de continuar, necesito tu consentimiento expl\u00edcito para procesar tus datos personales e inform...",
          "role": "assistant",
          "user": "Usuario 573114201848"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T15:15:53.056476+00:00",
        "data": {
          "message_id": "436ad968-7d9a-4d6b-8ce9-8993f927dfa6",
          "content": "DYUDHDKSJ",
          "role": "user",
          "user": "Usuario 573114201848"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T15:15:52.932878+00:00",
        "data": {
          "message_id": "b4ba6c4a-5085-451b-871f-81cc9369cf3b",
          "content": "[El usuario ha enviado un archivo de tipo audio]",
          "role": "user",
          "user": "Usuario 573114201848"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T14:50:27.911839+00:00",
        "data": {
          "message_id": "90033d35-b4f8-4cd5-bcef-47748bfc73e3",
          "content": "\u00a1Hola! \ud83d\ude0a Para poder ayudarte con tu proyecto, necesito que me proporciones tu nombre completo, empre...",
          "role": "assistant",
          "user": "Usuario 573153041548"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T14:50:24.450738+00:00",
        "data": {
          "message_id": "28d01d49-2ce2-45ef-98dd-a0a809a2fa23",
          "content": "hola",
          "role": "user",
          "user": "Usuario 573153041548"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T12:31:37.924379+00:00",
        "data": {
          "message_id": "ecd5b651-f434-4008-80f3-36dfe9c149fa",
          "content": "\ud83c\udf1f \u00a1Gracias por tus lindos emojis! Solo necesito que me confirmes con un \"s\u00ed\" si me autorizas a recop...",
          "role": "assistant",
          "user": "Usuario 573151170999"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T12:31:35.752974+00:00",
        "data": {
          "message_id": "0a707f10-e75a-4cea-874d-3a0ba3068d51",
          "content": "\ud83c\udf37\ud83d\udc98\ud83d\udc9e\ud83d\udc90",
          "role": "user",
          "user": "Usuario 573151170999"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T12:31:10.476523+00:00",
        "data": {
          "message_id": "f7fb9d6c-a6a3-489f-8890-ba2ffb0f8ffc",
          "content": "\ud83d\ude0a Gracias por tu mensaje. Para poder ayudarte mejor, necesito que me confirmes si me autorizas a rec...",
          "role": "assistant",
          "user": "Usuario 573151170999"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T12:31:08.009562+00:00",
        "data": {
          "message_id": "ff77a2f2-275e-4366-93a0-f7ea064be595",
          "content": "[El usuario ha enviado un archivo de tipo audio]",
          "role": "user",
          "user": "Usuario 573151170999"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T12:30:51.344129+00:00",
        "data": {
          "message_id": "fa4e5c04-7d26-4686-b32b-544016455c64",
          "content": "\ud83d\udc4b \u00a1Hola! Soy Mat\u00ed, el asistente virtual de TDX especializado en desarrollo de software a medida. Pod...",
          "role": "assistant",
          "user": "Usuario 573151170999"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T12:30:47.717175+00:00",
        "data": {
          "message_id": "f85772b0-9273-4fa7-9c94-cb5d8e4aaf49",
          "content": "[El usuario ha enviado un archivo de tipo audio]",
          "role": "user",
          "user": "Usuario 573151170999"
        }
      },
      {
        "type": "new_user",
        "timestamp": "2025-05-24T12:30:09.195048+00:00",
        "data": {
          "user_id": "ccc8bd8a-b09d-4c1a-adc9-b0e26e60e951",
          "full_name": "Usuario 573151170999",
          "phone": "573151170999"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T03:33:49.673451+00:00",
        "data": {
          "message_id": "9e34548c-9235-4ebf-b543-0c9662f74492",
          "content": "\ud83d\udc4b \u00a1Hola! Soy Mat\u00ed, el asistente virtual de TDX especializado en desarrollo de software a medida para...",
          "role": "assistant",
          "user": "Usuario 573146744229"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T03:33:46.049834+00:00",
        "data": {
          "message_id": "86581a6a-274b-4562-a683-ac07ad8600bf",
          "content": "\u00a1Hola! Quiero m\u00e1shhvgjfof informaci\u00f3n.",
          "role": "user",
          "user": "Usuario 573146744229"
        }
      },
      {
        "type": "new_user",
        "timestamp": "2025-05-24T03:33:45.154868+00:00",
        "data": {
          "user_id": "a4475029-7345-499c-b783-3b12c098665e",
          "full_name": "Usuario 573146744229",
          "phone": "573146744229"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T03:16:23.157769+00:00",
        "data": {
          "message_id": "42495e1d-9a59-4c03-a95d-ee31efdb51fd",
          "content": "\ud83d\ude0a Gracias por tu mensaje. Para poder ayudarte mejor, necesito que me confirmes si me autorizas a rec...",
          "role": "assistant",
          "user": "Usuario 573134323696"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T03:16:21.408889+00:00",
        "data": {
          "message_id": "dff20881-a660-4178-9fad-6d101a713db5",
          "content": "[El usuario ha enviado un archivo de tipo audio]",
          "role": "user",
          "user": "Usuario 573134323696"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T03:16:20.882171+00:00",
        "data": {
          "message_id": "10683e75-f7e5-4dcd-9d82-94f7f234f6d9",
          "content": "\ud83d\udc4b \u00a1Hola! Soy Mat\u00ed, el asistente virtual de TDX especializado en desarrollo de software a medida. \ud83d\ude0a\n\n...",
          "role": "assistant",
          "user": "Usuario 573134323696"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T03:16:13.58886+00:00",
        "data": {
          "message_id": "d80b29e1-73d8-423c-91b8-5805196a5238",
          "content": "\u00a1Hola! Quiero m\u00e1s informaci\u00f3n.",
          "role": "user",
          "user": "Usuario 573134323696"
        }
      },
      {
        "type": "new_user",
        "timestamp": "2025-05-24T03:16:12.876288+00:00",
        "data": {
          "user_id": "0c2821da-4736-44e2-b010-66199e5b8d35",
          "full_name": "Usuario 573134323696",
          "phone": "573134323696"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T02:47:27.440903+00:00",
        "data": {
          "message_id": "2c272efe-37b3-4530-adca-553f51d3ac23",
          "content": "\ud83d\ude0a Gracias por compartir, pero para poder ayudarte mejor necesito primero tu consentimiento para proc...",
          "role": "assistant",
          "user": "Usuario 573215673467"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T02:47:25.452076+00:00",
        "data": {
          "message_id": "0cbb04dd-d047-4f3c-805c-b98c5bffb3ba",
          "content": "[El usuario ha enviado un archivo de tipo imagen]",
          "role": "user",
          "user": "Usuario 573215673467"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T02:46:49.994054+00:00",
        "data": {
          "message_id": "1d1b9ff4-d934-4961-8d81-73664fa22d95",
          "content": "\ud83d\udc4b \u00a1Hola! Soy Mat\u00ed, el asistente virtual de TDX especializado en desarrollo de software a medida para...",
          "role": "assistant",
          "user": "Usuario 573215673467"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T02:46:45.701562+00:00",
        "data": {
          "message_id": "a3c044fd-3ab6-40db-9c0e-01129f654ac5",
          "content": "\u00a1Hola! Quiero m\u00e1s informaci\u00f3n.",
          "role": "user",
          "user": "Usuario 573215673467"
        }
      },
      {
        "type": "new_user",
        "timestamp": "2025-05-24T02:46:45.207454+00:00",
        "data": {
          "user_id": "5b784be4-9d34-4c92-ad06-90134373f854",
          "full_name": "Usuario 573215673467",
          "phone": "573215673467"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T02:09:01.111621+00:00",
        "data": {
          "message_id": "f1e86957-13c3-46f5-800e-61a53c277c74",
          "content": "\ud83d\udc4b \u00a1Hola! Soy Mat\u00ed, el asistente virtual de TDX especializado en desarrollo de software a medida. \ud83d\ude0a\n\n...",
          "role": "assistant",
          "user": "Usuario 573122125881"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-24T02:08:56.160059+00:00",
        "data": {
          "message_id": "75f7c9d8-6df7-4dd5-93f8-5995a0dda19c",
          "content": "\u00a1Hola! Quiero m\u00e1s informaci\u00f3n para desarrollos de software a la medida",
          "role": "user",
          "user": "Usuario 573122125881"
        }
      },
      {
        "type": "new_user",
        "timestamp": "2025-05-24T02:08:55.457709+00:00",
        "data": {
          "user_id": "68f005b5-6b1b-424a-b1fc-83eb2a9a19b5",
          "full_name": "Usuario 573122125881",
          "phone": "573122125881"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T23:30:20.31514+00:00",
        "data": {
          "message_id": "27a052bd-f3aa-4efa-9ba8-3650bd18681e",
          "content": "Para poder ayudarte con tu proyecto, necesito que me confirmes expl\u00edcitamente tu consentimiento para...",
          "role": "assistant",
          "user": "Usuario 573136264546"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T23:30:16.004939+00:00",
        "data": {
          "message_id": "989431d1-a8d2-42cc-885c-95ca3ca7f98d",
          "content": "Sii",
          "role": "user",
          "user": "Usuario 573136264546"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T23:26:52.955542+00:00",
        "data": {
          "message_id": "b1878bfc-ad61-4f27-820e-c6a39e259695",
          "content": "\ud83d\udc4b \u00a1Hola! Soy Mat\u00ed, el asistente virtual de TDX especializado en desarrollo de software a medida. \ud83d\ude0a\n\n...",
          "role": "assistant",
          "user": "Usuario 573136264546"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T23:26:47.146937+00:00",
        "data": {
          "message_id": "b4eb9f4f-9222-4163-892d-ce0c16a159bf",
          "content": "H",
          "role": "user",
          "user": "Usuario 573136264546"
        }
      },
      {
        "type": "new_user",
        "timestamp": "2025-05-23T23:26:46.453462+00:00",
        "data": {
          "user_id": "8b0a21be-bb85-47b5-aad0-a9bf7bb4c335",
          "full_name": "Usuario 573136264546",
          "phone": "573136264546"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T22:32:01.358834+00:00",
        "data": {
          "message_id": "fff232c0-8474-4763-93ff-31cf598a80e2",
          "content": "\ud83d\udc4b \u00a1Hola! Soy Mat\u00ed, el asistente virtual de TDX especializado en desarrollo de software a medida para...",
          "role": "assistant",
          "user": "Usuario 573159948155"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T22:31:56.539766+00:00",
        "data": {
          "message_id": "27ec6552-be6f-428f-a2d7-26309212ba70",
          "content": "Hola mi amor vi tu video de qu\u00e9 se trata",
          "role": "user",
          "user": "Usuario 573159948155"
        }
      },
      {
        "type": "new_user",
        "timestamp": "2025-05-23T22:31:56.18311+00:00",
        "data": {
          "user_id": "6d8ac1c7-dcc2-4770-a1ee-94b1ffbd3953",
          "full_name": "Usuario 573159948155",
          "phone": "573159948155"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T22:27:34.45684+00:00",
        "data": {
          "message_id": "0eb8422c-45fc-47cb-914a-e6be352f9eac",
          "content": "\ud83d\udc4b \u00a1Hola! Soy Mat\u00ed, el asistente virtual de TDX especializado en desarrollo de software a medida. \ud83d\ude0a\n\n...",
          "role": "assistant",
          "user": "Usuario 573223417451"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T22:27:29.317008+00:00",
        "data": {
          "message_id": "91d1e870-bc88-42e1-9721-3716fd09fdef",
          "content": "\u00a1Hola! Quiero m\u00e1scara informaci\u00f3n para desarrollos de software a la medida \nHola buenas tardes.",
          "role": "user",
          "user": "Usuario 573223417451"
        }
      },
      {
        "type": "new_user",
        "timestamp": "2025-05-23T22:27:28.910441+00:00",
        "data": {
          "user_id": "efc1ab41-753b-4e7b-838e-2c19e3622b41",
          "full_name": "Usuario 573223417451",
          "phone": "573223417451"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T20:53:13.706483+00:00",
        "data": {
          "message_id": "7251a86d-9d8c-4b1b-b387-2f8e96d3d8af",
          "content": "\u00a1Gracias por tu respuesta! \ud83c\udde8\ud83c\uddf4\ud83d\udc9a\ud83d\ude4f Ahora, \u00bfme das tu consentimiento para procesar tus datos personales ...",
          "role": "assistant",
          "user": "Usuario 573242983767"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T20:53:10.961743+00:00",
        "data": {
          "message_id": "ea0a0dab-1975-4d93-8190-71a1a289e9a7",
          "content": "Colombia \ud83c\udde8\ud83c\uddf4\ud83c\udde8\ud83c\uddf4\ud83d\udc9a\ud83d\udc9a\ud83d\ude4f\ud83d\ude4f",
          "role": "user",
          "user": "Usuario 573242983767"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T20:51:57.46779+00:00",
        "data": {
          "message_id": "a32e2e7a-f4df-4d85-a98b-e1d025324acf",
          "content": "\u00a1Hola! \ud83d\ude0a Soy Mat\u00ed, el asistente virtual de TDX especializado en desarrollo de software a medida para...",
          "role": "assistant",
          "user": "Usuario 573242983767"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T20:51:54.46058+00:00",
        "data": {
          "message_id": "1bc9c791-7a03-4cd5-913d-e35039743a90",
          "content": "Bueno \ud83d\ude0d\ud83d\ude0d\u2764\ufe0f\u2764\ufe0f\ud83e\udd70",
          "role": "user",
          "user": "Usuario 573242983767"
        }
      },
      {
        "type": "new_user",
        "timestamp": "2025-05-23T20:51:53.797656+00:00",
        "data": {
          "user_id": "a43611a2-fbc0-49a0-a1f5-019e83c991c4",
          "full_name": "Usuario 573242983767",
          "phone": "573242983767"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T19:40:13.013858+00:00",
        "data": {
          "message_id": "1365bbe3-b6e9-4982-9fc2-64a9fe8e5165",
          "content": "\u00a1Hola! \ud83d\ude0a No puedo procesar archivos de audio, pero si puedes escribir tu respuesta o pregunta, estar...",
          "role": "assistant",
          "user": "Usuario 573114128341"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T19:40:10.098195+00:00",
        "data": {
          "message_id": "c26af8c7-0614-445a-b23d-49a9fe9db883",
          "content": "[El usuario ha enviado un archivo de tipo audio]",
          "role": "user",
          "user": "Usuario 573114128341"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T19:39:48.276986+00:00",
        "data": {
          "message_id": "876efda7-8903-401d-9221-6f6a3b6e999a",
          "content": "\u00a1Gracias por tu respuesta! \ud83d\ude0a Solo para confirmar, \u00bfme das tu consentimiento para procesar tus datos ...",
          "role": "assistant",
          "user": "Usuario 573114128341"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T19:39:46.115622+00:00",
        "data": {
          "message_id": "0bad96f2-3a0c-4a0c-8280-9a3861962543",
          "content": "\ud83d\udc96\u2764\ufe0f\u200d\ud83e\ude79\ud83e\ude77\ud83e\udd17",
          "role": "user",
          "user": "Usuario 573114128341"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T19:39:18.853558+00:00",
        "data": {
          "message_id": "53b2993d-7306-4848-abeb-f52f1d4c973a",
          "content": "\u00a1Hola! \ud83d\ude0a Soy Mat\u00ed, el asistente virtual de TDX especializado en desarrollo de software a medida para...",
          "role": "assistant",
          "user": "Usuario 573114128341"
        }
      },
      {
        "type": "new_message",
        "timestamp": "2025-05-23T19:39:15.301746+00:00",
        "data": {
          "message_id": "bdd47ef5-cd58-4ad3-aab1-e295365a3726",
          "content": "\u00a1Hola! Quiero m\u00e1s \ud83e\udd70\ud83e\udef0\ud83d\udc4d\ud83c\udf3c informaci\u00f3n.",
          "role": "user",
          "user": "Usuario 573114128341"
        }
      },
      {
        "type": "new_user",
        "timestamp": "2025-05-23T19:39:14.415583+00:00",
        "data": {
          "user_id": "22fc4433-6060-40fd-aec6-8d527d60a490",
          "full_name": "Usuario 573114128341",
          "phone": "573114128341"
        }
      }
    ],
    "hours": 24,
    "generated_at": "2025-05-24T18:13:21.661319"
  }
}
2025-05-24 18:13:21.675 [    INFO] __main__: 📊 Response size: 14312 bytes
2025-05-24 18:13:21.678 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:21.679 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:21.679 [    INFO] __main__: 📈 Records processed: 58
2025-05-24 18:13:21.679 [    INFO] __main__: ✅ get_activity_timeline - 107.6ms - Score: 100.0%
2025-05-24 18:13:21.679 [    INFO] __main__: 🧪 INICIANDO PRUEBA: dashboard.get_agent_performance
2025-05-24 18:13:21.680 [    INFO] __main__: 📋 ID de prueba: 4e9963fe-39a7-49c9-9906-e5ec422e351c
2025-05-24 18:13:21.680 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:21.679428
2025-05-24 18:13:21.680 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "4e9963fe-39a7-49c9-9906-e5ec422e351c",
  "resource": "dashboard",
  "payload": {
    "action": "get_agent_performance"
  }
}
2025-05-24 18:13:21.681 [    INFO] __main__: 📊 Request size: 156 bytes
2025-05-24 18:13:21.681 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:21.684 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "4e9963fe-39a7...nt_performance"\n  }\n}' [156 bytes]
2025-05-24 18:13:21.684 [    INFO] __main__: 📤 Mensaje enviado en 0.0ms
2025-05-24 18:13:23.334 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"4e9963fe-39a7-49c9-990...5-24T18:13:23.334259"}}' [428 bytes]
2025-05-24 18:13:23.335 [    INFO] __main__: 📥 Respuesta recibida en 1649.8ms
2025-05-24 18:13:23.335 [    INFO] __main__: ⏱️ Tiempo total: 1650.8ms
2025-05-24 18:13:23.336 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "4e9963fe-39a7-49c9-9906-e5ec422e351c",
  "payload": {
    "agent_performance": {
      "conversations_with_agent": 59,
      "conversations_without_agent": 0,
      "avg_messages_with_agent": 5.58,
      "avg_messages_without_agent": 0,
      "leads_with_agent": 14,
      "leads_without_agent": 0,
      "conversion_rate_with_agent": 23.73,
      "conversion_rate_without_agent": 0,
      "agent_effectiveness": 23.73
    },
    "date_range": "week",
    "generated_at": "2025-05-24T18:13:23.334259"
  }
}
2025-05-24 18:13:23.336 [    INFO] __main__: 📊 Response size: 428 bytes
2025-05-24 18:13:23.339 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:23.340 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:23.340 [    INFO] __main__: 📈 Records processed: 1
2025-05-24 18:13:23.340 [    INFO] __main__: ✅ get_agent_performance - 1650.8ms - Score: 0.0%
2025-05-24 18:13:23.341 [    INFO] __main__: 🧪 INICIANDO PRUEBA: dashboard.get_real_time_metrics
2025-05-24 18:13:23.341 [    INFO] __main__: 📋 ID de prueba: 553725a4-8c41-494e-99a2-d01878a9fc7e
2025-05-24 18:13:23.341 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:23.341269
2025-05-24 18:13:23.342 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "553725a4-8c41-494e-99a2-d01878a9fc7e",
  "resource": "dashboard",
  "payload": {
    "action": "get_real_time_metrics"
  }
}
2025-05-24 18:13:23.342 [    INFO] __main__: 📊 Request size: 156 bytes
2025-05-24 18:13:23.342 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:23.345 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "553725a4-8c41...l_time_metrics"\n  }\n}' [156 bytes]
2025-05-24 18:13:23.346 [    INFO] __main__: 📤 Mensaje enviado en 0.5ms
2025-05-24 18:13:23.473 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"553725a4-8c41-494e-99a...5-24T18:13:23.472907"}}' [273 bytes]
2025-05-24 18:13:23.473 [    INFO] __main__: 📥 Respuesta recibida en 126.2ms
2025-05-24 18:13:23.474 [    INFO] __main__: ⏱️ Tiempo total: 128.2ms
2025-05-24 18:13:23.474 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "553725a4-8c41-494e-99a2-d01878a9fc7e",
  "payload": {
    "real_time_metrics": {
      "messages_last_hour": 0,
      "active_conversations": 75,
      "unread_messages": 178,
      "leads_today": 0,
      "meetings_today": 0,
      "websocket_connections": 1
    },
    "generated_at": "2025-05-24T18:13:23.472907"
  }
}
2025-05-24 18:13:23.475 [    INFO] __main__: 📊 Response size: 273 bytes
2025-05-24 18:13:23.478 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:23.484 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:23.485 [    INFO] __main__: 📈 Records processed: 1
2025-05-24 18:13:23.485 [    INFO] __main__: ✅ get_real_time_metrics - 128.2ms - Score: 100.0%
2025-05-24 18:13:23.486 [    INFO] __main__: 📊 Dashboard Handler testing completed

2025-05-24 18:13:23.486 [    INFO] __main__: 👥 === TESTING LEADS HANDLER (ENHANCED) ===
2025-05-24 18:13:23.487 [    INFO] __main__: 🧪 INICIANDO PRUEBA: leads.get_all_leads
2025-05-24 18:13:23.487 [    INFO] __main__: 📋 ID de prueba: 6282feee-16e2-464f-8f17-c8717ea09bfe
2025-05-24 18:13:23.488 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:23.487295
2025-05-24 18:13:23.488 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "6282feee-16e2-464f-8f17-c8717ea09bfe",
  "resource": "leads",
  "payload": {
    "action": "get_all_leads"
  }
}
2025-05-24 18:13:23.488 [    INFO] __main__: 📊 Request size: 144 bytes
2025-05-24 18:13:23.489 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:23.493 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "6282feee-16e2..."get_all_leads"\n  }\n}' [144 bytes]
2025-05-24 18:13:23.493 [    INFO] __main__: 📤 Mensaje enviado en 1.5ms
2025-05-24 18:13:23.534 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"6282feee-16e2-464f-8f1...offset":0,"total":24}}}' [36309 bytes]
2025-05-24 18:13:23.537 [    INFO] __main__: 📥 Respuesta recibida en 43.2ms
2025-05-24 18:13:23.537 [    INFO] __main__: ⏱️ Tiempo total: 44.7ms
2025-05-24 18:13:23.541 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "6282feee-16e2-464f-8f17-c8717ea09bfe",
  "payload": {
    "leads": [
      {
        "id": "ada81ef5-4b9d-45c0-98ed-e824056a12db",
        "user_id": "8b0a21be-bb85-47b5-aad0-a9bf7bb4c335",
        "conversation_id": "9a8e3bed-d381-43bb-b431-344ee760ec16",
        "consent": false,
        "current_step": "consent_denied",
        "created_at": "2025-05-23T23:30:18.295858+00:00",
        "updated_at": "2025-05-23T23:30:18.419453+00:00",
        "users": {
          "id": "8b0a21be-bb85-47b5-aad0-a9bf7bb4c335",
          "email": null,
          "phone": "573136264546",
          "company": null,
          "full_name": "Usuario 573136264546"
        },
        "conversations": {
          "id": "9a8e3bed-d381-43bb-b431-344ee760ec16",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573136264546",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "0887a5d3-dd7b-4400-b511-1189f489374c",
        "user_id": "072ee697-1483-42b6-b191-7858e51716bf",
        "conversation_id": "6452fd1f-db92-4a1d-9274-11e0b7bfb02e",
        "consent": false,
        "current_step": "consent_denied",
        "created_at": "2025-05-23T13:50:30.785613+00:00",
        "updated_at": "2025-05-23T13:50:30.902351+00:00",
        "users": {
          "id": "072ee697-1483-42b6-b191-7858e51716bf",
          "email": null,
          "phone": "573114201848",
          "company": null,
          "full_name": "Usuario 573114201848"
        },
        "conversations": {
          "id": "6452fd1f-db92-4a1d-9274-11e0b7bfb02e",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573114201848",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "aef4dc8e-bc7c-4c95-a7dd-e37e55c41510",
        "user_id": "a7473dc2-0491-4883-9405-1c67fa7910e4",
        "conversation_id": "5af12d6e-bc1f-4c7d-90e3-4a6b73311d32",
        "consent": true,
        "current_step": "personal_data",
        "created_at": "2025-05-23T12:04:35.486671+00:00",
        "updated_at": "2025-05-23T12:04:35.610752+00:00",
        "users": {
          "id": "a7473dc2-0491-4883-9405-1c67fa7910e4",
          "email": null,
          "phone": "2693209627",
          "company": null,
          "full_name": "Usuario 2693209627"
        },
        "conversations": {
          "id": "5af12d6e-bc1f-4c7d-90e3-4a6b73311d32",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "2693209627",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "3f120a99-44b5-423a-bb6a-30e894baafa2",
        "user_id": "c88c398b-ad6c-4e41-b0f0-0533c1c05f81",
        "conversation_id": "6106ea1e-cf88-4bf2-a661-15dd951d78af",
        "consent": true,
        "current_step": "personal_data",
        "created_at": "2025-05-22T11:39:02.081678+00:00",
        "updated_at": "2025-05-22T11:39:02.206989+00:00",
        "users": {
          "id": "c88c398b-ad6c-4e41-b0f0-0533c1c05f81",
          "email": null,
          "phone": "573103515786",
          "company": null,
          "full_name": "Usuario 573103515786"
        },
        "conversations": {
          "id": "6106ea1e-cf88-4bf2-a661-15dd951d78af",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573103515786",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "a0474129-d223-498a-8346-b653c42650c8",
        "user_id": "e79e028b-dae3-4ae2-980c-d4b0505c12ba",
        "conversation_id": "7cac5ec8-6003-4ca3-8028-ff7a54fe1b89",
        "consent": true,
        "current_step": "personal_data",
        "created_at": "2025-05-21T21:45:06.180867+00:00",
        "updated_at": "2025-05-21T21:45:06.29875+00:00",
        "users": {
          "id": "e79e028b-dae3-4ae2-980c-d4b0505c12ba",
          "email": null,
          "phone": "573015436628",
          "company": null,
          "full_name": "Usuario 573015436628"
        },
        "conversations": {
          "id": "7cac5ec8-6003-4ca3-8028-ff7a54fe1b89",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573015436628",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "03183476-b1cf-4f4e-b015-faef794ee020",
        "user_id": "9f2a9d3e-1862-45fc-a437-b19e838470f4",
        "conversation_id": "a3276d79-f6cc-42e0-97b5-4569de7e52d5",
        "consent": true,
        "current_step": "personal_data",
        "created_at": "2025-05-21T20:48:11.513042+00:00",
        "updated_at": "2025-05-21T20:48:11.63259+00:00",
        "users": {
          "id": "9f2a9d3e-1862-45fc-a437-b19e838470f4",
          "email": null,
          "phone": "573204170057",
          "company": null,
          "full_name": "Usuario 573204170057"
        },
        "conversations": {
          "id": "a3276d79-f6cc-42e0-97b5-4569de7e52d5",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573204170057",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "943326da-93aa-4585-ac4e-b76657d17748",
        "user_id": "b23cc528-e53e-4d2a-a2d1-123894d8dc81",
        "conversation_id": "66ddc6f5-e95f-4179-96fe-b70654bb6254",
        "consent": false,
        "current_step": "bant",
        "created_at": "2025-05-21T19:44:49.22774+00:00",
        "updated_at": "2025-05-21T19:44:49.556334+00:00",
        "users": {
          "id": "b23cc528-e53e-4d2a-a2d1-123894d8dc81",
          "email": "omartito7623@gmail.com",
          "phone": "3164749162",
          "company": "la chompa de coco",
          "full_name": "Carlos \u00c1lvarez"
        },
        "conversations": {
          "id": "66ddc6f5-e95f-4179-96fe-b70654bb6254",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573164749162",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "57184bff-5bd6-4af9-9591-4def40506933",
        "user_id": "b23cc528-e53e-4d2a-a2d1-123894d8dc81",
        "conversation_id": "66ddc6f5-e95f-4179-96fe-b70654bb6254",
        "consent": false,
        "current_step": "bant",
        "created_at": "2025-05-21T19:44:49.224965+00:00",
        "updated_at": "2025-05-21T19:44:49.359801+00:00",
        "users": {
          "id": "b23cc528-e53e-4d2a-a2d1-123894d8dc81",
          "email": "omartito7623@gmail.com",
          "phone": "3164749162",
          "company": "la chompa de coco",
          "full_name": "Carlos \u00c1lvarez"
        },
        "conversations": {
          "id": "66ddc6f5-e95f-4179-96fe-b70654bb6254",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573164749162",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "d9c8d198-9c81-4b8c-8012-edfcfcabfcf5",
        "user_id": "4cb4fc8d-4d51-4414-a189-e97b911c240f",
        "conversation_id": "66ddc6f5-e95f-4179-96fe-b70654bb6254",
        "consent": true,
        "current_step": "completed",
        "created_at": "2025-05-21T19:42:30.902929+00:00",
        "updated_at": "2025-05-21T19:50:28.545068+00:00",
        "users": {
          "id": "4cb4fc8d-4d51-4414-a189-e97b911c240f",
          "email": null,
          "phone": "573164749162",
          "company": null,
          "full_name": "Usuario 573164749162"
        },
        "conversations": {
          "id": "66ddc6f5-e95f-4179-96fe-b70654bb6254",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573164749162",
          "agent_enabled": true
        },
        "bant_data": [
          {
            "id": "08335a85-66f7-4a24-9bd3-dfb07776d1ad",
            "need": "Gesti\u00f3n de importaci\u00f3n",
            "budget": "",
            "timeline": "",
            "authority": "",
            "created_at": "2025-05-21T19:47:31.205779+00:00",
            "updated_at": "2025-05-21T19:47:31.205779+00:00",
            "lead_qualification_id": "d9c8d198-9c81-4b8c-8012-edfcfcabfcf5"
          }
        ],
        "requirements": [],
        "meetings": [
          {
            "id": "ed157f76-05fe-47f5-849c-06a17a09abe0",
            "status": "scheduled",
            "subject": "TDX | Demo personalizado - Soluci\u00f3n de software a medida",
            "end_time": "2025-05-27T14:00:00+00:00",
            "start_time": "2025-05-27T13:00:00+00:00",
            "online_meeting_url": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_MWRiMmM2M2MtZTVlZC00MDQ4LTljODQtMzllMjY4YWE1ODQ5%40thread.v2/0?context=%7b%22Tid%22%3a%22f261a9e3-f80f-42be-b3a3-5448e30d9ff2%22%2c%22Oid%22%3a%22df10dde8-7f52-4a77-a4ec-8b8fda1128e5%22%7d"
          }
        ]
      },
      {
        "id": "f9cd8459-e4fc-4530-ac48-606e1e7d63cb",
        "user_id": "7ce1ec2b-75e0-436d-a6d6-69ef7c6ecb70",
        "conversation_id": "c3863fb1-0aa8-4632-99b3-cbf224e20e77",
        "consent": false,
        "current_step": "bant",
        "created_at": "2025-05-21T14:29:45.798159+00:00",
        "updated_at": "2025-05-21T14:29:45.922062+00:00",
        "users": {
          "id": "7ce1ec2b-75e0-436d-a6d6-69ef7c6ecb70",
          "email": "manufacturasalamasas@gmail.com",
          "phone": "3005010715",
          "company": "Manufacturas Slama SAS",
          "full_name": "Mauricio Casta\u00f1eda"
        },
        "conversations": {
          "id": "c3863fb1-0aa8-4632-99b3-cbf224e20e77",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573005010715",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "c93a0168-1f3d-4bc2-a71b-cb694075168d",
        "user_id": "6fb0a48b-fde3-496e-b668-5be5629f3b5a",
        "conversation_id": "c3863fb1-0aa8-4632-99b3-cbf224e20e77",
        "consent": true,
        "current_step": "personal_data",
        "created_at": "2025-05-21T14:27:40.340069+00:00",
        "updated_at": "2025-05-21T14:27:40.455948+00:00",
        "users": {
          "id": "6fb0a48b-fde3-496e-b668-5be5629f3b5a",
          "email": null,
          "phone": "573005010715",
          "company": null,
          "full_name": "Usuario 573005010715"
        },
        "conversations": {
          "id": "c3863fb1-0aa8-4632-99b3-cbf224e20e77",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573005010715",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "5464720a-49af-4143-a59c-91d1c497a1e4",
        "user_id": "87acd942-8740-47a7-a4da-f9b3b1f726d9",
        "conversation_id": "7020e879-18d5-4128-973e-995193729ff0",
        "consent": true,
        "current_step": "personal_data",
        "created_at": "2025-05-21T02:31:55.255832+00:00",
        "updated_at": "2025-05-21T02:31:55.384465+00:00",
        "users": {
          "id": "87acd942-8740-47a7-a4da-f9b3b1f726d9",
          "email": null,
          "phone": "573043919891",
          "company": null,
          "full_name": "Usuario 573043919891"
        },
        "conversations": {
          "id": "7020e879-18d5-4128-973e-995193729ff0",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573043919891",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "4249299a-7adf-4991-9ffe-4a40b0f76eea",
        "user_id": "f56d9d43-b3c0-4092-b866-cd71b3dfaebb",
        "conversation_id": "35dc43cc-6fdd-4d26-9e65-a58b3b23cb29",
        "consent": true,
        "current_step": "personal_data",
        "created_at": "2025-05-19T23:08:29.097052+00:00",
        "updated_at": "2025-05-19T23:08:29.216702+00:00",
        "users": {
          "id": "f56d9d43-b3c0-4092-b866-cd71b3dfaebb",
          "email": null,
          "phone": "573127557630",
          "company": null,
          "full_name": "Usuario 573127557630"
        },
        "conversations": {
          "id": "35dc43cc-6fdd-4d26-9e65-a58b3b23cb29",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573127557630",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "0e19140c-27e9-4690-90b3-549732c3917b",
        "user_id": "40099dfe-85a9-4ed3-a385-d49335cc09e4",
        "conversation_id": "d1897623-2f99-4134-b4d8-84c78b7c0d88",
        "consent": true,
        "current_step": "personal_data",
        "created_at": "2025-05-18T09:56:06.859536+00:00",
        "updated_at": "2025-05-18T09:56:06.979766+00:00",
        "users": {
          "id": "40099dfe-85a9-4ed3-a385-d49335cc09e4",
          "email": null,
          "phone": "212613736256",
          "company": null,
          "full_name": "Usuario 212613736256"
        },
        "conversations": {
          "id": "d1897623-2f99-4134-b4d8-84c78b7c0d88",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "212613736256",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "c3a4a1fc-8123-4836-a67c-7cf885157907",
        "user_id": "8c72f321-560d-49c1-8580-ad3253e72750",
        "conversation_id": "2d7b53e1-90b3-42f4-b380-ebac958c5644",
        "consent": false,
        "current_step": "bant",
        "created_at": "2025-05-14T21:56:07.793268+00:00",
        "updated_at": "2025-05-15T15:09:51.244461+00:00",
        "users": {
          "id": "8c72f321-560d-49c1-8580-ad3253e72750",
          "email": "eamc081908@gmail.com",
          "phone": "54372329",
          "company": "Zapatoloco",
          "full_name": "Emma Castillo"
        },
        "conversations": {
          "id": "2d7b53e1-90b3-42f4-b380-ebac958c5644",
          "status": "closed",
          "platform": "whatsapp",
          "external_id": "50254372329",
          "agent_enabled": false
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "96e1e7eb-eca6-4b94-9e74-7175344d0719",
        "user_id": "92394372-1cb1-486d-a59f-97ebfc8f7d54",
        "conversation_id": "2d7b53e1-90b3-42f4-b380-ebac958c5644",
        "consent": true,
        "current_step": "completed",
        "created_at": "2025-05-14T21:55:37.369742+00:00",
        "updated_at": "2025-05-15T15:30:02.807688+00:00",
        "users": {
          "id": "92394372-1cb1-486d-a59f-97ebfc8f7d54",
          "email": null,
          "phone": "50254372329",
          "company": null,
          "full_name": "Usuario 50254372329"
        },
        "conversations": {
          "id": "2d7b53e1-90b3-42f4-b380-ebac958c5644",
          "status": "closed",
          "platform": "whatsapp",
          "external_id": "50254372329",
          "agent_enabled": false
        },
        "bant_data": [
          {
            "id": "f2456666-27d4-4136-a509-5278205cf42c",
            "need": "una aplicacion movil para la gestion de las notas de mis alumnos",
            "budget": "3000 usd",
            "timeline": "2 meses",
            "authority": "yo",
            "created_at": "2025-05-15T14:09:20.02388+00:00",
            "updated_at": "2025-05-15T15:27:30.589937+00:00",
            "lead_qualification_id": "96e1e7eb-eca6-4b94-9e74-7175344d0719"
          }
        ],
        "requirements": [
          {
            "id": "679396c9-dca5-44bc-b6b6-afd0ad4668bd",
            "app_type": "M\u00f3vil",
            "deadline": "2 meses",
            "features": [
              {
                "id": "60a573a7-6e12-4452-a1ff-1a5f6fc7552c",
                "name": "Publicada en la tienda de aplicaciones",
                "created_at": "2025-05-15T14:10:25.453623+00:00",
                "description": null,
                "requirement_id": "679396c9-dca5-44bc-b6b6-afd0ad4668bd"
              },
              {
                "id": "8b580f9d-991d-4216-9b38-6b94f510718e",
                "name": "multiplataforma",
                "created_at": "2025-05-15T14:10:25.577233+00:00",
                "description": null,
                "requirement_id": "679396c9-dca5-44bc-b6b6-afd0ad4668bd"
              },
              {
                "id": "a7971bbf-a551-4c96-b05b-ec46b141dbf5",
                "name": "gesti\u00f3n de notas",
                "created_at": "2025-05-15T15:27:30.591584+00:00",
                "description": null,
                "requirement_id": "679396c9-dca5-44bc-b6b6-afd0ad4668bd"
              }
            ],
            "created_at": "2025-05-15T14:10:25.32863+00:00",
            "updated_at": "2025-05-15T14:10:25.32863+00:00",
            "integrations": [
              {
                "id": "64f249ec-644d-4e67-aa81-9e12469e70d9",
                "name": "Conectada a mi correo",
                "created_at": "2025-05-15T14:10:25.705759+00:00",
                "description": null,
                "requirement_id": "679396c9-dca5-44bc-b6b6-afd0ad4668bd"
              }
            ],
            "lead_qualification_id": "96e1e7eb-eca6-4b94-9e74-7175344d0719"
          }
        ],
        "meetings": [
          {
            "id": "62cb44c9-e27e-4f76-ae9e-66b41f286e91",
            "status": "scheduled",
            "subject": "Reuni\u00f3n de consultor\u00eda - Desarrollo de software",
            "end_time": "2025-05-21T22:00:00+00:00",
            "start_time": "2025-05-21T21:00:00+00:00",
            "online_meeting_url": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_NTEyMzQ5OWEtYTU2Ny00MGQ5LWI4NWMtY2I3ZDg4NzYxMGJk%40thread.v2/0?context=%7b%22Tid%22%3a%22f261a9e3-f80f-42be-b3a3-5448e30d9ff2%22%2c%22Oid%22%3a%22df10dde8-7f52-4a77-a4ec-8b8fda1128e5%22%7d"
          },
          {
            "id": "d6584f7c-daee-4152-8ba5-0472b9d7d857",
            "status": "scheduled",
            "subject": "Demo personalizado - Soluci\u00f3n de software a medida | TDX",
            "end_time": "2025-05-19T18:00:00+00:00",
            "start_time": "2025-05-19T17:00:00+00:00",
            "online_meeting_url": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_YzJmZjE5YzAtNmJjOC00NzBlLWJmMDctZTZmYTBlYmI2YTc0%40thread.v2/0?context=%7b%22Tid%22%3a%22f261a9e3-f80f-42be-b3a3-5448e30d9ff2%22%2c%22Oid%22%3a%22df10dde8-7f52-4a77-a4ec-8b8fda1128e5%22%7d"
          },
          {
            "id": "3894475a-ef31-46d3-97e4-5c018ed5ba69",
            "status": "cancelled",
            "subject": "Demo personalizado - Soluci\u00f3n de software a medida | TDX",
            "end_time": "2025-05-20T16:00:00+00:00",
            "start_time": "2025-05-20T15:00:00+00:00",
            "online_meeting_url": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_MzFlZmUxZWMtN2I3Ni00Njk3LWI0ZTYtYmQxOTZkOGRiY2U1%40thread.v2/0?context=%7b%22Tid%22%3a%22f261a9e3-f80f-42be-b3a3-5448e30d9ff2%22%2c%22Oid%22%3a%22df10dde8-7f52-4a77-a4ec-8b8fda1128e5%22%7d"
          },
          {
            "id": "c7d33eac-50ca-4902-a812-f3bb60790dfc",
            "status": "scheduled",
            "subject": "TDX | Demo personalizado - Soluci\u00f3n de software a medida",
            "end_time": "2025-05-30T22:00:00+00:00",
            "start_time": "2025-05-30T21:00:00+00:00",
            "online_meeting_url": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_NWUzMWI3ZWItYzU3MS00NjFjLThlYWUtZGUxN2E5NDU1ZDNk%40thread.v2/0?context=%7b%22Tid%22%3a%22f261a9e3-f80f-42be-b3a3-5448e30d9ff2%22%2c%22Oid%22%3a%22df10dde8-7f52-4a77-a4ec-8b8fda1128e5%22%7d"
          }
        ]
      },
      {
        "id": "9abeeb1f-50ea-4466-a388-32560ef25d4b",
        "user_id": "dba1ff30-7aea-4b52-a09b-88bd7221f016",
        "conversation_id": "5db5791a-c545-48e2-a062-ea4ece5917c4",
        "consent": false,
        "current_step": "bant",
        "created_at": "2025-05-13T22:58:45.037215+00:00",
        "updated_at": "2025-05-15T15:25:06.088993+00:00",
        "users": {
          "id": "dba1ff30-7aea-4b52-a09b-88bd7221f016",
          "email": "freddy.rincones@tdxcore.com",
          "phone": "3153041548",
          "company": "Empresa TDX",
          "full_name": "Freddy Rincones"
        },
        "conversations": {
          "id": "5db5791a-c545-48e2-a062-ea4ece5917c4",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573153041548",
          "agent_enabled": true
        },
        "bant_data": [],
        "requirements": [],
        "meetings": []
      },
      {
        "id": "2a705627-6d57-4f31-9611-cc7fb69421aa",
        "user_id": "db0f337e-9802-4ea2-b29d-321851472d6d",
        "conversation_id": "5db5791a-c545-48e2-a062-ea4ece5917c4",
        "consent": true,
        "current_step": "personal_data",
        "created_at": "2025-05-13T22:39:14.878884+00:00",
        "updated_at": "2025-05-22T22:00:03.895788+00:00",
        "users": {
          "id": "db0f337e-9802-4ea2-b29d-321851472d6d",
          "email": null,
          "phone": "573153041548",
          "company": null,
          "full_name": "Usuario 573153041548"
        },
        "conversations": {
          "id": "5db5791a-c545-48e2-a062-ea4ece5917c4",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573153041548",
          "agent_enabled": true
        },
        "bant_data": [
          {
            "id": "8bdf1b65-b01c-4db4-90e4-60b02c64e062",
            "need": "Chatbot AI integrado con sistema ERP",
            "budget": "S\u00ed, tengo el presupuesto",
            "timeline": "1 mes",
            "authority": "Yo soy quien toma las decisiones",
            "created_at": "2025-05-15T02:17:14.481651+00:00",
            "updated_at": "2025-05-15T15:27:13.855608+00:00",
            "lead_qualification_id": "2a705627-6d57-4f31-9611-cc7fb69421aa"
          }
        ],
        "requirements": [
          {
            "id": "a958e05b-e08a-4ccc-b7a5-85355c6edf82",
            "app_type": "Web",
            "deadline": "1 mes",
            "features": [
              {
                "id": "fef52f4a-edde-46d4-8448-59e78a533c30",
                "name": "manejar el inventario",
                "created_at": "2025-05-15T02:18:22.950212+00:00",
                "description": null,
                "requirement_id": "a958e05b-e08a-4ccc-b7a5-85355c6edf82"
              },
              {
                "id": "42c3ad4e-ea7f-470b-9530-4292fdce36fb",
                "name": "llevar el sistema de inventarios",
                "created_at": "2025-05-15T14:23:15.760198+00:00",
                "description": null,
                "requirement_id": "a958e05b-e08a-4ccc-b7a5-85355c6edf82"
              },
              {
                "id": "50f03db6-a4df-4984-8d5a-66e0a53f82ee",
                "name": "ERP completo con procesos de HR",
                "created_at": "2025-05-15T15:10:48.930699+00:00",
                "description": null,
                "requirement_id": "a958e05b-e08a-4ccc-b7a5-85355c6edf82"
              },
              {
                "id": "5eb613f6-432c-4389-8130-c635c17c5754",
                "name": "Chatbot AI con integraci\u00f3n a sistema ERP",
                "created_at": "2025-05-15T15:27:13.590618+00:00",
                "description": null,
                "requirement_id": "a958e05b-e08a-4ccc-b7a5-85355c6edf82"
              }
            ],
            "created_at": "2025-05-15T02:18:22.834493+00:00",
            "updated_at": "2025-05-15T02:18:22.834493+00:00",
            "integrations": [
              {
                "id": "82e1fa96-a1c0-408a-850c-954decfcc6f1",
                "name": "WhatsApp",
                "created_at": "2025-05-15T02:18:23.067842+00:00",
                "description": null,
                "requirement_id": "a958e05b-e08a-4ccc-b7a5-85355c6edf82"
              },
              {
                "id": "90cb478d-697c-48b0-bb02-85caba66b8df",
                "name": "integraci\u00f3n con WhatsApp",
                "created_at": "2025-05-15T14:23:15.87872+00:00",
                "description": null,
                "requirement_id": "a958e05b-e08a-4ccc-b7a5-85355c6edf82"
              },
              {
                "id": "81eb83f7-965f-4a0f-b795-3b409b90725b",
                "name": "WhatsApp",
                "created_at": "2025-05-15T15:10:49.192084+00:00",
                "description": null,
                "requirement_id": "a958e05b-e08a-4ccc-b7a5-85355c6edf82"
              },
              {
                "id": "3f3edb01-9d76-4919-a5a7-523cdd6be375",
                "name": "Sistema ERP",
                "created_at": "2025-05-15T15:27:13.72739+00:00",
                "description": null,
                "requirement_id": "a958e05b-e08a-4ccc-b7a5-85355c6edf82"
              }
            ],
            "lead_qualification_id": "2a705627-6d57-4f31-9611-cc7fb69421aa"
          }
        ],
        "meetings": [
          {
            "id": "a842040b-ff56-4d42-80c4-2e0228386eb1",
            "status": "scheduled",
            "subject": "Reuni\u00f3n de consultor\u00eda - Desarrollo de software",
            "end_time": "2025-05-19T14:00:00+00:00",
            "start_time": "2025-05-19T13:00:00+00:00",
            "online_meeting_url": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_NzYyYzZhZDItZjlhOC00NmY5LWFkMzQtNDNlNThkZjU4MGZj%40thread.v2/0?context=%7b%22Tid%22%3a%22f261a9e3-f80f-42be-b3a3-5448e30d9ff2%22%2c%22Oid%22%3a%22df10dde8-7f52-4a77-a4ec-8b8fda1128e5%22%7d"
          },
          {
            "id": "3c4cb997-6a47-4dec-817e-31fb5d4a1100",
            "status": "rescheduled",
            "subject": "Reuni\u00f3n de consultor\u00eda - Desarrollo de software",
            "end_time": "2025-05-19T16:00:00+00:00",
            "start_time": "2025-05-19T15:00:00+00:00",
            "online_meeting_url": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_MjczNWU2NjQtNDA2MC00Zjk0LTg3MGItMjY3ZGI2ZjhkNDAy%40thread.v2/0?context=%7b%22Tid%22%3a%22f261a9e3-f80f-42be-b3a3-5448e30d9ff2%22%2c%22Oid%22%3a%22df10dde8-7f52-4a77-a4ec-8b8fda1128e5%22%7d"
          },
          {
            "id": "cd011913-cb87-4110-87eb-0cd1f5b031a7",
            "status": "cancelled",
            "subject": "TDX | Demo personalizado - Soluci\u00f3n de software a medida",
            "end_time": "2025-05-21T21:00:00+00:00",
            "start_time": "2025-05-21T20:00:00+00:00",
            "online_meeting_url": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_MjNhODUwMWItNjE1MS00ZmMzLWFlZWMtOGM4NDhlYjNlYzll%40thread.v2/0?context=%7b%22Tid%22%3a%22f261a9e3-f80f-42be-b3a3-5448e30d9ff2%22%2c%22Oid%22%3a%22df10dde8-7f52-4a77-a4ec-8b8fda1128e5%22%7d"
          },
          {
            "id": "e7bc1a11-532d-490e-a5a4-cb5f9ff77ee3",
            "status": "cancelled",
            "subject": "TDX | Demo personalizado - Soluci\u00f3n de software a medida",
            "end_time": "2025-05-19T17:00:00+00:00",
            "start_time": "2025-05-19T16:00:00+00:00",
            "online_meeting_url": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_OTI1NGQ1YmYtNDYzMS00YWFmLWIyMDItZjAxMDQyYTM5ZmQw%40thread.v2/0?context=%7b%22Tid%22%3a%22f261a9e3-f80f-42be-b3a3-5448e30d9ff2%22%2c%22Oid%22%3a%22df10dde8-7f52-4a77-a4ec-8b8fda1128e5%22%7d"
          }
        ]
      },
      {
        "id": "84251ce9-3c78-4a8f-85b6-fa929b6b5196",
        "user_id": "893301d6-fd50-4e11-8a71-05aef12a6810",
        "conversation_id": "45eee39c-319c-45ae-96e7-f8320cae77e0",
        "consent": false,
        "current_step": "completed",
        "created_at": "2025-05-13T19:57:15.333895+00:00",
        "updated_at": "2025-05-13T19:57:17.706439+00:00",
        "users": {
          "id": "893301d6-fd50-4e11-8a71-05aef12a6810",
          "email": "test_c223a450-701d-44c2-8714-e2d4bed8d2fb@example.com",
          "phone": "+1d4bed8d2fb",
          "company": "Empresa de Prueba",
          "full_name": "Usuario Prueba c223a450-701d-44c2-8714-e2d4bed8d2fb"
        },
        "conversations": {
          "id": "45eee39c-319c-45ae-96e7-f8320cae77e0",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "+1d4bed8d2fb",
          "agent_enabled": true
        },
        "bant_data": [
          {
            "id": "4ef9fc5f-21c5-47e2-b73a-54c569001f25",
            "need": "Necesito una aplicaci\u00f3n para gestionar inventario",
            "budget": "10000-20000 USD",
            "timeline": "3 meses",
            "authority": "Soy el responsable de la decisi\u00f3n",
            "created_at": "2025-05-13T19:57:16.080582+00:00",
            "updated_at": "2025-05-13T19:57:16.080582+00:00",
            "lead_qualification_id": "84251ce9-3c78-4a8f-85b6-fa929b6b5196"
          }
        ],
        "requirements": [
          {
            "id": "ad13de5a-f016-474e-976e-8f1f5255d375",
            "app_type": "Aplicaci\u00f3n web",
            "deadline": "Diciembre 2025",
            "features": [
              {
                "id": "f22389c9-07ca-4c8e-9b93-276e6deadb36",
                "name": "Login",
                "created_at": "2025-05-13T19:57:16.682425+00:00",
                "description": null,
                "requirement_id": "ad13de5a-f016-474e-976e-8f1f5255d375"
              },
              {
                "id": "f6bc7883-31af-4350-9ed3-62548eb619e6",
                "name": "Dashboard",
                "created_at": "2025-05-13T19:57:16.73103+00:00",
                "description": null,
                "requirement_id": "ad13de5a-f016-474e-976e-8f1f5255d375"
              },
              {
                "id": "25b936d0-a92b-4890-8534-47cad85a582a",
                "name": "Reportes",
                "created_at": "2025-05-13T19:57:16.770432+00:00",
                "description": null,
                "requirement_id": "ad13de5a-f016-474e-976e-8f1f5255d375"
              },
              {
                "id": "5f050a1d-4643-44c1-87c7-1ebf26f06920",
                "name": "Gesti\u00f3n de usuarios",
                "created_at": "2025-05-13T19:57:16.826266+00:00",
                "description": null,
                "requirement_id": "ad13de5a-f016-474e-976e-8f1f5255d375"
              }
            ],
            "created_at": "2025-05-13T19:57:16.627035+00:00",
            "updated_at": "2025-05-13T19:57:16.627035+00:00",
            "integrations": [
              {
                "id": "1e9d0ff7-8c28-4ac5-87fa-6eda312f4db9",
                "name": "API de pagos",
                "created_at": "2025-05-13T19:57:16.8639+00:00",
                "description": null,
                "requirement_id": "ad13de5a-f016-474e-976e-8f1f5255d375"
              },
              {
                "id": "857e743d-7a7c-4e8c-b151-67ee0cc6f04b",
                "name": "CRM",
                "created_at": "2025-05-13T19:57:16.903514+00:00",
                "description": null,
                "requirement_id": "ad13de5a-f016-474e-976e-8f1f5255d375"
              },
              {
                "id": "2cfb4ff6-16bd-402e-96ec-e78c4f26b630",
                "name": "ERP",
                "created_at": "2025-05-13T19:57:16.93657+00:00",
                "description": null,
                "requirement_id": "ad13de5a-f016-474e-976e-8f1f5255d375"
              }
            ],
            "lead_qualification_id": "84251ce9-3c78-4a8f-85b6-fa929b6b5196"
          }
        ],
        "meetings": [
          {
            "id": "23eef4bd-ae8b-4973-a429-dc91abe8b187",
            "status": "scheduled",
            "subject": "Reuni\u00f3n de consultor\u00eda - Desarrollo de software",
            "end_time": "2025-12-15T15:30:00+00:00",
            "start_time": "2025-12-15T14:30:00+00:00",
            "online_meeting_url": "https://teams.microsoft.com/l/meetup-join/ddffe1e7-56fc-48b2-b1dc-9d06a68e3df6"
          }
        ]
      },
      {
        "id": "53ad786d-e1e8-4dbb-9dd7-d7543a70b664",
        "user_id": "583cd038-ca1a-4dd8-a929-b44e388cf329",
        "conversation_id": "469d3e79-ee14-4b6a-93ab-359d318260de",
        "consent": false,
        "current_step": "meeting",
        "created_at": "2025-05-13T19:56:04.430961+00:00",
        "updated_at": "2025-05-13T19:56:06.260876+00:00",
        "users": {
          "id": "583cd038-ca1a-4dd8-a929-b44e388cf329",
          "email": "test_6ff6a4ce-db45-4d7d-ba01-ab870ffe0d16@example.com",
          "phone": "+1870ffe0d16",
          "company": "Empresa de Prueba",
          "full_name": "Usuario Prueba 6ff6a4ce-db45-4d7d-ba01-ab870ffe0d16"
        },
        "conversations": {
          "id": "469d3e79-ee14-4b6a-93ab-359d318260de",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "+1870ffe0d16",
          "agent_enabled": true
        },
        "bant_data": [
          {
            "id": "feb5bdf9-0f41-4a9a-b91d-a0829e85dcaf",
            "need": "Necesito una aplicaci\u00f3n para gestionar inventario",
            "budget": "10000-20000 USD",
            "timeline": "3 meses",
            "authority": "Soy el responsable de la decisi\u00f3n",
            "created_at": "2025-05-13T19:56:05.368251+00:00",
            "updated_at": "2025-05-13T19:56:05.368251+00:00",
            "lead_qualification_id": "53ad786d-e1e8-4dbb-9dd7-d7543a70b664"
          }
        ],
        "requirements": [
          {
            "id": "dfb93c13-5fe2-4de7-a082-cc84d1ab703b",
            "app_type": "Aplicaci\u00f3n web",
            "deadline": "Diciembre 2025",
            "features": [
              {
                "id": "992183c6-3966-457f-b1ef-cc3979d8a010",
                "name": "Login",
                "created_at": "2025-05-13T19:56:05.932593+00:00",
                "description": null,
                "requirement_id": "dfb93c13-5fe2-4de7-a082-cc84d1ab703b"
              },
              {
                "id": "6b26e5cc-94a4-41cb-8459-a84a0af8197a",
                "name": "Dashboard",
                "created_at": "2025-05-13T19:56:05.970397+00:00",
                "description": null,
                "requirement_id": "dfb93c13-5fe2-4de7-a082-cc84d1ab703b"
              },
              {
                "id": "e549aef2-83f7-41a6-9b9d-a986bcc85f0e",
                "name": "Reportes",
                "created_at": "2025-05-13T19:56:06.015997+00:00",
                "description": null,
                "requirement_id": "dfb93c13-5fe2-4de7-a082-cc84d1ab703b"
              },
              {
                "id": "aa89ff86-6ccc-4946-892c-20adb666d9cb",
                "name": "Gesti\u00f3n de usuarios",
                "created_at": "2025-05-13T19:56:06.05864+00:00",
                "description": null,
                "requirement_id": "dfb93c13-5fe2-4de7-a082-cc84d1ab703b"
              }
            ],
            "created_at": "2025-05-13T19:56:05.900005+00:00",
            "updated_at": "2025-05-13T19:56:05.900005+00:00",
            "integrations": [
              {
                "id": "4c6d3360-86d4-4909-9470-4881d3ca5ec7",
                "name": "API de pagos",
                "created_at": "2025-05-13T19:56:06.083934+00:00",
                "description": null,
                "requirement_id": "dfb93c13-5fe2-4de7-a082-cc84d1ab703b"
              },
              {
                "id": "9ea7055c-7d75-4820-8496-5b3f9f98ccdd",
                "name": "CRM",
                "created_at": "2025-05-13T19:56:06.136086+00:00",
                "description": null,
                "requirement_id": "dfb93c13-5fe2-4de7-a082-cc84d1ab703b"
              },
              {
                "id": "7b8761e8-1151-4e5c-acc9-dc117343aa36",
                "name": "ERP",
                "created_at": "2025-05-13T19:56:06.20797+00:00",
                "description": null,
                "requirement_id": "dfb93c13-5fe2-4de7-a082-cc84d1ab703b"
              }
            ],
            "lead_qualification_id": "53ad786d-e1e8-4dbb-9dd7-d7543a70b664"
          }
        ],
        "meetings": []
      },
      {
        "id": "d9b6778e-1d8b-446f-814b-3031240039c3",
        "user_id": "12d3dfb8-6381-407c-91fe-4bc1d5305e60",
        "conversation_id": "fcfad2db-36f0-487d-ac7c-a38fa5db9e26",
        "consent": false,
        "current_step": "meeting",
        "created_at": "2025-05-13T19:37:17.68809+00:00",
        "updated_at": "2025-05-13T19:37:19.875635+00:00",
        "users": {
          "id": "12d3dfb8-6381-407c-91fe-4bc1d5305e60",
          "email": "test_0bdbcf6f-3128-4817-9ee9-f8322520d6cb@example.com",
          "phone": "+1322520d6cb",
          "company": "Empresa de Prueba",
          "full_name": "Usuario Prueba 0bdbcf6f-3128-4817-9ee9-f8322520d6cb"
        },
        "conversations": {
          "id": "fcfad2db-36f0-487d-ac7c-a38fa5db9e26",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "+1322520d6cb",
          "agent_enabled": true
        },
        "bant_data": [
          {
            "id": "404fc5c8-7b99-47d0-bada-ea23517bce72",
            "need": "Necesito una aplicaci\u00f3n para gestionar inventario",
            "budget": "10000-20000 USD",
            "timeline": "3 meses",
            "authority": "Soy el responsable de la decisi\u00f3n",
            "created_at": "2025-05-13T19:37:18.732502+00:00",
            "updated_at": "2025-05-13T19:37:18.732502+00:00",
            "lead_qualification_id": "d9b6778e-1d8b-446f-814b-3031240039c3"
          }
        ],
        "requirements": [
          {
            "id": "8e31e141-3c1c-49f3-b664-1cf166f9004b",
            "app_type": "Aplicaci\u00f3n web",
            "deadline": "Diciembre 2025",
            "features": [
              {
                "id": "d45b8802-8597-4450-aa97-18414b10b610",
                "name": "Login",
                "created_at": "2025-05-13T19:37:19.422732+00:00",
                "description": null,
                "requirement_id": "8e31e141-3c1c-49f3-b664-1cf166f9004b"
              },
              {
                "id": "8ab7730e-7689-4b0d-8093-1db2aa35de11",
                "name": "Dashboard",
                "created_at": "2025-05-13T19:37:19.492306+00:00",
                "description": null,
                "requirement_id": "8e31e141-3c1c-49f3-b664-1cf166f9004b"
              },
              {
                "id": "8f1a5598-ee2f-4a5f-9b8b-aa07da81be1f",
                "name": "Reportes",
                "created_at": "2025-05-13T19:37:19.561554+00:00",
                "description": null,
                "requirement_id": "8e31e141-3c1c-49f3-b664-1cf166f9004b"
              },
              {
                "id": "2583019a-0a0d-4387-9d7b-979d94d45be9",
                "name": "Gesti\u00f3n de usuarios",
                "created_at": "2025-05-13T19:37:19.610161+00:00",
                "description": null,
                "requirement_id": "8e31e141-3c1c-49f3-b664-1cf166f9004b"
              }
            ],
            "created_at": "2025-05-13T19:37:19.363347+00:00",
            "updated_at": "2025-05-13T19:37:19.363347+00:00",
            "integrations": [
              {
                "id": "7d6d29a0-67ba-4fbe-b812-ce46c295e25e",
                "name": "API de pagos",
                "created_at": "2025-05-13T19:37:19.670074+00:00",
                "description": null,
                "requirement_id": "8e31e141-3c1c-49f3-b664-1cf166f9004b"
              },
              {
                "id": "f64ee7f4-5cbb-4721-ab24-1bae8b75f299",
                "name": "CRM",
                "created_at": "2025-05-13T19:37:19.760887+00:00",
                "description": null,
                "requirement_id": "8e31e141-3c1c-49f3-b664-1cf166f9004b"
              },
              {
                "id": "43667628-ba5e-4752-b937-0e635cdf9ddb",
                "name": "ERP",
                "created_at": "2025-05-13T19:37:19.800992+00:00",
                "description": null,
                "requirement_id": "8e31e141-3c1c-49f3-b664-1cf166f9004b"
              }
            ],
            "lead_qualification_id": "d9b6778e-1d8b-446f-814b-3031240039c3"
          }
        ],
        "meetings": []
      },
      {
        "id": "401d87a9-4c26-46f4-a908-210657ba429f",
        "user_id": "c17f694f-fa72-4038-98e9-13e8a344c3e1",
        "conversation_id": "e228ed06-dbec-4e4c-885a-5d65e13b3dfa",
        "consent": false,
        "current_step": "meeting",
        "created_at": "2025-05-13T19:13:27.800657+00:00",
        "updated_at": "2025-05-13T19:13:28.840715+00:00",
        "users": {
          "id": "c17f694f-fa72-4038-98e9-13e8a344c3e1",
          "email": "test_4edea5f5-8e57-4fb3-9a1f-68ffa9d5503c@example.com",
          "phone": "+1ffa9d5503c",
          "company": "Empresa de Prueba",
          "full_name": "Usuario Prueba 4edea5f5-8e57-4fb3-9a1f-68ffa9d5503c"
        },
        "conversations": {
          "id": "e228ed06-dbec-4e4c-885a-5d65e13b3dfa",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "+1ffa9d5503c",
          "agent_enabled": true
        },
        "bant_data": [
          {
            "id": "e437297c-25f7-416e-8e4a-6046cd44412c",
            "need": "Necesito una aplicaci\u00f3n para gestionar inventario",
            "budget": "10000-20000 USD",
            "timeline": "3 meses",
            "authority": "Soy el responsable de la decisi\u00f3n",
            "created_at": "2025-05-13T19:13:28.211689+00:00",
            "updated_at": "2025-05-13T19:13:28.211689+00:00",
            "lead_qualification_id": "401d87a9-4c26-46f4-a908-210657ba429f"
          }
        ],
        "requirements": [
          {
            "id": "56a27cad-ed0b-496a-a23b-2113fb9bd403",
            "app_type": "Aplicaci\u00f3n web",
            "deadline": "Diciembre 2025",
            "features": [
              {
                "id": "53d0976d-2bd7-48f3-b73c-797b93b51684",
                "name": "Login",
                "created_at": "2025-05-13T19:13:28.622011+00:00",
                "description": null,
                "requirement_id": "56a27cad-ed0b-496a-a23b-2113fb9bd403"
              },
              {
                "id": "ab033d62-8c8e-461f-aa83-c417cbf6fc40",
                "name": "Dashboard",
                "created_at": "2025-05-13T19:13:28.652741+00:00",
                "description": null,
                "requirement_id": "56a27cad-ed0b-496a-a23b-2113fb9bd403"
              },
              {
                "id": "ad6401ec-5b18-4537-8fb4-40824600e09a",
                "name": "Reportes",
                "created_at": "2025-05-13T19:13:28.679306+00:00",
                "description": null,
                "requirement_id": "56a27cad-ed0b-496a-a23b-2113fb9bd403"
              },
              {
                "id": "5b58b065-b5c9-4c53-b503-b6971309df31",
                "name": "Gesti\u00f3n de usuarios",
                "created_at": "2025-05-13T19:13:28.709073+00:00",
                "description": null,
                "requirement_id": "56a27cad-ed0b-496a-a23b-2113fb9bd403"
              }
            ],
            "created_at": "2025-05-13T19:13:28.59694+00:00",
            "updated_at": "2025-05-13T19:13:28.59694+00:00",
            "integrations": [
              {
                "id": "07b93432-e855-4fa7-aaca-b46ea02c662f",
                "name": "API de pagos",
                "created_at": "2025-05-13T19:13:28.736158+00:00",
                "description": null,
                "requirement_id": "56a27cad-ed0b-496a-a23b-2113fb9bd403"
              },
              {
                "id": "9a68a784-85bd-46dc-988d-b5978c6d6c24",
                "name": "CRM",
                "created_at": "2025-05-13T19:13:28.782252+00:00",
                "description": null,
                "requirement_id": "56a27cad-ed0b-496a-a23b-2113fb9bd403"
              },
              {
                "id": "3a095b16-76bc-4136-889f-20bdc2473083",
                "name": "ERP",
                "created_at": "2025-05-13T19:13:28.808017+00:00",
                "description": null,
                "requirement_id": "56a27cad-ed0b-496a-a23b-2113fb9bd403"
              }
            ],
            "lead_qualification_id": "401d87a9-4c26-46f4-a908-210657ba429f"
          }
        ],
        "meetings": []
      },
      {
        "id": "af4c0aa6-9866-432f-8c26-12e61d8e7073",
        "user_id": "0123b138-081d-481e-8608-58891c1509df",
        "conversation_id": "7380ec88-839b-4de6-9d7c-7d3d4f02968f",
        "consent": false,
        "current_step": "meeting",
        "created_at": "2025-05-13T19:13:16.64068+00:00",
        "updated_at": "2025-05-13T19:13:18.248025+00:00",
        "users": {
          "id": "0123b138-081d-481e-8608-58891c1509df",
          "email": "test_bc74fa6e-a93b-469f-a0c6-286670f706a1@example.com",
          "phone": "+16670f706a1",
          "company": "Empresa de Prueba",
          "full_name": "Usuario Prueba bc74fa6e-a93b-469f-a0c6-286670f706a1"
        },
        "conversations": {
          "id": "7380ec88-839b-4de6-9d7c-7d3d4f02968f",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "+16670f706a1",
          "agent_enabled": true
        },
        "bant_data": [
          {
            "id": "86797c63-453a-46c8-bc17-cea511b4e030",
            "need": "Necesito una aplicaci\u00f3n para gestionar inventario",
            "budget": "10000-20000 USD",
            "timeline": "3 meses",
            "authority": "Soy el responsable de la decisi\u00f3n",
            "created_at": "2025-05-13T19:13:17.093101+00:00",
            "updated_at": "2025-05-13T19:13:17.093101+00:00",
            "lead_qualification_id": "af4c0aa6-9866-432f-8c26-12e61d8e7073"
          }
        ],
        "requirements": [
          {
            "id": "84aa3944-cc48-4112-9aac-d4bd5ad42838",
            "app_type": "Aplicaci\u00f3n web",
            "deadline": "Diciembre 2025",
            "features": [
              {
                "id": "5cadfb00-db42-44a4-9dcb-a5c7c38a162e",
                "name": "Login",
                "created_at": "2025-05-13T19:13:17.968911+00:00",
                "description": null,
                "requirement_id": "84aa3944-cc48-4112-9aac-d4bd5ad42838"
              },
              {
                "id": "d235e921-5c94-40bc-9a12-047332d5f87e",
                "name": "Dashboard",
                "created_at": "2025-05-13T19:13:18.001029+00:00",
                "description": null,
                "requirement_id": "84aa3944-cc48-4112-9aac-d4bd5ad42838"
              },
              {
                "id": "35d5080e-f125-4dc8-ab40-ef77da105451",
                "name": "Reportes",
                "created_at": "2025-05-13T19:13:18.054461+00:00",
                "description": null,
                "requirement_id": "84aa3944-cc48-4112-9aac-d4bd5ad42838"
              },
              {
                "id": "0c038920-19d8-4477-af29-3d7c2d635add",
                "name": "Gesti\u00f3n de usuarios",
                "created_at": "2025-05-13T19:13:18.10029+00:00",
                "description": null,
                "requirement_id": "84aa3944-cc48-4112-9aac-d4bd5ad42838"
              }
            ],
            "created_at": "2025-05-13T19:13:17.930765+00:00",
            "updated_at": "2025-05-13T19:13:17.930765+00:00",
            "integrations": [
              {
                "id": "617e5310-2782-4217-8eb2-41d1e356149c",
                "name": "API de pagos",
                "created_at": "2025-05-13T19:13:18.146631+00:00",
                "description": null,
                "requirement_id": "84aa3944-cc48-4112-9aac-d4bd5ad42838"
              },
              {
                "id": "e29e09f5-47f1-4af7-9e6b-4512f10933e8",
                "name": "CRM",
                "created_at": "2025-05-13T19:13:18.182729+00:00",
                "description": null,
                "requirement_id": "84aa3944-cc48-4112-9aac-d4bd5ad42838"
              },
              {
                "id": "7cff412d-b215-40de-820b-ecd75492fc75",
                "name": "ERP",
                "created_at": "2025-05-13T19:13:18.210481+00:00",
                "description": null,
                "requirement_id": "84aa3944-cc48-4112-9aac-d4bd5ad42838"
              }
            ],
            "lead_qualification_id": "af4c0aa6-9866-432f-8c26-12e61d8e7073"
          }
        ],
        "meetings": []
      },
      {
        "id": "5251b716-82c3-42dd-9b90-fc8da3f7334d",
        "user_id": "ca228c4a-3bcc-4787-8bdc-1b4073cb9ff1",
        "conversation_id": "3d3610d0-d26b-46f4-8808-45c3405054f7",
        "consent": false,
        "current_step": "meeting",
        "created_at": "2025-05-13T19:13:11.849425+00:00",
        "updated_at": "2025-05-13T19:13:13.818372+00:00",
        "users": {
          "id": "ca228c4a-3bcc-4787-8bdc-1b4073cb9ff1",
          "email": "test_e06e21fd-a2c7-4e82-9231-00acd406807b@example.com",
          "phone": "+1acd406807b",
          "company": "Empresa de Prueba",
          "full_name": "Usuario Prueba e06e21fd-a2c7-4e82-9231-00acd406807b"
        },
        "conversations": {
          "id": "3d3610d0-d26b-46f4-8808-45c3405054f7",
          "status": "active",
          "platform": "whatsapp",
          "external_id": "+1acd406807b",
          "agent_enabled": true
        },
        "bant_data": [
          {
            "id": "0d6fca39-e741-41c6-b971-930486c3a71b",
            "need": "Necesito una aplicaci\u00f3n para gestionar inventario",
            "budget": "10000-20000 USD",
            "timeline": "3 meses",
            "authority": "Soy el responsable de la decisi\u00f3n",
            "created_at": "2025-05-13T19:13:12.687175+00:00",
            "updated_at": "2025-05-13T19:13:12.687175+00:00",
            "lead_qualification_id": "5251b716-82c3-42dd-9b90-fc8da3f7334d"
          }
        ],
        "requirements": [
          {
            "id": "2ae64ef2-013c-4d4e-9da6-5d80d066e744",
            "app_type": "Aplicaci\u00f3n web",
            "deadline": "Diciembre 2025",
            "features": [
              {
                "id": "f28dffe0-af94-4387-9a8f-86c46962a75e",
                "name": "Login",
                "created_at": "2025-05-13T19:13:13.515502+00:00",
                "description": null,
                "requirement_id": "2ae64ef2-013c-4d4e-9da6-5d80d066e744"
              },
              {
                "id": "3b66bfad-3bb2-4a49-9a62-ad17d84e7cf1",
                "name": "Dashboard",
                "created_at": "2025-05-13T19:13:13.566436+00:00",
                "description": null,
                "requirement_id": "2ae64ef2-013c-4d4e-9da6-5d80d066e744"
              },
              {
                "id": "59985a7a-4bdb-41dc-8814-355824c7b33e",
                "name": "Reportes",
                "created_at": "2025-05-13T19:13:13.612132+00:00",
                "description": null,
                "requirement_id": "2ae64ef2-013c-4d4e-9da6-5d80d066e744"
              },
              {
                "id": "373a8159-773f-4ac3-885d-fdc41145d0f3",
                "name": "Gesti\u00f3n de usuarios",
                "created_at": "2025-05-13T19:13:13.654051+00:00",
                "description": null,
                "requirement_id": "2ae64ef2-013c-4d4e-9da6-5d80d066e744"
              }
            ],
            "created_at": "2025-05-13T19:13:13.47187+00:00",
            "updated_at": "2025-05-13T19:13:13.47187+00:00",
            "integrations": [
              {
                "id": "a6ec93b6-9515-4cff-b089-e4792d02f264",
                "name": "API de pagos",
                "created_at": "2025-05-13T19:13:13.691087+00:00",
                "description": null,
                "requirement_id": "2ae64ef2-013c-4d4e-9da6-5d80d066e744"
              },
              {
                "id": "c6b3f85f-e605-4276-8550-0a70b8ff122c",
                "name": "CRM",
                "created_at": "2025-05-13T19:13:13.745965+00:00",
                "description": null,
                "requirement_id": "2ae64ef2-013c-4d4e-9da6-5d80d066e744"
              },
              {
                "id": "b9f04c5a-9be8-48e3-a065-e3526af89c88",
                "name": "ERP",
                "created_at": "2025-05-13T19:13:13.774279+00:00",
                "description": null,
                "requirement_id": "2ae64ef2-013c-4d4e-9da6-5d80d066e744"
              }
            ],
            "lead_qualification_id": "5251b716-82c3-42dd-9b90-fc8da3f7334d"
          }
        ],
        "meetings": []
      }
    ],
    "pagination": {
      "limit": 50,
      "offset": 0,
      "total": 24
    }
  }
}
2025-05-24 18:13:23.552 [    INFO] __main__: 📊 Response size: 36309 bytes
2025-05-24 18:13:23.556 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:23.557 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:23.557 [    INFO] __main__: 📈 Records processed: 24
2025-05-24 18:13:23.557 [    INFO] __main__: ✅ get_all_leads - 44.7ms - Score: 100.0%
2025-05-24 18:13:23.558 [    INFO] __main__: 🧪 INICIANDO PRUEBA: leads.get_lead_pipeline
2025-05-24 18:13:23.558 [    INFO] __main__: 📋 ID de prueba: a31cc293-9f05-49f0-a7fc-bd66cf58d5b8
2025-05-24 18:13:23.558 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:23.558997
2025-05-24 18:13:23.559 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "a31cc293-9f05-49f0-a7fc-bd66cf58d5b8",
  "resource": "leads",
  "payload": {
    "action": "get_lead_pipeline"
  }
}
2025-05-24 18:13:23.559 [    INFO] __main__: 📊 Request size: 148 bytes
2025-05-24 18:13:23.559 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:23.564 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "a31cc293-9f05..._lead_pipeline"\n  }\n}' [148 bytes]
2025-05-24 18:13:23.564 [    INFO] __main__: 📤 Mensaje enviado en 0.0ms
2025-05-24 18:13:23.985 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"a31cc293-9f05-49f0-a7f...5-24T18:13:23.984667"}}' [6265 bytes]
2025-05-24 18:13:23.985 [    INFO] __main__: 📥 Respuesta recibida en 419.7ms
2025-05-24 18:13:23.986 [    INFO] __main__: ⏱️ Tiempo total: 421.7ms
2025-05-24 18:13:23.987 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "a31cc293-9f05-49f0-a7fc-bd66cf58d5b8",
  "payload": {
    "pipeline": [
      {
        "step": "start",
        "count": 0,
        "examples": []
      },
      {
        "step": "consent",
        "count": 0,
        "examples": []
      },
      {
        "step": "personal_data",
        "count": 9,
        "examples": [
          {
            "id": "aef4dc8e-bc7c-4c95-a7dd-e37e55c41510",
            "created_at": "2025-05-23T12:04:35.486671+00:00",
            "updated_at": "2025-05-23T12:04:35.610752+00:00",
            "users": {
              "email": null,
              "phone": "2693209627",
              "full_name": "Usuario 2693209627"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "2693209627"
            }
          },
          {
            "id": "2a705627-6d57-4f31-9611-cc7fb69421aa",
            "created_at": "2025-05-13T22:39:14.878884+00:00",
            "updated_at": "2025-05-22T22:00:03.895788+00:00",
            "users": {
              "email": null,
              "phone": "573153041548",
              "full_name": "Usuario 573153041548"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "573153041548"
            }
          },
          {
            "id": "3f120a99-44b5-423a-bb6a-30e894baafa2",
            "created_at": "2025-05-22T11:39:02.081678+00:00",
            "updated_at": "2025-05-22T11:39:02.206989+00:00",
            "users": {
              "email": null,
              "phone": "573103515786",
              "full_name": "Usuario 573103515786"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "573103515786"
            }
          },
          {
            "id": "a0474129-d223-498a-8346-b653c42650c8",
            "created_at": "2025-05-21T21:45:06.180867+00:00",
            "updated_at": "2025-05-21T21:45:06.29875+00:00",
            "users": {
              "email": null,
              "phone": "573015436628",
              "full_name": "Usuario 573015436628"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "573015436628"
            }
          },
          {
            "id": "03183476-b1cf-4f4e-b015-faef794ee020",
            "created_at": "2025-05-21T20:48:11.513042+00:00",
            "updated_at": "2025-05-21T20:48:11.63259+00:00",
            "users": {
              "email": null,
              "phone": "573204170057",
              "full_name": "Usuario 573204170057"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "573204170057"
            }
          }
        ]
      },
      {
        "step": "bant",
        "count": 5,
        "examples": [
          {
            "id": "943326da-93aa-4585-ac4e-b76657d17748",
            "created_at": "2025-05-21T19:44:49.22774+00:00",
            "updated_at": "2025-05-21T19:44:49.556334+00:00",
            "users": {
              "email": "omartito7623@gmail.com",
              "phone": "3164749162",
              "full_name": "Carlos \u00c1lvarez"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "573164749162"
            }
          },
          {
            "id": "57184bff-5bd6-4af9-9591-4def40506933",
            "created_at": "2025-05-21T19:44:49.224965+00:00",
            "updated_at": "2025-05-21T19:44:49.359801+00:00",
            "users": {
              "email": "omartito7623@gmail.com",
              "phone": "3164749162",
              "full_name": "Carlos \u00c1lvarez"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "573164749162"
            }
          },
          {
            "id": "f9cd8459-e4fc-4530-ac48-606e1e7d63cb",
            "created_at": "2025-05-21T14:29:45.798159+00:00",
            "updated_at": "2025-05-21T14:29:45.922062+00:00",
            "users": {
              "email": "manufacturasalamasas@gmail.com",
              "phone": "3005010715",
              "full_name": "Mauricio Casta\u00f1eda"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "573005010715"
            }
          },
          {
            "id": "9abeeb1f-50ea-4466-a388-32560ef25d4b",
            "created_at": "2025-05-13T22:58:45.037215+00:00",
            "updated_at": "2025-05-15T15:25:06.088993+00:00",
            "users": {
              "email": "freddy.rincones@tdxcore.com",
              "phone": "3153041548",
              "full_name": "Freddy Rincones"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "573153041548"
            }
          },
          {
            "id": "c3a4a1fc-8123-4836-a67c-7cf885157907",
            "created_at": "2025-05-14T21:56:07.793268+00:00",
            "updated_at": "2025-05-15T15:09:51.244461+00:00",
            "users": {
              "email": "eamc081908@gmail.com",
              "phone": "54372329",
              "full_name": "Emma Castillo"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "50254372329"
            }
          }
        ]
      },
      {
        "step": "requirements",
        "count": 0,
        "examples": []
      },
      {
        "step": "meeting",
        "count": 5,
        "examples": [
          {
            "id": "53ad786d-e1e8-4dbb-9dd7-d7543a70b664",
            "created_at": "2025-05-13T19:56:04.430961+00:00",
            "updated_at": "2025-05-13T19:56:06.260876+00:00",
            "users": {
              "email": "test_6ff6a4ce-db45-4d7d-ba01-ab870ffe0d16@example.com",
              "phone": "+1870ffe0d16",
              "full_name": "Usuario Prueba 6ff6a4ce-db45-4d7d-ba01-ab870ffe0d16"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "+1870ffe0d16"
            }
          },
          {
            "id": "d9b6778e-1d8b-446f-814b-3031240039c3",
            "created_at": "2025-05-13T19:37:17.68809+00:00",
            "updated_at": "2025-05-13T19:37:19.875635+00:00",
            "users": {
              "email": "test_0bdbcf6f-3128-4817-9ee9-f8322520d6cb@example.com",
              "phone": "+1322520d6cb",
              "full_name": "Usuario Prueba 0bdbcf6f-3128-4817-9ee9-f8322520d6cb"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "+1322520d6cb"
            }
          },
          {
            "id": "401d87a9-4c26-46f4-a908-210657ba429f",
            "created_at": "2025-05-13T19:13:27.800657+00:00",
            "updated_at": "2025-05-13T19:13:28.840715+00:00",
            "users": {
              "email": "test_4edea5f5-8e57-4fb3-9a1f-68ffa9d5503c@example.com",
              "phone": "+1ffa9d5503c",
              "full_name": "Usuario Prueba 4edea5f5-8e57-4fb3-9a1f-68ffa9d5503c"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "+1ffa9d5503c"
            }
          },
          {
            "id": "af4c0aa6-9866-432f-8c26-12e61d8e7073",
            "created_at": "2025-05-13T19:13:16.64068+00:00",
            "updated_at": "2025-05-13T19:13:18.248025+00:00",
            "users": {
              "email": "test_bc74fa6e-a93b-469f-a0c6-286670f706a1@example.com",
              "phone": "+16670f706a1",
              "full_name": "Usuario Prueba bc74fa6e-a93b-469f-a0c6-286670f706a1"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "+16670f706a1"
            }
          },
          {
            "id": "5251b716-82c3-42dd-9b90-fc8da3f7334d",
            "created_at": "2025-05-13T19:13:11.849425+00:00",
            "updated_at": "2025-05-13T19:13:13.818372+00:00",
            "users": {
              "email": "test_e06e21fd-a2c7-4e82-9231-00acd406807b@example.com",
              "phone": "+1acd406807b",
              "full_name": "Usuario Prueba e06e21fd-a2c7-4e82-9231-00acd406807b"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "+1acd406807b"
            }
          }
        ]
      },
      {
        "step": "completed",
        "count": 3,
        "examples": [
          {
            "id": "d9c8d198-9c81-4b8c-8012-edfcfcabfcf5",
            "created_at": "2025-05-21T19:42:30.902929+00:00",
            "updated_at": "2025-05-21T19:50:28.545068+00:00",
            "users": {
              "email": null,
              "phone": "573164749162",
              "full_name": "Usuario 573164749162"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "573164749162"
            }
          },
          {
            "id": "96e1e7eb-eca6-4b94-9e74-7175344d0719",
            "created_at": "2025-05-14T21:55:37.369742+00:00",
            "updated_at": "2025-05-15T15:30:02.807688+00:00",
            "users": {
              "email": null,
              "phone": "50254372329",
              "full_name": "Usuario 50254372329"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "50254372329"
            }
          },
          {
            "id": "84251ce9-3c78-4a8f-85b6-fa929b6b5196",
            "created_at": "2025-05-13T19:57:15.333895+00:00",
            "updated_at": "2025-05-13T19:57:17.706439+00:00",
            "users": {
              "email": "test_c223a450-701d-44c2-8714-e2d4bed8d2fb@example.com",
              "phone": "+1d4bed8d2fb",
              "full_name": "Usuario Prueba c223a450-701d-44c2-8714-e2d4bed8d2fb"
            },
            "conversations": {
              "platform": "whatsapp",
              "external_id": "+1d4bed8d2fb"
            }
          }
        ]
      }
    ],
    "date_range": "all",
    "generated_at": "2025-05-24T18:13:23.984667"
  }
}
2025-05-24 18:13:23.991 [    INFO] __main__: 📊 Response size: 6265 bytes
2025-05-24 18:13:23.995 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:24.052 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:24.126 [    INFO] __main__: 📈 Records processed: 7
2025-05-24 18:13:24.209 [    INFO] __main__: ✅ get_lead_pipeline - 421.7ms - Score: 100.0%
2025-05-24 18:13:24.212 [    INFO] __main__: 🧪 INICIANDO PRUEBA: leads.get_lead_with_complete_data
2025-05-24 18:13:24.212 [    INFO] __main__: 📋 ID de prueba: 80367c15-32ed-4342-94de-576aa8d82503
2025-05-24 18:13:24.213 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:24.212509
2025-05-24 18:13:24.214 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "80367c15-32ed-4342-94de-576aa8d82503",
  "resource": "leads",
  "payload": {
    "action": "get_lead_with_complete_data",
    "lead_id": "ffc1a3ec-e817-4902-b363-a58c706a4620"
  }
}
2025-05-24 18:13:24.214 [    INFO] __main__: 📊 Request size: 213 bytes
2025-05-24 18:13:24.215 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'lead_id']
2025-05-24 18:13:24.222 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "80367c15-32ed...3-a58c706a4620"\n  }\n}' [213 bytes]
2025-05-24 18:13:24.223 [    INFO] __main__: 📤 Mensaje enviado en 1.0ms
2025-05-24 18:13:24.288 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"80367c15-32ed-4342-94de-5...trado","details":null}}' [205 bytes]
2025-05-24 18:13:24.290 [    INFO] __main__: 📥 Respuesta recibida en 65.6ms
2025-05-24 18:13:24.318 [    INFO] __main__: ⏱️ Tiempo total: 67.6ms
2025-05-24 18:13:24.367 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "80367c15-32ed-4342-94de-576aa8d82503",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n get_lead_with_complete_data: Lead no encontrado",
    "details": null
  }
}
2025-05-24 18:13:24.369 [    INFO] __main__: 📊 Response size: 205 bytes
2025-05-24 18:13:24.376 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:24.377 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:24.377 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:24.378 [    INFO] __main__: ❌ get_lead_with_complete_data - 67.6ms - Score: 0.0%
2025-05-24 18:13:24.378 [    INFO] __main__: 🧪 INICIANDO PRUEBA: leads.update_lead_step
2025-05-24 18:13:24.379 [    INFO] __main__: 📋 ID de prueba: b35bfdea-5c27-4346-8e96-57c77de6d8c4
2025-05-24 18:13:24.379 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:24.378770
2025-05-24 18:13:24.379 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "b35bfdea-5c27-4346-8e96-57c77de6d8c4",
  "resource": "leads",
  "payload": {
    "action": "update_lead_step",
    "lead_id": "ffc1a3ec-e817-4902-b363-a58c706a4620",
    "current_step": "requirements"
  }
}
2025-05-24 18:13:24.380 [    INFO] __main__: 📊 Request size: 238 bytes
2025-05-24 18:13:24.380 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'lead_id', 'current_step']
2025-05-24 18:13:24.405 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "b35bfdea-5c27... "requirements"\n  }\n}' [238 bytes]
2025-05-24 18:13:24.407 [    INFO] __main__: 📤 Mensaje enviado en 2.6ms
2025-05-24 18:13:24.470 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"b35bfdea-5c27-4346-8e9..._step":"requirements"}}' [136 bytes]
2025-05-24 18:13:24.470 [    INFO] __main__: 📥 Respuesta recibida en 61.7ms
2025-05-24 18:13:24.471 [    INFO] __main__: ⏱️ Tiempo total: 65.3ms
2025-05-24 18:13:24.471 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "b35bfdea-5c27-4346-8e96-57c77de6d8c4",
  "payload": {
    "lead": {},
    "previous_step": null,
    "current_step": "requirements"
  }
}
2025-05-24 18:13:24.471 [    INFO] __main__: 📊 Response size: 136 bytes
2025-05-24 18:13:24.475 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:24.476 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:24.476 [    INFO] __main__: 📈 Records processed: 1
2025-05-24 18:13:24.476 [    INFO] __main__: ✅ update_lead_step - 65.3ms - Score: 100.0%
2025-05-24 18:13:24.477 [    INFO] __main__: 🧪 INICIANDO PRUEBA: leads.get_conversion_stats
2025-05-24 18:13:24.477 [    INFO] __main__: 📋 ID de prueba: 1d82a3b9-0932-4c03-96f3-2597951888a4
2025-05-24 18:13:24.477 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:24.477218
2025-05-24 18:13:24.477 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "1d82a3b9-0932-4c03-96f3-2597951888a4",
  "resource": "leads",
  "payload": {
    "action": "get_conversion_stats"
  }
}
2025-05-24 18:13:24.477 [    INFO] __main__: 📊 Request size: 151 bytes
2025-05-24 18:13:24.478 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:24.488 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "1d82a3b9-0932...nversion_stats"\n  }\n}' [151 bytes]
2025-05-24 18:13:24.495 [    INFO] __main__: 📤 Mensaje enviado en 8.0ms
2025-05-24 18:13:24.687 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"1d82a3b9-0932-4c03-96f...5-24T18:13:24.686505"}}' [969 bytes]
2025-05-24 18:13:24.688 [    INFO] __main__: 📥 Respuesta recibida en 192.0ms
2025-05-24 18:13:24.688 [    INFO] __main__: ⏱️ Tiempo total: 200.7ms
2025-05-24 18:13:24.688 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "1d82a3b9-0932-4c03-96f3-2597951888a4",
  "payload": {
    "conversion_stats": {
      "step_stats": [
        {
          "step": "start",
          "count": 0,
          "percentage_of_total": 0.0,
          "conversion_rate": 0,
          "abandonment_rate": 0
        },
        {
          "step": "consent",
          "count": 0,
          "percentage_of_total": 0.0,
          "conversion_rate": 0,
          "abandonment_rate": 0
        },
        {
          "step": "personal_data",
          "count": 9,
          "percentage_of_total": 40.91,
          "conversion_rate": 0,
          "abandonment_rate": 44.44
        },
        {
          "step": "bant",
          "count": 5,
          "percentage_of_total": 22.73,
          "conversion_rate": 55.56,
          "abandonment_rate": 100.0
        },
        {
          "step": "requirements",
          "count": 0,
          "percentage_of_total": 0.0,
          "conversion_rate": 0.0,
          "abandonment_rate": 0
        },
        {
          "step": "meeting",
          "count": 5,
          "percentage_of_total": 22.73,
          "conversion_rate": 0,
          "abandonment_rate": 40.0
        },
        {
          "step": "completed",
          "count": 3,
          "percentage_of_total": 13.64,
          "conversion_rate": 60.0,
          "abandonment_rate": 0
        }
      ],
      "overall_stats": {
        "total_leads": 22,
        "completed_leads": 3,
        "overall_conversion_rate": 13.64
      }
    },
    "date_range": "all",
    "generated_at": "2025-05-24T18:13:24.686505"
  }
}
2025-05-24 18:13:24.689 [    INFO] __main__: 📊 Response size: 969 bytes
2025-05-24 18:13:24.693 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:24.693 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:24.694 [    INFO] __main__: 📈 Records processed: 1
2025-05-24 18:13:24.695 [    INFO] __main__: ✅ get_conversion_stats - 200.7ms - Score: 100.0%
2025-05-24 18:13:24.695 [    INFO] __main__: 🧪 INICIANDO PRUEBA: leads.get_abandoned_leads
2025-05-24 18:13:24.695 [    INFO] __main__: 📋 ID de prueba: c84f83a8-ea63-4778-a356-7f7ad97aee51
2025-05-24 18:13:24.696 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:24.695505
2025-05-24 18:13:24.696 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "c84f83a8-ea63-4778-a356-7f7ad97aee51",
  "resource": "leads",
  "payload": {
    "action": "get_abandoned_leads"
  }
}
2025-05-24 18:13:24.697 [    INFO] __main__: 📊 Request size: 150 bytes
2025-05-24 18:13:24.697 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:24.702 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "c84f83a8-ea63...bandoned_leads"\n  }\n}' [150 bytes]
2025-05-24 18:13:24.713 [    INFO] __main__: 📤 Mensaje enviado en 10.6ms
2025-05-24 18:13:24.745 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"c84f83a8-ea63-4778-a35..."offset":0,"total":7}}}' [5453 bytes]
2025-05-24 18:13:24.746 [    INFO] __main__: 📥 Respuesta recibida en 32.1ms
2025-05-24 18:13:24.746 [    INFO] __main__: ⏱️ Tiempo total: 43.7ms
2025-05-24 18:13:24.747 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "c84f83a8-ea63-4778-a356-7f7ad97aee51",
  "payload": {
    "abandoned_leads": [
      {
        "id": "9abeeb1f-50ea-4466-a388-32560ef25d4b",
        "user_id": "dba1ff30-7aea-4b52-a09b-88bd7221f016",
        "conversation_id": "5db5791a-c545-48e2-a062-ea4ece5917c4",
        "consent": false,
        "current_step": "bant",
        "created_at": "2025-05-13T22:58:45.037215+00:00",
        "updated_at": "2025-05-15T15:25:06.088993+00:00",
        "users": {
          "email": "freddy.rincones@tdxcore.com",
          "phone": "3153041548",
          "company": "Empresa TDX",
          "full_name": "Freddy Rincones"
        },
        "conversations": {
          "status": "active",
          "platform": "whatsapp",
          "external_id": "573153041548"
        },
        "bant_data": [],
        "requirements": [],
        "days_since_update": 9
      },
      {
        "id": "c3a4a1fc-8123-4836-a67c-7cf885157907",
        "user_id": "8c72f321-560d-49c1-8580-ad3253e72750",
        "conversation_id": "2d7b53e1-90b3-42f4-b380-ebac958c5644",
        "consent": false,
        "current_step": "bant",
        "created_at": "2025-05-14T21:56:07.793268+00:00",
        "updated_at": "2025-05-15T15:09:51.244461+00:00",
        "users": {
          "email": "eamc081908@gmail.com",
          "phone": "54372329",
          "company": "Zapatoloco",
          "full_name": "Emma Castillo"
        },
        "conversations": {
          "status": "closed",
          "platform": "whatsapp",
          "external_id": "50254372329"
        },
        "bant_data": [],
        "requirements": [],
        "days_since_update": 9
      },
      {
        "id": "53ad786d-e1e8-4dbb-9dd7-d7543a70b664",
        "user_id": "583cd038-ca1a-4dd8-a929-b44e388cf329",
        "conversation_id": "469d3e79-ee14-4b6a-93ab-359d318260de",
        "consent": false,
        "current_step": "meeting",
        "created_at": "2025-05-13T19:56:04.430961+00:00",
        "updated_at": "2025-05-13T19:56:06.260876+00:00",
        "users": {
          "email": "test_6ff6a4ce-db45-4d7d-ba01-ab870ffe0d16@example.com",
          "phone": "+1870ffe0d16",
          "company": "Empresa de Prueba",
          "full_name": "Usuario Prueba 6ff6a4ce-db45-4d7d-ba01-ab870ffe0d16"
        },
        "conversations": {
          "status": "active",
          "platform": "whatsapp",
          "external_id": "+1870ffe0d16"
        },
        "bant_data": [
          {
            "need": "Necesito una aplicaci\u00f3n para gestionar inventario",
            "budget": "10000-20000 USD",
            "timeline": "3 meses",
            "authority": "Soy el responsable de la decisi\u00f3n"
          }
        ],
        "requirements": [
          {
            "app_type": "Aplicaci\u00f3n web",
            "deadline": "Diciembre 2025"
          }
        ],
        "days_since_update": 10
      },
      {
        "id": "d9b6778e-1d8b-446f-814b-3031240039c3",
        "user_id": "12d3dfb8-6381-407c-91fe-4bc1d5305e60",
        "conversation_id": "fcfad2db-36f0-487d-ac7c-a38fa5db9e26",
        "consent": false,
        "current_step": "meeting",
        "created_at": "2025-05-13T19:37:17.68809+00:00",
        "updated_at": "2025-05-13T19:37:19.875635+00:00",
        "users": {
          "email": "test_0bdbcf6f-3128-4817-9ee9-f8322520d6cb@example.com",
          "phone": "+1322520d6cb",
          "company": "Empresa de Prueba",
          "full_name": "Usuario Prueba 0bdbcf6f-3128-4817-9ee9-f8322520d6cb"
        },
        "conversations": {
          "status": "active",
          "platform": "whatsapp",
          "external_id": "+1322520d6cb"
        },
        "bant_data": [
          {
            "need": "Necesito una aplicaci\u00f3n para gestionar inventario",
            "budget": "10000-20000 USD",
            "timeline": "3 meses",
            "authority": "Soy el responsable de la decisi\u00f3n"
          }
        ],
        "requirements": [
          {
            "app_type": "Aplicaci\u00f3n web",
            "deadline": "Diciembre 2025"
          }
        ],
        "days_since_update": 10
      },
      {
        "id": "401d87a9-4c26-46f4-a908-210657ba429f",
        "user_id": "c17f694f-fa72-4038-98e9-13e8a344c3e1",
        "conversation_id": "e228ed06-dbec-4e4c-885a-5d65e13b3dfa",
        "consent": false,
        "current_step": "meeting",
        "created_at": "2025-05-13T19:13:27.800657+00:00",
        "updated_at": "2025-05-13T19:13:28.840715+00:00",
        "users": {
          "email": "test_4edea5f5-8e57-4fb3-9a1f-68ffa9d5503c@example.com",
          "phone": "+1ffa9d5503c",
          "company": "Empresa de Prueba",
          "full_name": "Usuario Prueba 4edea5f5-8e57-4fb3-9a1f-68ffa9d5503c"
        },
        "conversations": {
          "status": "active",
          "platform": "whatsapp",
          "external_id": "+1ffa9d5503c"
        },
        "bant_data": [
          {
            "need": "Necesito una aplicaci\u00f3n para gestionar inventario",
            "budget": "10000-20000 USD",
            "timeline": "3 meses",
            "authority": "Soy el responsable de la decisi\u00f3n"
          }
        ],
        "requirements": [
          {
            "app_type": "Aplicaci\u00f3n web",
            "deadline": "Diciembre 2025"
          }
        ],
        "days_since_update": 10
      },
      {
        "id": "af4c0aa6-9866-432f-8c26-12e61d8e7073",
        "user_id": "0123b138-081d-481e-8608-58891c1509df",
        "conversation_id": "7380ec88-839b-4de6-9d7c-7d3d4f02968f",
        "consent": false,
        "current_step": "meeting",
        "created_at": "2025-05-13T19:13:16.64068+00:00",
        "updated_at": "2025-05-13T19:13:18.248025+00:00",
        "users": {
          "email": "test_bc74fa6e-a93b-469f-a0c6-286670f706a1@example.com",
          "phone": "+16670f706a1",
          "company": "Empresa de Prueba",
          "full_name": "Usuario Prueba bc74fa6e-a93b-469f-a0c6-286670f706a1"
        },
        "conversations": {
          "status": "active",
          "platform": "whatsapp",
          "external_id": "+16670f706a1"
        },
        "bant_data": [
          {
            "need": "Necesito una aplicaci\u00f3n para gestionar inventario",
            "budget": "10000-20000 USD",
            "timeline": "3 meses",
            "authority": "Soy el responsable de la decisi\u00f3n"
          }
        ],
        "requirements": [
          {
            "app_type": "Aplicaci\u00f3n web",
            "deadline": "Diciembre 2025"
          }
        ],
        "days_since_update": 10
      },
      {
        "id": "5251b716-82c3-42dd-9b90-fc8da3f7334d",
        "user_id": "ca228c4a-3bcc-4787-8bdc-1b4073cb9ff1",
        "conversation_id": "3d3610d0-d26b-46f4-8808-45c3405054f7",
        "consent": false,
        "current_step": "meeting",
        "created_at": "2025-05-13T19:13:11.849425+00:00",
        "updated_at": "2025-05-13T19:13:13.818372+00:00",
        "users": {
          "email": "test_e06e21fd-a2c7-4e82-9231-00acd406807b@example.com",
          "phone": "+1acd406807b",
          "company": "Empresa de Prueba",
          "full_name": "Usuario Prueba e06e21fd-a2c7-4e82-9231-00acd406807b"
        },
        "conversations": {
          "status": "active",
          "platform": "whatsapp",
          "external_id": "+1acd406807b"
        },
        "bant_data": [
          {
            "need": "Necesito una aplicaci\u00f3n para gestionar inventario",
            "budget": "10000-20000 USD",
            "timeline": "3 meses",
            "authority": "Soy el responsable de la decisi\u00f3n"
          }
        ],
        "requirements": [
          {
            "app_type": "Aplicaci\u00f3n web",
            "deadline": "Diciembre 2025"
          }
        ],
        "days_since_update": 10
      }
    ],
    "days_threshold": 7,
    "pagination": {
      "limit": 50,
      "offset": 0,
      "total": 7
    }
  }
}
2025-05-24 18:13:24.749 [    INFO] __main__: 📊 Response size: 5453 bytes
2025-05-24 18:13:24.754 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:24.755 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:24.755 [    INFO] __main__: 📈 Records processed: 7
2025-05-24 18:13:24.755 [    INFO] __main__: ✅ get_abandoned_leads - 43.7ms - Score: 100.0%
2025-05-24 18:13:24.756 [    INFO] __main__: 👥 Leads Handler testing completed

2025-05-24 18:13:24.756 [    INFO] __main__: 📅 === TESTING MEETINGS HANDLER (ENHANCED) ===
2025-05-24 18:13:24.756 [    INFO] __main__: 🧪 INICIANDO PRUEBA: meetings.get_all_meetings
2025-05-24 18:13:24.757 [    INFO] __main__: 📋 ID de prueba: b6c4dd70-26ed-403a-83f0-4ce8b9bcc19b
2025-05-24 18:13:24.757 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:24.756832
2025-05-24 18:13:24.757 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "b6c4dd70-26ed-403a-83f0-4ce8b9bcc19b",
  "resource": "meetings",
  "payload": {
    "action": "get_all_meetings",
    "filter": "today"
  }
}
2025-05-24 18:13:24.757 [    INFO] __main__: 📊 Request size: 173 bytes
2025-05-24 18:13:24.758 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'filter']
2025-05-24 18:13:24.763 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "b6c4dd70-26ed...ilter": "today"\n  }\n}' [173 bytes]
2025-05-24 18:13:24.779 [    INFO] __main__: 📤 Mensaje enviado en 16.0ms
2025-05-24 18:13:24.811 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"b6c4dd70-26ed-403a-83f..."offset":0,"total":0}}}' [167 bytes]
2025-05-24 18:13:24.813 [    INFO] __main__: 📥 Respuesta recibida en 33.8ms
2025-05-24 18:13:24.813 [    INFO] __main__: ⏱️ Tiempo total: 49.8ms
2025-05-24 18:13:24.813 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "b6c4dd70-26ed-403a-83f0-4ce8b9bcc19b",
  "payload": {
    "meetings": [],
    "filter": "today",
    "status": null,
    "pagination": {
      "limit": 50,
      "offset": 0,
      "total": 0
    }
  }
}
2025-05-24 18:13:24.813 [    INFO] __main__: 📊 Response size: 167 bytes
2025-05-24 18:13:24.818 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:24.819 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:24.820 [    INFO] __main__: 📈 Records processed: 1
2025-05-24 18:13:24.820 [    INFO] __main__: ✅ get_all_meetings - 49.8ms - Score: 100.0%
2025-05-24 18:13:24.820 [    INFO] __main__: 🧪 INICIANDO PRUEBA: meetings.get_calendar_view
2025-05-24 18:13:24.820 [    INFO] __main__: 📋 ID de prueba: 350148c5-be78-4871-8bdb-3e6e34b58ba6
2025-05-24 18:13:24.820 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:24.820688
2025-05-24 18:13:24.821 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "350148c5-be78-4871-8bdb-3e6e34b58ba6",
  "resource": "meetings",
  "payload": {
    "action": "get_calendar_view",
    "start_date": "2025-05-24",
    "end_date": "2025-05-31"
  }
}
2025-05-24 18:13:24.821 [    INFO] __main__: 📊 Request size: 213 bytes
2025-05-24 18:13:24.822 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'start_date', 'end_date']
2025-05-24 18:13:24.829 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "350148c5-be78...": "2025-05-31"\n  }\n}' [213 bytes]
2025-05-24 18:13:24.837 [    INFO] __main__: 📤 Mensaje enviado en 8.0ms
2025-05-24 18:13:24.870 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"350148c5-be78-4871-8bd...5-24T18:13:24.869884"}}' [2304 bytes]
2025-05-24 18:13:24.870 [    INFO] __main__: 📥 Respuesta recibida en 32.4ms
2025-05-24 18:13:24.871 [    INFO] __main__: ⏱️ Tiempo total: 41.2ms
2025-05-24 18:13:24.871 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "350148c5-be78-4871-8bdb-3e6e34b58ba6",
  "payload": {
    "calendar": {
      "2025-05-27": [
        {
          "id": "ed157f76-05fe-47f5-849c-06a17a09abe0",
          "user_id": "4cb4fc8d-4d51-4414-a189-e97b911c240f",
          "lead_qualification_id": "d9c8d198-9c81-4b8c-8012-edfcfcabfcf5",
          "outlook_meeting_id": "AAMkADA5ZmNhM2I5LTQyNDMtNDBmYi1hYjIyLWFkNGYyNGFjMDNiYwBGAAAAAABZun2JGU4nRqb9Z4r64X8HBwCwt2l0G1nhRZc-b7TX8Y6NAAAAAAENAACwt2l0G1nhRZc-b7TX8Y6NAAAJ2y4KAAA=",
          "subject": "TDX | Demo personalizado - Soluci\u00f3n de software a medida",
          "start_time": "2025-05-27T13:00:00+00:00",
          "end_time": "2025-05-27T14:00:00+00:00",
          "status": "scheduled",
          "online_meeting_url": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_MWRiMmM2M2MtZTVlZC00MDQ4LTljODQtMzllMjY4YWE1ODQ5%40thread.v2/0?context=%7b%22Tid%22%3a%22f261a9e3-f80f-42be-b3a3-5448e30d9ff2%22%2c%22Oid%22%3a%22df10dde8-7f52-4a77-a4ec-8b8fda1128e5%22%7d",
          "created_at": "2025-05-21T19:50:28.424113+00:00",
          "updated_at": "2025-05-21T19:50:28.424113+00:00",
          "users": {
            "email": null,
            "phone": "573164749162",
            "full_name": "Usuario 573164749162"
          },
          "lead_qualification": {
            "current_step": "completed"
          }
        }
      ],
      "2025-05-30": [
        {
          "id": "c7d33eac-50ca-4902-a812-f3bb60790dfc",
          "user_id": "92394372-1cb1-486d-a59f-97ebfc8f7d54",
          "lead_qualification_id": "96e1e7eb-eca6-4b94-9e74-7175344d0719",
          "outlook_meeting_id": "AAMkADA5ZmNhM2I5LTQyNDMtNDBmYi1hYjIyLWFkNGYyNGFjMDNiYwBGAAAAAABZun2JGU4nRqb9Z4r64X8HBwCwt2l0G1nhRZc-b7TX8Y6NAAAAAAENAACwt2l0G1nhRZc-b7TX8Y6NAAAE7cWPAAA=",
          "subject": "TDX | Demo personalizado - Soluci\u00f3n de software a medida",
          "start_time": "2025-05-30T21:00:00+00:00",
          "end_time": "2025-05-30T22:00:00+00:00",
          "status": "scheduled",
          "online_meeting_url": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_NWUzMWI3ZWItYzU3MS00NjFjLThlYWUtZGUxN2E5NDU1ZDNk%40thread.v2/0?context=%7b%22Tid%22%3a%22f261a9e3-f80f-42be-b3a3-5448e30d9ff2%22%2c%22Oid%22%3a%22df10dde8-7f52-4a77-a4ec-8b8fda1128e5%22%7d",
          "created_at": "2025-05-15T15:30:02.684176+00:00",
          "updated_at": "2025-05-15T15:30:02.684176+00:00",
          "users": {
            "email": null,
            "phone": "50254372329",
            "full_name": "Usuario 50254372329"
          },
          "lead_qualification": {
            "current_step": "completed"
          }
        }
      ],
      "2025-05-24": [],
      "2025-05-25": [],
      "2025-05-26": [],
      "2025-05-28": [],
      "2025-05-29": [],
      "2025-05-31": []
    },
    "start_date": "2025-05-24",
    "end_date": "2025-05-31",
    "generated_at": "2025-05-24T18:13:24.869884"
  }
}
2025-05-24 18:13:24.872 [    INFO] __main__: 📊 Response size: 2304 bytes
2025-05-24 18:13:24.875 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:24.876 [    INFO] __main__: 📊 Validation score: 100.0%
2025-05-24 18:13:24.876 [    INFO] __main__: 📈 Records processed: 1
2025-05-24 18:13:24.877 [    INFO] __main__: ✅ get_calendar_view - 41.2ms - Score: 100.0%
2025-05-24 18:13:24.877 [    INFO] __main__: 🧪 INICIANDO PRUEBA: meetings.create_meeting
2025-05-24 18:13:24.878 [    INFO] __main__: 📋 ID de prueba: 037e7947-b340-4af7-8e0c-a822fa979791
2025-05-24 18:13:24.878 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:24.877644
2025-05-24 18:13:24.878 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "037e7947-b340-4af7-8e0c-a822fa979791",
  "resource": "meetings",
  "payload": {
    "action": "create_meeting",
    "meeting": {
      "user_id": "4a689ac8-4632-4970-9501-5012ef7568a6",
      "lead_qualification_id": "1a3712a6-0150-4211-b089-98c6da9991d1",
      "subject": "Reuni\u00f3n de prueba enhanced 18:13:24",
      "start_time": "2025-05-25T18:13:24.756832",
      "end_time": "2025-05-25T19:13:24.756832"
    }
  }
}
2025-05-24 18:13:24.879 [    INFO] __main__: 📊 Request size: 458 bytes
2025-05-24 18:13:24.879 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'meeting']
2025-05-24 18:13:24.882 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "037e7947-b340....756832"\n    }\n  }\n}' [458 bytes]
2025-05-24 18:13:24.883 [    INFO] __main__: 📤 Mensaje enviado en 1.0ms
2025-05-24 18:13:24.892 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"037e7947-b340-4af7-8e0c-a...k.py)","details":null}}' [312 bytes]
2025-05-24 18:13:24.893 [    INFO] __main__: 📥 Respuesta recibida en 4.0ms
2025-05-24 18:13:24.893 [    INFO] __main__: ⏱️ Tiempo total: 10.5ms
2025-05-24 18:13:24.894 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "037e7947-b340-4af7-8e0c-a822fa979791",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n create_meeting: cannot import name 'create_meeting' from 'App.Services.outlook' (C:\\Users\\Administrator\\Desktop\\Agent Test\\App\\Services\\outlook.py)",
    "details": null
  }
}
2025-05-24 18:13:24.896 [    INFO] __main__: 📊 Response size: 312 bytes
2025-05-24 18:13:24.904 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:24.914 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:24.915 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:24.915 [    INFO] __main__: ❌ create_meeting - 10.5ms - Score: 0.0%
2025-05-24 18:13:24.916 [    INFO] __main__: 🧪 INICIANDO PRUEBA: meetings.update_meeting
2025-05-24 18:13:24.916 [    INFO] __main__: 📋 ID de prueba: 1ab3e6a6-c422-49f3-84c5-9a9741dc42ee
2025-05-24 18:13:24.916 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:24.916288
2025-05-24 18:13:24.916 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "1ab3e6a6-c422-49f3-84c5-9a9741dc42ee",
  "resource": "meetings",
  "payload": {
    "action": "update_meeting",
    "meeting_id": "e70bae6b-a868-4ade-9b64-e8fad5a68656",
    "meeting": {
      "subject": "Reuni\u00f3n actualizada enhanced"
    }
  }
}
2025-05-24 18:13:24.924 [    INFO] __main__: 📊 Request size: 283 bytes
2025-05-24 18:13:24.940 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'meeting_id', 'meeting']
2025-05-24 18:13:24.945 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "1ab3e6a6-c422...nhanced"\n    }\n  }\n}' [283 bytes]
2025-05-24 18:13:24.945 [    INFO] __main__: 📤 Mensaje enviado en 1.0ms
2025-05-24 18:13:24.949 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"1ab3e6a6-c422-49f3-84c5-9...k.py)","details":null}}' [312 bytes]
2025-05-24 18:13:24.977 [    INFO] __main__: 📥 Respuesta recibida en 30.0ms
2025-05-24 18:13:24.978 [    INFO] __main__: ⏱️ Tiempo total: 32.0ms
2025-05-24 18:13:25.005 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "1ab3e6a6-c422-49f3-84c5-9a9741dc42ee",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n update_meeting: cannot import name 'update_meeting' from 'App.Services.outlook' (C:\\Users\\Administrator\\Desktop\\Agent Test\\App\\Services\\outlook.py)",
    "details": null
  }
}
2025-05-24 18:13:25.006 [    INFO] __main__: 📊 Response size: 312 bytes
2025-05-24 18:13:25.065 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:25.065 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:25.066 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:25.067 [    INFO] __main__: ❌ update_meeting - 32.0ms - Score: 0.0%
2025-05-24 18:13:25.067 [    INFO] __main__: 🧪 INICIANDO PRUEBA: meetings.cancel_meeting
2025-05-24 18:13:25.067 [    INFO] __main__: 📋 ID de prueba: 0d4ec15e-e71a-4d74-a448-2e735522c5f4
2025-05-24 18:13:25.068 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:25.067587
2025-05-24 18:13:25.068 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "0d4ec15e-e71a-4d74-a448-2e735522c5f4",
  "resource": "meetings",
  "payload": {
    "action": "cancel_meeting",
    "meeting_id": "e70bae6b-a868-4ade-9b64-e8fad5a68656",
    "reason": "Prueba enhanced"
  }
}
2025-05-24 18:13:25.069 [    INFO] __main__: 📊 Request size: 239 bytes
2025-05-24 18:13:25.069 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'meeting_id', 'reason']
2025-05-24 18:13:25.097 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "0d4ec15e-e71a...rueba enhanced"\n  }\n}' [239 bytes]
2025-05-24 18:13:25.098 [    INFO] __main__: 📤 Mensaje enviado en 1.5ms
2025-05-24 18:13:25.134 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"0d4ec15e-e71a-4d74-a448-2...trada","details":null}}' [195 bytes]
2025-05-24 18:13:25.134 [    INFO] __main__: 📥 Respuesta recibida en 35.3ms
2025-05-24 18:13:25.135 [    INFO] __main__: ⏱️ Tiempo total: 37.3ms
2025-05-24 18:13:25.135 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "0d4ec15e-e71a-4d74-a448-2e735522c5f4",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n cancel_meeting: Meeting no encontrada",
    "details": null
  }
}
2025-05-24 18:13:25.246 [    INFO] __main__: 📊 Response size: 195 bytes
2025-05-24 18:13:25.258 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:25.365 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:25.427 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:25.432 [    INFO] __main__: ❌ cancel_meeting - 37.3ms - Score: 0.0%
2025-05-24 18:13:25.433 [    INFO] __main__: 🧪 INICIANDO PRUEBA: meetings.get_available_slots
2025-05-24 18:13:25.433 [    INFO] __main__: 📋 ID de prueba: 6e5d70e0-c83d-4b38-8aad-043d851071f1
2025-05-24 18:13:25.434 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:25.433361
2025-05-24 18:13:25.434 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "6e5d70e0-c83d-4b38-8aad-043d851071f1",
  "resource": "meetings",
  "payload": {
    "action": "get_available_slots",
    "date": "2025-05-24",
    "duration_minutes": 60
  }
}
2025-05-24 18:13:25.434 [    INFO] __main__: 📊 Request size: 207 bytes
2025-05-24 18:13:25.435 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'date', 'duration_minutes']
2025-05-24 18:13:25.442 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "6e5d70e0-c83d...on_minutes": 60\n  }\n}' [207 bytes]
2025-05-24 18:13:25.443 [    INFO] __main__: 📤 Mensaje enviado en 1.0ms
2025-05-24 18:13:25.443 [   DEBUG] websockets.client: < TEXT '{"type":"heartbeat","id":"ede0d6b9-2fa3-49cf-b4...5-24T18:13:25.206668"}}' [117 bytes]
2025-05-24 18:13:25.444 [    INFO] __main__: 📥 Respuesta recibida en 1.0ms
2025-05-24 18:13:25.444 [    INFO] __main__: ⏱️ Tiempo total: 2.5ms
2025-05-24 18:13:25.490 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "heartbeat",
  "id": "ede0d6b9-2fa3-49cf-b46e-0205b1db3d0b",
  "payload": {
    "timestamp": "2025-05-24T18:13:25.206668"
  }
}
2025-05-24 18:13:25.495 [    INFO] __main__: 📊 Response size: 117 bytes
2025-05-24 18:13:25.502 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:25.503 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:25.503 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:25.504 [    INFO] __main__: ✅ get_available_slots - 2.5ms - Score: 0.0%
2025-05-24 18:13:25.504 [    INFO] __main__: 🧪 INICIANDO PRUEBA: meetings.sync_outlook_calendar
2025-05-24 18:13:25.505 [    INFO] __main__: 📋 ID de prueba: ffe176da-57e7-42cd-92aa-b2bb4e35a030
2025-05-24 18:13:25.505 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:25.504570
2025-05-24 18:13:25.506 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "ffe176da-57e7-42cd-92aa-b2bb4e35a030",
  "resource": "meetings",
  "payload": {
    "action": "sync_outlook_calendar"
  }
}
2025-05-24 18:13:25.506 [    INFO] __main__: 📊 Request size: 155 bytes
2025-05-24 18:13:25.507 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:25.531 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "ffe176da-57e7...tlook_calendar"\n  }\n}' [155 bytes]
2025-05-24 18:13:25.538 [    INFO] __main__: 📤 Mensaje enviado en 6.6ms
2025-05-24 18:13:25.835 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"6e5d70e0-c83d-4b38-8aa..."duration_minutes":60}}' [833 bytes]
2025-05-24 18:13:25.835 [    INFO] __main__: 📥 Respuesta recibida en 296.6ms
2025-05-24 18:13:25.836 [    INFO] __main__: ⏱️ Tiempo total: 303.7ms
2025-05-24 18:13:25.836 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "6e5d70e0-c83d-4b38-8aad-043d851071f1",
  "payload": {
    "available_slots": [
      {
        "start_time": "2025-05-24T09:00:00",
        "end_time": "2025-05-24T10:00:00",
        "available": true
      },
      {
        "start_time": "2025-05-24T10:00:00",
        "end_time": "2025-05-24T11:00:00",
        "available": true
      },
      {
        "start_time": "2025-05-24T11:00:00",
        "end_time": "2025-05-24T12:00:00",
        "available": true
      },
      {
        "start_time": "2025-05-24T12:00:00",
        "end_time": "2025-05-24T13:00:00",
        "available": true
      },
      {
        "start_time": "2025-05-24T13:00:00",
        "end_time": "2025-05-24T14:00:00",
        "available": true
      },
      {
        "start_time": "2025-05-24T14:00:00",
        "end_time": "2025-05-24T15:00:00",
        "available": true
      },
      {
        "start_time": "2025-05-24T15:00:00",
        "end_time": "2025-05-24T16:00:00",
        "available": true
      },
      {
        "start_time": "2025-05-24T16:00:00",
        "end_time": "2025-05-24T17:00:00",
        "available": true
      }
    ],
    "date": "2025-05-24",
    "duration_minutes": 60
  }
}
2025-05-24 18:13:25.837 [    INFO] __main__: 📊 Response size: 833 bytes
2025-05-24 18:13:25.841 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:25.907 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:25.912 [    INFO] __main__: 📈 Records processed: 8
2025-05-24 18:13:25.914 [    INFO] __main__: ✅ sync_outlook_calendar - 303.7ms - Score: 0.0%
2025-05-24 18:13:26.004 [    INFO] __main__: 📅 Meetings Handler testing completed

2025-05-24 18:13:26.038 [    INFO] __main__: 📋 === TESTING REQUIREMENTS HANDLER (ENHANCED) ===
2025-05-24 18:13:26.040 [    INFO] __main__: 🧪 INICIANDO PRUEBA: requirements.get_requirements_by_lead
2025-05-24 18:13:26.040 [    INFO] __main__: 📋 ID de prueba: 7afd6622-b118-40ee-beb8-67dc1bd448ec
2025-05-24 18:13:26.063 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:26.040297
2025-05-24 18:13:26.067 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "7afd6622-b118-40ee-beb8-67dc1bd448ec",
  "resource": "requirements",
  "payload": {
    "action": "get_requirements_by_lead",
    "lead_id": "1b7a1768-6bc3-415f-81c0-b10bafad816e"
  }
}
2025-05-24 18:13:26.068 [    INFO] __main__: 📊 Request size: 217 bytes
2025-05-24 18:13:26.069 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'lead_id']
2025-05-24 18:13:26.099 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "7afd6622-b118...0-b10bafad816e"\n  }\n}' [217 bytes]
2025-05-24 18:13:26.100 [    INFO] __main__: 📤 Mensaje enviado en 1.0ms
2025-05-24 18:13:26.101 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"ffe176da-57e7-42cd-92aa-b...k.py)","details":null}}' [318 bytes]
2025-05-24 18:13:26.102 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"7afd6622-b118-40ee-beb8-6...on_id","details":null}}' [217 bytes]
2025-05-24 18:13:26.102 [    INFO] __main__: 📥 Respuesta recibida en 2.0ms
2025-05-24 18:13:26.103 [    INFO] __main__: ⏱️ Tiempo total: 3.0ms
2025-05-24 18:13:26.128 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "ffe176da-57e7-42cd-92aa-b2bb4e35a030",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n sync_outlook_calendar: cannot import name 'sync_calendar' from 'App.Services.outlook' (C:\\Users\\Administrator\\Desktop\\Agent Test\\App\\Services\\outlook.py)",
    "details": null
  }
}
2025-05-24 18:13:26.129 [    INFO] __main__: 📊 Response size: 318 bytes
2025-05-24 18:13:26.162 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:26.162 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:26.163 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:26.163 [    INFO] __main__: ❌ get_requirements_by_lead - 3.0ms - Score: 0.0%
2025-05-24 18:13:26.164 [    INFO] __main__: 🧪 INICIANDO PRUEBA: requirements.create_requirement_package
2025-05-24 18:13:26.164 [    INFO] __main__: 📋 ID de prueba: c7c465fd-2df5-429b-9be4-bc1b882eb8bf
2025-05-24 18:13:26.165 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:26.164382
2025-05-24 18:13:26.165 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "c7c465fd-2df5-429b-9be4-bc1b882eb8bf",
  "resource": "requirements",
  "payload": {
    "action": "create_requirement_package",
    "lead_qualification_id": "1b7a1768-6bc3-415f-81c0-b10bafad816e",
    "app_type": "web_app",
    "deadline": "2025-08-22",
    "features": [
      {
        "name": "Login Enhanced",
        "description": "Sistema de autenticaci\u00f3n mejorado"
      }
    ],
    "integrations": [
      {
        "name": "PayPal Enhanced",
        "description": "Procesamiento de pagos mejorado"
      }
    ]
  }
}
2025-05-24 18:13:26.166 [    INFO] __main__: 📊 Request size: 566 bytes
2025-05-24 18:13:26.166 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'lead_qualification_id', 'app_type', 'deadline', 'features', 'integrations']
2025-05-24 18:13:26.183 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "c7c465fd-2df5...n      }\n    ]\n  }\n}' [566 bytes]
2025-05-24 18:13:26.184 [    INFO] __main__: 📤 Mensaje enviado en 2.0ms
2025-05-24 18:13:26.184 [    INFO] __main__: 📥 Respuesta recibida en 0.0ms
2025-05-24 18:13:26.185 [    INFO] __main__: ⏱️ Tiempo total: 2.0ms
2025-05-24 18:13:26.185 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "7afd6622-b118-40ee-beb8-67dc1bd448ec",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n get_requirements_by_lead: Se requiere lead_qualification_id",
    "details": null
  }
}
2025-05-24 18:13:26.186 [    INFO] __main__: 📊 Response size: 217 bytes
2025-05-24 18:13:26.192 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:26.192 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:26.192 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:26.193 [    INFO] __main__: ❌ create_requirement_package - 2.0ms - Score: 0.0%
2025-05-24 18:13:26.193 [    INFO] __main__: 🧪 INICIANDO PRUEBA: requirements.update_requirements
2025-05-24 18:13:26.193 [    INFO] __main__: 📋 ID de prueba: f326a1d5-7041-49c8-b65a-edb3fb9f3b2f
2025-05-24 18:13:26.194 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:26.193501
2025-05-24 18:13:26.194 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "f326a1d5-7041-49c8-b65a-edb3fb9f3b2f",
  "resource": "requirements",
  "payload": {
    "action": "update_requirements",
    "requirements_id": "949211e7-e9b4-4193-9f57-a599bdc619f0",
    "app_type": "mobile_app",
    "deadline": "2025-09-21"
  }
}
2025-05-24 18:13:26.195 [    INFO] __main__: 📊 Request size: 280 bytes
2025-05-24 18:13:26.195 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'requirements_id', 'app_type', 'deadline']
2025-05-24 18:13:26.223 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "f326a1d5-7041...": "2025-09-21"\n  }\n}' [280 bytes]
2025-05-24 18:13:26.224 [    INFO] __main__: 📤 Mensaje enviado en 1.0ms
2025-05-24 18:13:26.225 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"c7c465fd-2df5-429b-9be4-b...ement","details":null}}' [234 bytes]
2025-05-24 18:13:26.226 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"f326a1d5-7041-49c8-b65a-e...dates","details":null}}' [216 bytes]
2025-05-24 18:13:26.226 [    INFO] __main__: 📥 Respuesta recibida en 1.5ms
2025-05-24 18:13:26.227 [    INFO] __main__: ⏱️ Tiempo total: 3.5ms
2025-05-24 18:13:26.227 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "c7c465fd-2df5-429b-9be4-bc1b882eb8bf",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n create_requirement_package: Se requieren lead_qualification_id y requirement",
    "details": null
  }
}
2025-05-24 18:13:26.228 [    INFO] __main__: 📊 Response size: 234 bytes
2025-05-24 18:13:26.255 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:26.256 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:26.256 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:26.256 [    INFO] __main__: ❌ update_requirements - 3.5ms - Score: 0.0%
2025-05-24 18:13:26.256 [    INFO] __main__: 🧪 INICIANDO PRUEBA: requirements.add_feature
2025-05-24 18:13:26.256 [    INFO] __main__: 📋 ID de prueba: d11a745e-466a-456a-b777-8cf3f9f683f8
2025-05-24 18:13:26.257 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:26.256815
2025-05-24 18:13:26.258 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "d11a745e-466a-456a-b777-8cf3f9f683f8",
  "resource": "requirements",
  "payload": {
    "action": "add_feature",
    "requirements_id": "949211e7-e9b4-4193-9f57-a599bdc619f0",
    "name": "Chat Enhanced",
    "description": "Chat en tiempo real mejorado"
  }
}
2025-05-24 18:13:26.258 [    INFO] __main__: 📊 Request size: 292 bytes
2025-05-24 18:13:26.258 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'requirements_id', 'name', 'description']
2025-05-24 18:13:26.284 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "d11a745e-466a... real mejorado"\n  }\n}' [292 bytes]
2025-05-24 18:13:26.285 [    INFO] __main__: 📤 Mensaje enviado en 0.9ms
2025-05-24 18:13:26.285 [    INFO] __main__: 📥 Respuesta recibida en 0.0ms
2025-05-24 18:13:26.287 [    INFO] __main__: ⏱️ Tiempo total: 1.5ms
2025-05-24 18:13:26.288 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "f326a1d5-7041-49c8-b65a-edb3fb9f3b2f",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n update_requirements: Se requieren requirement_id y updates",
    "details": null
  }
}
2025-05-24 18:13:26.288 [    INFO] __main__: 📊 Response size: 216 bytes
2025-05-24 18:13:26.312 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:26.313 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:26.313 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:26.313 [    INFO] __main__: ❌ add_feature - 1.5ms - Score: 0.0%
2025-05-24 18:13:26.314 [    INFO] __main__: 🧪 INICIANDO PRUEBA: requirements.add_integration
2025-05-24 18:13:26.314 [    INFO] __main__: 📋 ID de prueba: 3e9f520c-2cfe-4489-9f7d-97c24da9f64a
2025-05-24 18:13:26.314 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:26.314026
2025-05-24 18:13:26.315 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "3e9f520c-2cfe-4489-9f7d-97c24da9f64a",
  "resource": "requirements",
  "payload": {
    "action": "add_integration",
    "requirements_id": "949211e7-e9b4-4193-9f57-a599bdc619f0",
    "name": "Stripe Enhanced",
    "description": "Pagos con tarjeta mejorados"
  }
}
2025-05-24 18:13:26.315 [    INFO] __main__: 📊 Request size: 297 bytes
2025-05-24 18:13:26.315 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action', 'requirements_id', 'name', 'description']
2025-05-24 18:13:26.319 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "3e9f520c-2cfe...jeta mejorados"\n  }\n}' [297 bytes]
2025-05-24 18:13:26.320 [    INFO] __main__: 📤 Mensaje enviado en 1.0ms
2025-05-24 18:13:26.321 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"d11a745e-466a-456a-b777-8...ature","details":null}}' [208 bytes]
2025-05-24 18:13:26.321 [   DEBUG] websockets.client: < TEXT '{"type":"error","id":"3e9f520c-2cfe-4489-9f7d-9...ation","details":null}}' [216 bytes]
2025-05-24 18:13:26.322 [    INFO] __main__: 📥 Respuesta recibida en 1.0ms
2025-05-24 18:13:26.322 [    INFO] __main__: ⏱️ Tiempo total: 3.0ms
2025-05-24 18:13:26.322 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "d11a745e-466a-456a-b777-8cf3f9f683f8",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n add_feature: Se requieren requirement_id y feature",
    "details": null
  }
}
2025-05-24 18:13:26.341 [    INFO] __main__: 📊 Response size: 208 bytes
2025-05-24 18:13:26.344 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:26.344 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:26.345 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:26.345 [    INFO] __main__: ❌ add_integration - 3.0ms - Score: 0.0%
2025-05-24 18:13:26.345 [    INFO] __main__: 🧪 INICIANDO PRUEBA: requirements.get_popular_features
2025-05-24 18:13:26.345 [    INFO] __main__: 📋 ID de prueba: e6389532-10ee-4a91-8b8e-1ac77cd6e9fc
2025-05-24 18:13:26.346 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:26.345593
2025-05-24 18:13:26.346 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "e6389532-10ee-4a91-8b8e-1ac77cd6e9fc",
  "resource": "requirements",
  "payload": {
    "action": "get_popular_features"
  }
}
2025-05-24 18:13:26.347 [    INFO] __main__: 📊 Request size: 158 bytes
2025-05-24 18:13:26.347 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:26.350 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "e6389532-10ee...pular_features"\n  }\n}' [158 bytes]
2025-05-24 18:13:26.351 [    INFO] __main__: 📤 Mensaje enviado en 1.0ms
2025-05-24 18:13:26.351 [    INFO] __main__: 📥 Respuesta recibida en 0.0ms
2025-05-24 18:13:26.352 [    INFO] __main__: ⏱️ Tiempo total: 1.0ms
2025-05-24 18:13:26.353 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "error",
  "id": "3e9f520c-2cfe-4489-9f7d-97c24da9f64a",
  "payload": {
    "code": "action_execution_error",
    "message": "Error al ejecutar acci\u00f3n add_integration: Se requieren requirement_id y integration",
    "details": null
  }
}
2025-05-24 18:13:26.354 [    INFO] __main__: 📊 Response size: 216 bytes
2025-05-24 18:13:26.375 [    INFO] __main__: ✅ Análisis completado - Success: False
2025-05-24 18:13:26.376 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:26.376 [    INFO] __main__: 📈 Records processed: 0
2025-05-24 18:13:26.376 [    INFO] __main__: ❌ get_popular_features - 1.0ms - Score: 0.0%
2025-05-24 18:13:26.376 [    INFO] __main__: 🧪 INICIANDO PRUEBA: requirements.get_popular_integrations
2025-05-24 18:13:26.377 [    INFO] __main__: 📋 ID de prueba: 7d35c2e1-6674-4c66-afa0-079ea0070405
2025-05-24 18:13:26.377 [    INFO] __main__: 🕐 Timestamp: 2025-05-24T18:13:26.376655
2025-05-24 18:13:26.378 [   DEBUG] __main__: 📤 REQUEST DATA:
{
  "type": "request",
  "id": "7d35c2e1-6674-4c66-afa0-079ea0070405",
  "resource": "requirements",
  "payload": {
    "action": "get_popular_integrations"
  }
}
2025-05-24 18:13:26.379 [    INFO] __main__: 📊 Request size: 162 bytes
2025-05-24 18:13:26.379 [    INFO] __main__: 📋 Fields sent: ['type', 'id', 'resource', 'payload', 'action']
2025-05-24 18:13:26.382 [   DEBUG] websockets.client: > TEXT '{\n  "type": "request",\n  "id": "7d35c2e1-6674...r_integrations"\n  }\n}' [162 bytes]
2025-05-24 18:13:26.383 [    INFO] __main__: 📤 Mensaje enviado en 0.5ms
2025-05-24 18:13:26.403 [   DEBUG] websockets.client: < TEXT '{"type":"response","id":"e6389532-10ee-4a91-8b8...count":1}],"limit":20}}' [795 bytes]
2025-05-24 18:13:26.404 [    INFO] __main__: 📥 Respuesta recibida en 20.3ms
2025-05-24 18:13:26.404 [    INFO] __main__: ⏱️ Tiempo total: 21.3ms
2025-05-24 18:13:26.405 [   DEBUG] __main__: 📥 RESPONSE DATA:
{
  "type": "response",
  "id": "e6389532-10ee-4a91-8b8e-1ac77cd6e9fc",
  "payload": {
    "popular_features": [
      {
        "name": "Login",
        "description": null,
        "count": 6
      },
      {
        "name": "Dashboard",
        "description": null,
        "count": 6
      },
      {
        "name": "Reportes",
        "description": null,
        "count": 6
      },
      {
        "name": "Gesti\u00f3n de usuarios",
        "description": null,
        "count": 6
      },
      {
        "name": "manejar el inventario",
        "description": null,
        "count": 1
      },
      {
        "name": "Publicada en la tienda de aplicaciones",
        "description": null,
        "count": 1
      },
      {
        "name": "multiplataforma",
        "description": null,
        "count": 1
      },
      {
        "name": "llevar el sistema de inventarios",
        "description": null,
        "count": 1
      },
      {
        "name": "ERP completo con procesos de HR",
        "description": null,
        "count": 1
      },
      {
        "name": "Chatbot AI con integraci\u00f3n a sistema ERP",
        "description": null,
        "count": 1
      },
      {
        "name": "gesti\u00f3n de notas",
        "description": null,
        "count": 1
      }
    ],
    "limit": 20
  }
}
2025-05-24 18:13:26.406 [    INFO] __main__: 📊 Response size: 795 bytes
2025-05-24 18:13:26.410 [    INFO] __main__: ✅ Análisis completado - Success: True
2025-05-24 18:13:26.410 [    INFO] __main__: 📊 Validation score: 0.0%
2025-05-24 18:13:26.411 [    INFO] __main__: 📈 Records processed: 11
2025-05-24 18:13:26.411 [    INFO] __main__: ✅ get_popular_integrations - 21.3ms - Score: 0.0%
2025-05-24 18:13:26.411 [    INFO] __main__: 📋 Requirements Handler testing completed

2025-05-24 18:13:26.411 [   DEBUG] websockets.client: > CLOSE 1000 (OK) [2 bytes]
2025-05-24 18:13:26.412 [   DEBUG] websockets.client: = connection is CLOSING
2025-05-24 18:13:26.412 [   DEBUG] websockets.client: < CLOSE 1000 (OK) [2 bytes]
2025-05-24 18:13:26.413 [   DEBUG] websockets.client: < EOF
2025-05-24 18:13:26.413 [   DEBUG] websockets.client: > EOF
2025-05-24 18:13:26.413 [   DEBUG] websockets.client: = connection is CLOSED
2025-05-24 18:13:26.413 [   DEBUG] websockets.client: x half-closing TCP connection
2025-05-24 18:13:26.414 [    INFO] __main__: 🔌 Conexión WebSocket cerrada
2025-05-24 18:13:26.414 [    INFO] __main__: 
====================================================================================================
2025-05-24 18:13:26.414 [    INFO] __main__: 📊 REPORTE COMPLETO ENHANCED - WEBSOCKET DEBUG TEST SUITE
2025-05-24 18:13:26.414 [    INFO] __main__: ====================================================================================================
2025-05-24 18:13:26.415 [    INFO] __main__: 
📈 RESUMEN EJECUTIVO ENHANCED:
2025-05-24 18:13:26.415 [    INFO] __main__: ┌──────────────────────────────────────────────────────────────────────────────────────────────────┐
2025-05-24 18:13:26.415 [    INFO] __main__: │ Total Handlers Probados: 7                                                                      │
2025-05-24 18:13:26.416 [    INFO] __main__: │ Total Funciones Probadas: 42                                                                    │
2025-05-24 18:13:26.416 [    INFO] __main__: │ Pruebas Exitosas: 23/42 (54.8%)                                                   │
2025-05-24 18:13:26.416 [    INFO] __main__: │ Pruebas Fallidas: 19/42 (45.2%)                                                    │
2025-05-24 18:13:26.416 [    INFO] __main__: │ Tiempo Total de Ejecución: 9.0 segundos                                                        │
2025-05-24 18:13:26.417 [    INFO] __main__: │ Promedio Tiempo Respuesta: 113.2ms                                                             │
2025-05-24 18:13:26.444 [    INFO] __main__: │ Promedio Score Validación: 45.2%                                                            │
2025-05-24 18:13:26.445 [    INFO] __main__: │ Total Datos Transferidos: 9.2 KB enviados, 88.5 KB recibidos                     │
2025-05-24 18:13:26.446 [    INFO] __main__: │ Conexiones WebSocket: 1 exitosas, 0 fallidas                                    │
2025-05-24 18:13:26.446 [    INFO] __main__: └──────────────────────────────────────────────────────────────────────────────────────────────────┘
2025-05-24 18:13:26.446 [    INFO] __main__: 
❌ ANÁLISIS DETALLADO DE ERRORES (19 errores encontrados):
2025-05-24 18:13:26.446 [    INFO] __main__: 
🔍 ERROR #1: users.get_user_by_id
2025-05-24 18:13:26.475 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción get_user_by_id: Usuario no encontrado
2025-05-24 18:13:26.476 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:19.816885
2025-05-24 18:13:26.477 [    INFO] __main__:    ⏱️ Tiempo ejecución: 53.2ms
2025-05-24 18:13:26.477 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.478 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.478 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['user'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.478 [    INFO] __main__:    📋 Campos faltantes: ['user']
2025-05-24 18:13:26.479 [    INFO] __main__: 
🔍 ERROR #2: users.update_user
2025-05-24 18:13:26.506 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción update_user: Usuario no encontrado: cc3733c4-c668-4fa0-b5cf-b6908770b488
2025-05-24 18:13:26.507 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:19.884862
2025-05-24 18:13:26.507 [    INFO] __main__:    ⏱️ Tiempo ejecución: 58.9ms
2025-05-24 18:13:26.507 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.507 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.508 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['user'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.508 [    INFO] __main__:    📋 Campos faltantes: ['user']
2025-05-24 18:13:26.508 [    INFO] __main__: 
🔍 ERROR #3: users.delete_user
2025-05-24 18:13:26.509 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción delete_user: Usuario no encontrado: cc3733c4-c668-4fa0-b5cf-b6908770b488
2025-05-24 18:13:26.510 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:19.974887
2025-05-24 18:13:26.510 [    INFO] __main__:    ⏱️ Tiempo ejecución: 51.3ms
2025-05-24 18:13:26.532 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.534 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.534 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['deleted'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.534 [    INFO] __main__:    📋 Campos faltantes: ['deleted']
2025-05-24 18:13:26.534 [    INFO] __main__: 
🔍 ERROR #4: conversations.get_all_conversations
2025-05-24 18:13:26.535 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción get_all_conversations: Usuario no encontrado: c9c74156-68c9-44de-b008-41d89bd56311
2025-05-24 18:13:26.535 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:20.061142
2025-05-24 18:13:26.535 [    INFO] __main__:    ⏱️ Tiempo ejecución: 57.9ms
2025-05-24 18:13:26.535 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.536 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.536 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['conversations'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.536 [    INFO] __main__:    📋 Campos faltantes: ['conversations']
2025-05-24 18:13:26.536 [    INFO] __main__: 
🔍 ERROR #5: conversations.create_conversation
2025-05-24 18:13:26.536 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción create_conversation: {'code': '23503', 'details': 'Key (user_id)=(c9c74156-68c9-44de-b008-41d89bd56311) is not present in table "users".', 'hint': None, 'message': 'insert or update on table "conversations" violates foreign key constraint "conversations_user_id_fkey"'}
2025-05-24 18:13:26.537 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:20.133440
2025-05-24 18:13:26.537 [    INFO] __main__:    ⏱️ Tiempo ejecución: 167.3ms
2025-05-24 18:13:26.538 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.538 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.538 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['conversation'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.538 [    INFO] __main__:    📋 Campos faltantes: ['conversation']
2025-05-24 18:13:26.538 [    INFO] __main__: 
🔍 ERROR #6: conversations.get_conversation_by_id
2025-05-24 18:13:26.539 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción get_conversation_by_id: Conversación no encontrada
2025-05-24 18:13:26.539 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:20.317005
2025-05-24 18:13:26.539 [    INFO] __main__:    ⏱️ Tiempo ejecución: 59.3ms
2025-05-24 18:13:26.540 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.540 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.540 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['conversation'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.540 [    INFO] __main__:    📋 Campos faltantes: ['conversation']
2025-05-24 18:13:26.540 [    INFO] __main__: 
🔍 ERROR #7: conversations.get_user_conversations
2025-05-24 18:13:26.540 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción get_user_conversations: Se requiere agent_enabled
2025-05-24 18:13:26.541 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:20.506717
2025-05-24 18:13:26.566 [    INFO] __main__:    ⏱️ Tiempo ejecución: 8.6ms
2025-05-24 18:13:26.567 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.568 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.568 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['conversations'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.569 [    INFO] __main__:    📋 Campos faltantes: ['conversations']
2025-05-24 18:13:26.569 [    INFO] __main__: 
🔍 ERROR #8: messages.send_message
2025-05-24 18:13:26.569 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción send_message: Se requieren datos de mensaje para crear
2025-05-24 18:13:26.570 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:20.602467
2025-05-24 18:13:26.570 [    INFO] __main__:    ⏱️ Tiempo ejecución: 3.0ms
2025-05-24 18:13:26.570 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.570 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.570 [    INFO] __main__:    ⚠️ Errores validación: Campos inesperados: ['code', 'details']
2025-05-24 18:13:26.571 [    INFO] __main__: 
🔍 ERROR #9: messages.update_message
2025-05-24 18:13:26.572 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción update_message: Se requieren datos para actualizar el mensaje
2025-05-24 18:13:26.572 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:20.875986
2025-05-24 18:13:26.572 [    INFO] __main__:    ⏱️ Tiempo ejecución: 3.0ms
2025-05-24 18:13:26.595 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.596 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.597 [    INFO] __main__:    ⚠️ Errores validación: Campos inesperados: ['code', 'details']
2025-05-24 18:13:26.597 [    INFO] __main__: 
🔍 ERROR #10: leads.get_lead_with_complete_data
2025-05-24 18:13:26.597 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción get_lead_with_complete_data: Lead no encontrado
2025-05-24 18:13:26.597 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:24.212509
2025-05-24 18:13:26.597 [    INFO] __main__:    ⏱️ Tiempo ejecución: 67.6ms
2025-05-24 18:13:26.598 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.598 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.598 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['lead'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.598 [    INFO] __main__:    📋 Campos faltantes: ['lead']
2025-05-24 18:13:26.599 [    INFO] __main__: 
🔍 ERROR #11: meetings.create_meeting
2025-05-24 18:13:26.599 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción create_meeting: cannot import name 'create_meeting' from 'App.Services.outlook' (C:\Users\Administrator\Desktop\Agent Test\App\Services\outlook.py)
2025-05-24 18:13:26.599 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:24.877644
2025-05-24 18:13:26.600 [    INFO] __main__:    ⏱️ Tiempo ejecución: 10.5ms
2025-05-24 18:13:26.600 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.600 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.600 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['meeting'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.601 [    INFO] __main__:    📋 Campos faltantes: ['meeting']
2025-05-24 18:13:26.601 [    INFO] __main__: 
🔍 ERROR #12: meetings.update_meeting
2025-05-24 18:13:26.601 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción update_meeting: cannot import name 'update_meeting' from 'App.Services.outlook' (C:\Users\Administrator\Desktop\Agent Test\App\Services\outlook.py)
2025-05-24 18:13:26.602 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:24.916288
2025-05-24 18:13:26.602 [    INFO] __main__:    ⏱️ Tiempo ejecución: 32.0ms
2025-05-24 18:13:26.602 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.602 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.602 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['meeting'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.603 [    INFO] __main__:    📋 Campos faltantes: ['meeting']
2025-05-24 18:13:26.604 [    INFO] __main__: 
🔍 ERROR #13: meetings.cancel_meeting
2025-05-24 18:13:26.604 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción cancel_meeting: Meeting no encontrada
2025-05-24 18:13:26.604 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:25.067587
2025-05-24 18:13:26.623 [    INFO] __main__:    ⏱️ Tiempo ejecución: 37.3ms
2025-05-24 18:13:26.624 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.624 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.624 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['meeting'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.624 [    INFO] __main__:    📋 Campos faltantes: ['meeting']
2025-05-24 18:13:26.625 [    INFO] __main__: 
🔍 ERROR #14: requirements.get_requirements_by_lead
2025-05-24 18:13:26.625 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción sync_outlook_calendar: cannot import name 'sync_calendar' from 'App.Services.outlook' (C:\Users\Administrator\Desktop\Agent Test\App\Services\outlook.py)
2025-05-24 18:13:26.625 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:26.040297
2025-05-24 18:13:26.625 [    INFO] __main__:    ⏱️ Tiempo ejecución: 3.0ms
2025-05-24 18:13:26.626 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.626 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.626 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['requirements'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.627 [    INFO] __main__:    📋 Campos faltantes: ['requirements']
2025-05-24 18:13:26.627 [    INFO] __main__: 
🔍 ERROR #15: requirements.create_requirement_package
2025-05-24 18:13:26.627 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción get_requirements_by_lead: Se requiere lead_qualification_id
2025-05-24 18:13:26.627 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:26.164382
2025-05-24 18:13:26.627 [    INFO] __main__:    ⏱️ Tiempo ejecución: 2.0ms
2025-05-24 18:13:26.628 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.629 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.629 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['requirement'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.630 [    INFO] __main__:    📋 Campos faltantes: ['requirement']
2025-05-24 18:13:26.632 [    INFO] __main__: 
🔍 ERROR #16: requirements.update_requirements
2025-05-24 18:13:26.633 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción create_requirement_package: Se requieren lead_qualification_id y requirement
2025-05-24 18:13:26.634 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:26.193501
2025-05-24 18:13:26.634 [    INFO] __main__:    ⏱️ Tiempo ejecución: 3.5ms
2025-05-24 18:13:26.634 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.634 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.661 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['requirement'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.661 [    INFO] __main__:    📋 Campos faltantes: ['requirement']
2025-05-24 18:13:26.662 [    INFO] __main__: 
🔍 ERROR #17: requirements.add_feature
2025-05-24 18:13:26.662 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción update_requirements: Se requieren requirement_id y updates
2025-05-24 18:13:26.663 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:26.256815
2025-05-24 18:13:26.663 [    INFO] __main__:    ⏱️ Tiempo ejecución: 1.5ms
2025-05-24 18:13:26.663 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.663 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.664 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['feature'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.664 [    INFO] __main__:    📋 Campos faltantes: ['feature']
2025-05-24 18:13:26.664 [    INFO] __main__: 
🔍 ERROR #18: requirements.add_integration
2025-05-24 18:13:26.665 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción add_feature: Se requieren requirement_id y feature
2025-05-24 18:13:26.666 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:26.314026
2025-05-24 18:13:26.666 [    INFO] __main__:    ⏱️ Tiempo ejecución: 3.0ms
2025-05-24 18:13:26.667 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.697 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.727 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['integration'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.728 [    INFO] __main__:    📋 Campos faltantes: ['integration']
2025-05-24 18:13:26.728 [    INFO] __main__: 
🔍 ERROR #19: requirements.get_popular_features
2025-05-24 18:13:26.756 [    INFO] __main__:    📋 Mensaje: Error al ejecutar acción add_integration: Se requieren requirement_id y integration
2025-05-24 18:13:26.756 [    INFO] __main__:    🕐 Timestamp: 2025-05-24T18:13:26.345593
2025-05-24 18:13:26.757 [    INFO] __main__:    ⏱️ Tiempo ejecución: 1.0ms
2025-05-24 18:13:26.757 [    INFO] __main__:    🌐 HTTP equivalente: 500
2025-05-24 18:13:26.757 [    INFO] __main__:    🔗 Estado WebSocket: 1
2025-05-24 18:13:26.758 [    INFO] __main__:    ⚠️ Errores validación: Campos faltantes: ['popular_features'], Campos inesperados: ['code', 'message', 'details']
2025-05-24 18:13:26.758 [    INFO] __main__:    📋 Campos faltantes: ['popular_features']
2025-05-24 18:13:26.758 [    INFO] __main__: 
⚡ MÉTRICAS DE RENDIMIENTO:
2025-05-24 18:13:26.759 [    INFO] __main__: • Función más rápida: requirements.get_popular_features (1.0ms)
2025-05-24 18:13:26.759 [    INFO] __main__: • Función más lenta: dashboard.get_agent_performance (1650.8ms)
2025-05-24 18:13:26.759 [    INFO] __main__: • Mejor validación: users.get_all_users (100.0%)
2025-05-24 18:13:26.759 [    INFO] __main__: • Peor validación: users.get_user_by_id (0.0%)
2025-05-24 18:13:26.769 [    INFO] __main__: 
🔌 ESTADÍSTICAS DE CONEXIÓN:
2025-05-24 18:13:26.772 [    INFO] __main__: • Total conexiones: 1
2025-05-24 18:13:26.790 [    INFO] __main__: • Conexiones fallidas: 0
2025-05-24 18:13:26.791 [    INFO] __main__: • Reconexiones: 0
2025-05-24 18:13:26.814 [    INFO] __main__: • Mensajes enviados: 42
2025-05-24 18:13:26.814 [    INFO] __main__: • Mensajes recibidos: 43
2025-05-24 18:13:26.814 [    INFO] __main__: 
📊 RESUMEN POR HANDLER:
2025-05-24 18:13:26.815 [    INFO] __main__: 
🔧 USERS: 2/5 exitosas, 61.0ms promedio, 40.0% validación
2025-05-24 18:13:26.815 [    INFO] __main__:    ✅ get_all_users: 81.0ms, 100.0% validación
2025-05-24 18:13:26.815 [    INFO] __main__:    ✅ create_user: 60.6ms, 100.0% validación
2025-05-24 18:13:26.815 [    INFO] __main__:    ❌ get_user_by_id: 53.2ms, 0.0% validación
2025-05-24 18:13:26.816 [    INFO] __main__:       💥 Error: Error al ejecutar acción get_user_by_id: Usuario no encontrado
2025-05-24 18:13:26.816 [    INFO] __main__:    ❌ update_user: 58.9ms, 0.0% validación
2025-05-24 18:13:26.816 [    INFO] __main__:       💥 Error: Error al ejecutar acción update_user: Usuario no encontrado: cc3733c4-c668-4fa0-b5cf-b6908770b488
2025-05-24 18:13:26.816 [    INFO] __main__:    ❌ delete_user: 51.3ms, 0.0% validación
2025-05-24 18:13:26.817 [    INFO] __main__:       💥 Error: Error al ejecutar acción delete_user: Usuario no encontrado: cc3733c4-c668-4fa0-b5cf-b6908770b488
2025-05-24 18:13:26.817 [    INFO] __main__: 
🔧 CONVERSATIONS: 2/6 exitosas, 61.8ms promedio, 33.3% validación
2025-05-24 18:13:26.817 [    INFO] __main__:    ❌ get_all_conversations: 57.9ms, 0.0% validación
2025-05-24 18:13:26.818 [    INFO] __main__:       💥 Error: Error al ejecutar acción get_all_conversations: Usuario no encontrado: c9c74156-68c9-44de-b008-41d89bd56311
2025-05-24 18:13:26.819 [    INFO] __main__:    ❌ create_conversation: 167.3ms, 0.0% validación
2025-05-24 18:13:26.819 [    INFO] __main__:       💥 Error: Error al ejecutar acción create_conversation: {'code': '23503', 'details': 'Key (user_id)=(c9c74156-68c9-44de-b008-41d89bd56311) is not present in table "users".', 'hint': None, 'message': 'insert or update on table "conversations" violates foreign key constraint "conversations_user_id_fkey"'}
2025-05-24 18:13:26.819 [    INFO] __main__:    ❌ get_conversation_by_id: 59.3ms, 0.0% validación
2025-05-24 18:13:26.819 [    INFO] __main__:       💥 Error: Error al ejecutar acción get_conversation_by_id: Conversación no encontrada
2025-05-24 18:13:26.819 [    INFO] __main__:    ✅ close_conversation: 39.8ms, 100.0% validación
2025-05-24 18:13:26.820 [    INFO] __main__:    ✅ update_agent_status: 37.7ms, 100.0% validación
2025-05-24 18:13:26.820 [    INFO] __main__:    ❌ get_user_conversations: 8.6ms, 0.0% validación
2025-05-24 18:13:26.820 [    INFO] __main__:       💥 Error: Error al ejecutar acción get_user_conversations: Se requiere agent_enabled
2025-05-24 18:13:26.821 [    INFO] __main__: 
🔧 MESSAGES: 4/6 exitosas, 38.6ms promedio, 66.7% validación
2025-05-24 18:13:26.821 [    INFO] __main__:    ✅ get_all_messages: 55.3ms, 100.0% validación
2025-05-24 18:13:26.821 [    INFO] __main__:    ❌ send_message: 3.0ms, 100.0% validación
2025-05-24 18:13:26.821 [    INFO] __main__:       💥 Error: Error al ejecutar acción send_message: Se requieren datos de mensaje para crear
2025-05-24 18:13:26.822 [    INFO] __main__:    ✅ get_conversation_messages: 48.5ms, 100.0% validación
2025-05-24 18:13:26.833 [    INFO] __main__:    ✅ mark_as_read: 55.8ms, 0.0% validación
2025-05-24 18:13:26.837 [    INFO] __main__:    ✅ delete_message: 66.1ms, 0.0% validación
2025-05-24 18:13:26.851 [    INFO] __main__:    ❌ update_message: 3.0ms, 100.0% validación
2025-05-24 18:13:26.853 [    INFO] __main__:       💥 Error: Error al ejecutar acción update_message: Se requieren datos para actualizar el mensaje
2025-05-24 18:13:26.853 [    INFO] __main__: 
🔧 DASHBOARD: 5/5 exitosas, 498.2ms promedio, 80.0% validación
2025-05-24 18:13:26.853 [    INFO] __main__:    ✅ get_dashboard_stats: 375.4ms, 100.0% validación
2025-05-24 18:13:26.854 [    INFO] __main__:    ✅ get_conversion_funnel: 229.0ms, 100.0% validación
2025-05-24 18:13:26.854 [    INFO] __main__:    ✅ get_activity_timeline: 107.6ms, 100.0% validación
2025-05-24 18:13:26.881 [    INFO] __main__:    ✅ get_agent_performance: 1650.8ms, 0.0% validación
2025-05-24 18:13:26.885 [    INFO] __main__:    ✅ get_real_time_metrics: 128.2ms, 100.0% validación
2025-05-24 18:13:26.912 [    INFO] __main__: 
🔧 LEADS: 5/6 exitosas, 140.6ms promedio, 83.3% validación
2025-05-24 18:13:26.912 [    INFO] __main__:    ✅ get_all_leads: 44.7ms, 100.0% validación
2025-05-24 18:13:26.913 [    INFO] __main__:    ✅ get_lead_pipeline: 421.7ms, 100.0% validación
2025-05-24 18:13:26.913 [    INFO] __main__:    ❌ get_lead_with_complete_data: 67.6ms, 0.0% validación
2025-05-24 18:13:26.913 [    INFO] __main__:       💥 Error: Error al ejecutar acción get_lead_with_complete_data: Lead no encontrado
2025-05-24 18:13:26.914 [    INFO] __main__:    ✅ update_lead_step: 65.3ms, 100.0% validación
2025-05-24 18:13:26.914 [    INFO] __main__:    ✅ get_conversion_stats: 200.7ms, 100.0% validación
2025-05-24 18:13:26.914 [    INFO] __main__:    ✅ get_abandoned_leads: 43.7ms, 100.0% validación
2025-05-24 18:13:26.915 [    INFO] __main__: 
🔧 MEETINGS: 4/7 exitosas, 68.1ms promedio, 28.6% validación
2025-05-24 18:13:26.915 [    INFO] __main__:    ✅ get_all_meetings: 49.8ms, 100.0% validación
2025-05-24 18:13:26.915 [    INFO] __main__:    ✅ get_calendar_view: 41.2ms, 100.0% validación
2025-05-24 18:13:26.915 [    INFO] __main__:    ❌ create_meeting: 10.5ms, 0.0% validación
2025-05-24 18:13:26.916 [    INFO] __main__:       💥 Error: Error al ejecutar acción create_meeting: cannot import name 'create_meeting' from 'App.Services.outlook' (C:\Users\Administrator\Desktop\Agent Test\App\Services\outlook.py)
2025-05-24 18:13:26.943 [    INFO] __main__:    ❌ update_meeting: 32.0ms, 0.0% validación
2025-05-24 18:13:26.943 [    INFO] __main__:       💥 Error: Error al ejecutar acción update_meeting: cannot import name 'update_meeting' from 'App.Services.outlook' (C:\Users\Administrator\Desktop\Agent Test\App\Services\outlook.py)
2025-05-24 18:13:26.944 [    INFO] __main__:    ❌ cancel_meeting: 37.3ms, 0.0% validación
2025-05-24 18:13:26.944 [    INFO] __main__:       💥 Error: Error al ejecutar acción cancel_meeting: Meeting no encontrada
2025-05-24 18:13:26.944 [    INFO] __main__:    ✅ get_available_slots: 2.5ms, 0.0% validación
2025-05-24 18:13:26.945 [    INFO] __main__:    ✅ sync_outlook_calendar: 303.7ms, 0.0% validación
2025-05-24 18:13:26.945 [    INFO] __main__: 
🔧 REQUIREMENTS: 1/7 exitosas, 5.0ms promedio, 0.0% validación
2025-05-24 18:13:26.945 [    INFO] __main__:    ❌ get_requirements_by_lead: 3.0ms, 0.0% validación
2025-05-24 18:13:26.945 [    INFO] __main__:       💥 Error: Error al ejecutar acción sync_outlook_calendar: cannot import name 'sync_calendar' from 'App.Services.outlook' (C:\Users\Administrator\Desktop\Agent Test\App\Services\outlook.py)
2025-05-24 18:13:26.945 [    INFO] __main__:    ❌ create_requirement_package: 2.0ms, 0.0% validación
2025-05-24 18:13:26.946 [    INFO] __main__:       💥 Error: Error al ejecutar acción get_requirements_by_lead: Se requiere lead_qualification_id
2025-05-24 18:13:26.947 [    INFO] __main__:    ❌ update_requirements: 3.5ms, 0.0% validación
2025-05-24 18:13:26.947 [    INFO] __main__:       💥 Error: Error al ejecutar acción create_requirement_package: Se requieren lead_qualification_id y requirement
2025-05-24 18:13:26.947 [    INFO] __main__:    ❌ add_feature: 1.5ms, 0.0% validación
2025-05-24 18:13:26.948 [    INFO] __main__:       💥 Error: Error al ejecutar acción update_requirements: Se requieren requirement_id y updates
2025-05-24 18:13:26.948 [    INFO] __main__:    ❌ add_integration: 3.0ms, 0.0% validación
2025-05-24 18:13:26.948 [    INFO] __main__:       💥 Error: Error al ejecutar acción add_feature: Se requieren requirement_id y feature
2025-05-24 18:13:26.958 [    INFO] __main__:    ❌ get_popular_features: 1.0ms, 0.0% validación
2025-05-24 18:13:26.959 [    INFO] __main__:       💥 Error: Error al ejecutar acción add_integration: Se requieren requirement_id y integration
2025-05-24 18:13:26.960 [    INFO] __main__:    ✅ get_popular_integrations: 21.3ms, 0.0% validación
2025-05-24 18:13:26.962 [    INFO] __main__: 
🕐 Finalizado: 2025-05-24 18:13:26
2025-05-24 18:13:26.965 [    INFO] __main__: 📁 Log completo guardado en: App\WebSockets\logs\websocket_test_20250524_181309.log
2025-05-24 18:13:26.995 [    INFO] __main__: ====================================================================================================
